/* Â© 2016 Zaption, Inc. All rights reserved. Modification of this file, or reuse of its contents outside of its original context, is forbidden. */
/*
 Deferred Updates plugin for Knockout http://knockoutjs.com/
 (c) Michael Best, Steven Sanderson
 License: MIT (http://www.opensource.org/licenses/mit-license.php)
 Version 3.3.1
*/
(function(b,d){"use awesome";if(b.trackJs)b.console&&b.console.warn&&b.console.warn("TrackJS global conflict");else{var c=function(a,b,c,e,d){this.util=a;this.onError=b;this.onFault=c;this.options=d;d.enabled&&this.initialize(e)};c.prototype={initialize:function(a){a.addEventListener&&(this.wrapAndCatch(a.Element.prototype,"addEventListener",1),this.wrapAndCatch(a.XMLHttpRequest.prototype,"addEventListener",1),this.wrapRemoveEventListener(a.Element.prototype),this.wrapRemoveEventListener(a.XMLHttpRequest.prototype));
this.wrapAndCatch(a,"setTimeout",0);this.wrapAndCatch(a,"setInterval",0)},wrapAndCatch:function(b,c,e){var d=this,f=b[c];d.util.hasFunction(f,"apply")&&(b[c]=function(){try{var g=Array.prototype.slice.call(arguments),h=g[e],k,l;if(d.options.bindStack)try{throw Error();}catch(m){l=m.stack,k=d.util.isoNow()}if("addEventListener"!==c||(this._trackJsEvt||(this._trackJsEvt=new a),!this._trackJsEvt.getWrapped(g[0],h,g[2])))return h&&d.util.hasFunction(h,"apply")&&(g[e]=function(){try{return h.apply(this,
arguments)}catch(a){throw d.onError("catch",a,{bindTime:k,bindStack:l}),d.util.wrapError(a);}},"addEventListener"===c&&this._trackJsEvt.add(g[0],h,g[2],g[e])),f.apply(this,g)}catch(n){b[c]=f,d.onFault(n)}})},wrapRemoveEventListener:function(a){if(a&&a.removeEventListener&&this.util.hasFunction(a.removeEventListener,"call")){var b=a.removeEventListener;a.removeEventListener=function(a,c,e){if(this._trackJsEvt){var d=this._trackJsEvt.getWrapped(a,c,e);d&&this._trackJsEvt.remove(a,c,e);return b.call(this,
a,d,e)}return b.call(this,a,c,e)}}}};var a=function(){this.events=[]};a.prototype={add:function(a,b,c,e){-1>=this.indexOf(a,b,c)&&this.events.push([a,b,!!c,e])},remove:function(a,b,c){a=this.indexOf(a,b,!!c);0<=a&&this.events.splice(a,1)},getWrapped:function(a,b,c){a=this.indexOf(a,b,!!c);if(0<=a)return this.events[a][3]},indexOf:function(a,b,c){for(var e=0;e<this.events.length;e++)if(this.events[e][0]===a&&this.events[e][1]===b&&this.events[e][2]===!!c)return e;return-1}};var e=function(a,b){this.util=
a;this.initCurrent(b)};e.prototype={current:{},initOnly:{enabled:!0,token:!0,callback:{enabled:!0},console:{enabled:!0},network:{enabled:!0},visitor:{enabled:!0},window:{enabled:!0}},defaults:{application:"",enabled:!0,onError:function(){return!0},serialize:function(a){return a.toString()},sessionId:"",token:"",userId:"",version:"",callback:{enabled:!0,bindStack:!1},console:{enabled:!0,display:!0,error:!0,watch:["log","debug","info","warn","error"]},network:{enabled:!0,error:!0},visitor:{enabled:!0},
window:{enabled:!0}},initCurrent:function(a){if(this.validate(a,this.defaults,"config",{}))return this.current=this.util.extend(this.current,this.defaults,a),!0;this.current=this.util.extend(this.current,this.defaults);return!1},setCurrent:function(a){return this.validate(a,this.defaults,"config",this.initOnly)?(this.current=this.util.extend(this.current,a),!0):!1},validate:function(a,b,c,e){var d=!0;c=c||"";e=e||{};for(var f in a)if(a.hasOwnProperty(f))if(b.hasOwnProperty(f)){var g=typeof b[f];g!==
typeof a[f]?(console.warn(c+"."+f+": property must be type "+g+"."),d=!1):"[object Array]"!==Object.prototype.toString.call(a[f])||this.validateArray(a[f],b[f],c+"."+f)?"[object Object]"===Object.prototype.toString.call(a[f])?d=this.validate(a[f],b[f],c+"."+f,e[f]):e.hasOwnProperty(f)&&(console.warn(c+"."+f+": property cannot be set after load."),d=!1):d=!1}else console.warn(c+"."+f+": property not supported."),d=!1;return d},validateArray:function(a,b,c){var e=!0;c=c||"";for(var d=0;d<a.length;d++)this.util.contains(b,
a[d])||(console.warn(c+"["+d+"]: invalid value: "+a[d]+"."),e=!1);return e}};var g=function(a,b,c,e,d,f,g){this.util=a;this.log=b;this.onError=c;this.onFault=e;this.serialize=d;g.enabled&&(f.console=this.wrapConsoleObject(f.console,g))};g.prototype={wrapConsoleObject:function(a,b){a=a||{};var c=a.log||function(){},e=this,d;for(d=0;d<b.watch.length;d++)(function(d){var f=a[d]||c;a[d]=function(){try{var a=Array.prototype.slice.call(arguments);e.log.add("c",{timestamp:e.util.isoNow(),severity:d,message:e.serialize(a)});
if(b.error&&"error"===d)e.onError("console",a[0]);b.display&&(e.util.hasFunction(f,"apply")?f.apply(this,a):f(a[0],a[1],a[2]))}catch(c){e.onFault(c)}}})(b.watch[d]);return a},report:function(){return this.log.all("c")}};var h=function(a,b,c,e,d){this.config=a;this.util=b;this.log=c;this.window=e;this.document=d;this.correlationId=this.token=null;this.initialize()};h.prototype={initialize:function(){this.token=this.getCustomerToken();this.correlationId=this.getCorrelationId()},getCustomerToken:function(){if(this.config.current.token)return this.config.current.token;
var a=this.document.getElementsByTagName("script");return a[a.length-1].getAttribute("data-token")},getCorrelationId:function(){var a;try{(a=this.document.cookie.replace(/(?:(?:^|.*;\s*)TrackJS\s*\=\s*([^;]*).*$)|^.*$/,"$1"))||(a=this.util.uuid(),this.document.cookie="TrackJS="+a+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/")}catch(b){a=this.util.uuid()}return a},report:function(){return{application:this.config.current.application,correlationId:this.correlationId,sessionId:this.config.current.sessionId,
token:this.token,userId:this.config.current.userId,version:this.config.current.version}}};var k=function(a){this.loadedOn=(new Date).getTime();this.window=a};k.prototype={discoverDependencies:function(){var a,b={};this.window.jQuery&&this.window.jQuery.fn&&this.window.jQuery.fn.jquery&&(b.jQuery=this.window.jQuery.fn.jquery);this.window.jQuery&&this.window.jQuery.ui&&this.window.jQuery.ui.version&&(b.jQueryUI=this.window.jQuery.ui.version);this.window.angular&&this.window.angular.version&&this.window.angular.version.full&&
(b.angular=this.window.angular.version.full);for(a in this.window)if("_trackJs"!==a&&"_trackJS"!==a&&"_trackjs"!==a&&"webkitStorageInfo"!==a)try{if(this.window[a]){var c=this.window[a].version||this.window[a].Version||this.window[a].VERSION;"string"===typeof c&&(b[a]=c)}}catch(e){}return b},report:function(){return{age:(new Date).getTime()-this.loadedOn,dependencies:this.discoverDependencies(),userAgent:this.window.navigator.userAgent,viewportHeight:this.window.document.documentElement.clientHeight,
viewportWidth:this.window.document.documentElement.clientWidth}}};var m=function(a){this.util=a;this.appenders={}};m.prototype={all:function(a){a=this.getAppender(a);for(var b=[],c=0;c<a.length;c++)b.push(a[c].value);return b},clear:function(){for(var a in this.appenders)this.appenders.hasOwnProperty(a)&&(this.appenders[a].length=0)},getAppender:function(a){this.appenders[a]||(this.appenders[a]=[]);return this.appenders[a]},truncateAppender:function(a,b){var c=this.getAppender(a);c.length>b&&(this.appenders[a]=
c.slice(Math.max(c.length-b,0)))},add:function(a,b){var c=this.getAppender(a),e=this.util.uuid();c.push({key:e,value:b});this.truncateAppender(a,10);return e},get:function(a,b){for(var c=this.getAppender(a),e=0;e<c.length;e++)if(c[e].key===b)return c[e].value;return!1}};var l=function(a,b,c,e,d,f){this.util=a;this.log=b;this.onError=c;this.onFault=e;this.window=d;this.options=f;f.enabled&&this.initialize(d)};l.prototype={initialize:function(a){a.XMLHttpRequest&&this.util.hasFunction(a.XMLHttpRequest.prototype.open,
"apply")&&this.watchNetworkObject(a.XMLHttpRequest);a.XDomainRequest&&this.util.hasFunction(a.XDomainRequest.prototype.open,"apply")&&this.watchNetworkObject(a.XDomainRequest)},watchNetworkObject:function(a){var b=this,c=a.prototype.open,e=a.prototype.send;a.prototype.open=function(a,b){this._trackJs={method:a,url:b};return c.apply(this,arguments)};a.prototype.send=function(){try{if(!this._trackJs)return e.apply(this,arguments);this._trackJs.logId=b.log.add("n",{startedOn:b.util.isoNow(),method:this._trackJs.method,
url:this._trackJs.url});b.listenForNetworkComplete(this)}catch(a){b.onFault(a)}return e.apply(this,arguments)};return a},listenForNetworkComplete:function(a){var b=this;b.window.ProgressEvent&&a.addEventListener&&a.addEventListener("readystatechange",function(){4===a.readyState&&b.finalizeNetworkEvent(a)},!0);a.addEventListener?a.addEventListener("load",function(){b.finalizeNetworkEvent(a);b.checkNetworkFault(a)},!0):setTimeout(function(){try{var c=a.onload;a.onload=function(){b.finalizeNetworkEvent(a);
b.checkNetworkFault(a);"function"===typeof c&&b.util.hasFunction(c,"apply")&&c.apply(a,arguments)};var e=a.onerror;a.onerror=function(){b.finalizeNetworkEvent(a);b.checkNetworkFault(a);"function"===typeof oldOnError&&e.apply(a,arguments)}}catch(d){b.onFault(d)}},0)},finalizeNetworkEvent:function(a){if(a._trackJs){var b=this.log.get("n",a._trackJs.logId);b&&(b.completedOn=this.util.isoNow(),b.statusCode=1223==a.status?204:a.status,b.statusText=1223==a.status?"No Content":a.statusText,a._trackJs=void 0)}},
checkNetworkFault:function(a){if(this.options.error&&400<=a.status&&1223!=a.status)this.onError("ajax",a.status+" "+a.statusText)},report:function(){return this.log.all("n")}};var n=function(a){this.util=a;this.disabled=!1;this.throttleStats={attemptCount:0,throttledCount:0,lastAttempt:(new Date).getTime()};b.JSON&&b.JSON.stringify||(this.disabled=!0)};n.prototype={errorEndpoint:function(a,b){b=(b||"https://capture.trackjs.com/capture")+("?token="+a);return this.util.isBrowserIE()?"//"+b.split("://")[1]:
b},usageEndpoint:function(a){return this.appendObjectAsQuery(a,"https://usage.trackjs.com/usage.gif")},trackerFaultEndpoint:function(a){return this.appendObjectAsQuery(a,"https://usage.trackjs.com/fault.gif")},appendObjectAsQuery:function(a,b){b+="?";for(var c in a)a.hasOwnProperty(c)&&(b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c])+"&");return b},getCORSRequest:function(a,c){var e=new b.XMLHttpRequest;"withCredentials"in e?(e.open(a,c),e.setRequestHeader("Content-Type","text/plain")):"undefined"!==
typeof b.XDomainRequest?(e=new b.XDomainRequest,e.open(a,c)):e=null;return e},sendTrackerFault:function(a){this.throttle(a)||((new Image).src=this.trackerFaultEndpoint(a))},sendUsage:function(a){(new Image).src=this.usageEndpoint(a)},sendError:function(a,c){var e=this;if(!this.disabled&&!this.throttle(a))try{var d=this.getCORSRequest("POST",this.errorEndpoint(c));d.onreadystatechange=function(){4===d.readyState&&200!==d.status&&(e.disabled=!0)};d._trackJs=void 0;d.send(b.JSON.stringify(a))}catch(f){throw this.disabled=
!0,f;}},throttle:function(a){var b=(new Date).getTime();this.throttleStats.attemptCount++;if(this.throttleStats.lastAttempt+1E3>=b){if(this.throttleStats.lastAttempt=b,10<this.throttleStats.attemptCount)return this.throttleStats.throttledCount++,!0}else a.throttled=this.throttleStats.throttledCount,this.throttleStats.attemptCount=0,this.throttleStats.lastAttempt=b,this.throttleStats.throttledCount=0;return!1}};var p=function(a){this.window=a};p.prototype={bind:function(a,b){return function(){return a.apply(b,
Array.prototype.slice.call(arguments))}},contains:function(a,b){var c;for(c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},defer:function(a,b){setTimeout(function(){a.apply(b)})},extend:function(a){for(var b,c=Array.prototype.slice.call(arguments,1),e=0;e<c.length;e++)for(b in c[e])null===c[e][b]||void 0===c[e][b]?a[b]=c[e][b]:"[object Object]"===Object.prototype.toString.call(c[e][b])?(a[b]=a[b]||{},this.extend(a[b],c[e][b])):a[b]=c[e][b];return a},hasFunction:function(a,b){try{return!!a[b]}catch(c){return!1}},
isBrowserIE:function(){var a=this.window.navigator.userAgent,b=a.match(/Trident\/([\d.]+)/);return b&&"7.0"===b[1]?11:(a=a.match(/MSIE ([\d.]+)/))?parseInt(a[1],10):!1},isBrowserSupported:function(){var a=this.isBrowserIE();return!a||8<=a},isoNow:function(){var a=new Date;return a.toISOString?a.toISOString():a.getUTCFullYear()+"-"+this.pad(a.getUTCMonth()+1)+"-"+this.pad(a.getUTCDate())+"T"+this.pad(a.getUTCHours())+":"+this.pad(a.getUTCMinutes())+":"+this.pad(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/
1E3).toFixed(3)).slice(2,5)+"Z"},pad:function(a){a=String(a);1===a.length&&(a="0"+a);return a},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})},wrapError:function(a){if(a.innerError)return a;var b=Error("TrackJS Caught: "+(a.message||a));b.description="TrackJS Caught: "+a.description;b.file=a.file;b.line=a.line||a.lineNumber;b.column=a.column||a.columnNumber;b.stack=a.stack;b.innerError=a;return b}};
var f=function(a,b,c,e,d,f){this.util=a;this.log=b;this.onError=c;this.onFault=e;this.options=f;this.document=d;f.enabled&&this.initialize(d)};f.prototype={initialize:function(a){var b=this.util.bind(this.onDocumentClicked,this),c=this.util.bind(this.onInputChanged,this);a.addEventListener?(a.addEventListener("click",b,!0),a.addEventListener("blur",c,!0)):a.attachEvent&&(a.attachEvent("onclick",b),a.attachEvent("onfocusout",c))},onDocumentClicked:function(a){try{var b=this.getElementFromEvent(a);
b&&b.tagName&&(this.isDescribedElement(b,"a")||this.isDescribedElement(b,"button")||this.isDescribedElement(b,"input",["button","submit"])?this.writeVisitorEvent(b,"click"):this.isDescribedElement(b,"input",["checkbox","radio"])&&this.writeVisitorEvent(b,"input",b.value,b.checked))}catch(c){this.onFault(c)}},onInputChanged:function(a){try{var b=this.getElementFromEvent(a);if(b&&b.tagName)if(this.isDescribedElement(b,"textarea"))this.writeVisitorEvent(b,"input",b.value);else if(this.isDescribedElement(b,
"select")&&b.options&&b.options.length)this.onSelectInputChanged(b);else this.isDescribedElement(b,"input")&&!this.isDescribedElement(b,"input",["button","submit","hidden","checkbox","radio"])&&this.writeVisitorEvent(b,"input",b.value)}catch(c){this.onFault(c)}},onSelectInputChanged:function(a){if(a.multiple)for(var b=0;b<a.options.length;b++)a.options[b].selected&&this.writeVisitorEvent(a,"input",a.options[b].value);else 0<=a.selectedIndex&&a.options[a.selectedIndex]&&this.writeVisitorEvent(a,"input",
a.options[a.selectedIndex].value)},writeVisitorEvent:function(a,b,c,e){"password"===this.getElementType(a)&&(c=void 0);this.log.add("v",{timestamp:this.util.isoNow(),action:b,element:{tag:a.tagName.toLowerCase(),attributes:this.getElementAttributes(a),value:this.getMetaValue(c,e)}})},getElementFromEvent:function(a){return a.target||d.elementFromPoint(a.clientX,a.clientY)},isDescribedElement:function(a,b,c){if(a.tagName.toLowerCase()!==b.toLowerCase())return!1;if(!c)return!0;a=this.getElementType(a);
for(b=0;b<c.length;b++)if(c[b]===a)return!0;return!1},getElementType:function(a){return(a.getAttribute("type")||"").toLowerCase()},getElementAttributes:function(a){for(var b={},c=0;c<a.attributes.length;c++)"value"!==a.attributes[c].name.toLowerCase()&&(b[a.attributes[c].name]=a.attributes[c].value);return b},getMetaValue:function(a,b){return void 0===a?void 0:{length:a.length,pattern:this.matchInputPattern(a),checked:b}},matchInputPattern:function(a){return""===a?"empty":/^[a-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(a)?
"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(a)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(a)?"date":/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(a)?"usphone":/^\s*$/.test(a)?"whitespace":/^\d*$/.test(a)?"numeric":/^[a-zA-Z]*$/.test(a)?
"alpha":/^[a-zA-Z0-9]*$/.test(a)?"alphanumeric":"characters"},report:function(){return this.log.all("v")}};var q=function(a,b,c,e,d){this.onError=a;this.onFault=b;this.serialize=c;d.enabled&&this.watchWindowErrors(e)};q.prototype={watchWindowErrors:function(a){var b=this;a.onerror=function(a,c,e,d,f){try{f||(f={},f.message=b.serialize(a),f.file=b.serialize(c),f.line=parseInt(e,10)||null,f.column=parseInt(d,10)||null),b.onError("window",f)}catch(g){b.onFault(g)}}}};var r=function(a,b,c,e,d,f,g,h,k,
l,m,n,r,D,p,q){try{this.window=p,this.document=q,this.util=new m(this.window),this.onError=this.util.bind(this.onError,this),this.onFault=this.util.bind(this.onFault,this),this.serialize=this.util.bind(this.serialize,this),this.transmitter=new l(this.util),this.config=new e(this.util,a),this.log=new h(this.util),this.api=new b(this.config,this.util,this.onError),this.environment=new g(this.window),this.customer=new f(this.config,this.util,this.log,this.window,this.document),this.customer.token&&(this.transmitter.sendUsage({token:this.customer.token,
correlationId:this.customer.correlationId,x:this.util.uuid()}),this.apiConsoleWatcher=new d(this.util,this.log,this.onError,this.onFault,this.serialize,this.api,this.config.defaults.console),this.windowConsoleWatcher=new d(this.util,this.log,this.onError,this.onFault,this.serialize,this.window,this.config.current.console),this.util.isBrowserSupported()&&this.config.current.enabled&&(this.callbackWatcher=new c(this.util,this.onError,this.onFault,this.window,this.config.current.callback),this.visitorWatcher=
new n(this.util,this.log,this.onError,this.onFault,this.document,this.config.current.visitor),this.networkWatcher=new k(this.util,this.log,this.onError,this.onFault,this.window,this.config.current.network),this.windowWatcher=new r(this.onError,this.onFault,this.serialize,this.window,this.config.current.window)))}catch(V){this.onFault(V)}};r.prototype={reveal:function(){if(this.customer.token)return this.api;this.window.console&&this.window.console.warn&&this.window.console.warn("TrackJS could not find a token")},
onError:function(a,c,e){if(this.util.isBrowserSupported()&&this.config.current.enabled)try{c=c||{};e=e||{bindStack:null,bindTime:null,force:!1};var d=c.message||c;if(!d||!d.indexOf||-1===d.indexOf("TrackJS Caught")){var f=this.util.extend({},{bindStack:e.bindStack,bindTime:e.bindTime,column:c.column||c.columnNumber,console:this.windowConsoleWatcher.report(),customer:this.customer.report(),entry:a,environment:this.environment.report(),file:c.file||c.fileName,line:c.line||c.lineNumber,message:e.force?
d:this.serialize(d),network:this.networkWatcher.report(),url:(b.location||"").toString(),stack:c.stack,timestamp:this.util.isoNow(),visitor:this.visitorWatcher.report(),version:"2.0.3"});if(!e.force)try{if(!this.config.current.onError(f))return}catch(g){f.console.push({timestamp:this.util.isoNow(),severity:"error",message:g.message});var h=this;setTimeout(function(){h.onError("catch",g,{force:!0})},0)}this.log.clear();this.transmitter.sendError(f,this.customer.token)}}catch(k){console.log(k),this.onFault(k)}},
onFault:function(a){var b=this.transmitter||new n;a=a||{};a={token:this.customer.token,file:a.file||a.fileName,msg:a.message||"unknown",stack:(a.stack||"unknown").substr(0,500),url:this.window.location,v:"2.0.3",x:this.util.uuid()};b.sendTrackerFault(a)},serialize:function(a){if(this.config&&this.config.current&&this.config.current.serialize)try{return this.config.current.serialize(a)}catch(b){return this.onError("catch",b,{force:!0}),this.util&&this.util.hasFunction(a,"toString")?a.toString():"unknown"}}};
c=new r(b._trackJs||b._trackJS||b._trackjs||{},function(a,b,c){return{attempt:function(a,e){try{var d=Array.prototype.slice.call(arguments,2);return a.apply(e||this,d)}catch(f){throw c("catch",f),b.wrapError(f);}},configure:function(b){return a.setCurrent(b)},track:function(a){a=a||{};if(!a.stack)try{throw Error(a);}catch(b){a=b}c("direct",a)},watch:function(a,e){return function(){try{var d=Array.prototype.slice.call(arguments,0);return a.apply(e||this,d)}catch(f){throw c("catch",f),b.wrapError(f);
}}},watchAll:function(a){var e=Array.prototype.slice.call(arguments,1),d;for(d in a)"function"===typeof a[d]&&(b.contains(e,d)||function(){var e=a[d];a[d]=function(){try{var a=Array.prototype.slice.call(arguments,0);return e.apply(this,a)}catch(d){throw c("catch",d),b.wrapError(d);}}}())},version:"2.0.3"}},c,e,g,h,k,m,l,n,p,f,q,a,b,d);b.trackJs=c.reveal()}})(window,document);
(function(b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).debug=b()})(function(){return function d(c,a,e){function g(k,l){if(!a[k]){if(!c[k]){var n="function"==typeof require&&require;if(!l&&n)return n(k,!0);if(h)return h(k,!0);n=Error("Cannot find module '"+k+"'");throw n.code="MODULE_NOT_FOUND",n;}n=a[k]={exports:{}};
c[k][0].call(n.exports,function(a){var e=c[k][1][a];return g(e?e:a)},n,n.exports,d,c,a,e)}return a[k].exports}for(var h="function"==typeof require&&require,k=0;k<e.length;k++)g(e[k]);return g}({1:[function(d,c,a){function e(c){function e(){}function d(){var c=d,e=+new Date;c.diff=e-(h||e);c.prev=h;h=c.curr=e;null==c.useColors&&(c.useColors=a.useColors());null==c.color&&c.useColors&&(c.color=a.colors[g++%a.colors.length]);var k=Array.prototype.slice.call(arguments);k[0]=a.coerce(k[0]);"string"!==typeof k[0]&&
(k=["%o"].concat(k));var m=0;k[0]=k[0].replace(/%([a-z%])/g,function(e,d){if("%%"===e)return e;m++;var f=a.formatters[d];"function"===typeof f&&(e=f.call(c,k[m]),k.splice(m,1),m--);return e});"function"===typeof a.formatArgs&&(k=a.formatArgs.apply(c,k));(d.log||a.log||console.log.bind(console)).apply(c,k)}e.enabled=!1;d.enabled=!0;var n=a.enabled(c)?d:e;n.namespace=c;return n}a=c.exports=e.debug=e;a.coerce=function(a){return a instanceof Error?a.stack||a.message:a};a.disable=function(){a.enable("")};
a.enable=function(c){a.save(c);for(var e=(c||"").split(/[\s,]+/),d=e.length,g=0;g<d;g++)e[g]&&(c=e[g].replace(/\*/g,".*?"),"-"===c[0]?a.skips.push(RegExp("^"+c.substr(1)+"$")):a.names.push(RegExp("^"+c+"$")))};a.enabled=function(c){var e,d;e=0;for(d=a.skips.length;e<d;e++)if(a.skips[e].test(c))return!1;e=0;for(d=a.names.length;e<d;e++)if(a.names[e].test(c))return!0;return!1};a.humanize=d("ms");a.names=[];a.skips=[];a.formatters={};var g=0,h},{ms:2}],2:[function(d,c,a){function e(a){a=""+a;if(!(1E4<
a.length)&&(a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a))){var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return c*n;case "days":case "day":case "d":return c*l;case "hours":case "hour":case "hrs":case "hr":case "h":return c*m;case "minutes":case "minute":case "mins":case "min":case "m":return c*k;case "seconds":case "second":case "secs":case "sec":case "s":return c*
h;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return c}}}function g(a,c,e){if(!(a<c))return a<1.5*c?Math.floor(a/c)+" "+e:Math.ceil(a/c)+" "+e+"s"}var h=1E3,k=60*h,m=60*k,l=24*m,n=365.25*l;c.exports=function(a,c){c=c||{};return"string"==typeof a?e(a):c.long?g(a,l,"day")||g(a,m,"hour")||g(a,k,"minute")||g(a,h,"second")||a+" ms":a>=l?Math.round(a/l)+"d":a>=m?Math.round(a/m)+"h":a>=k?Math.round(a/k)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}},{}],3:[function(d,c,a){function e(){var c;
try{c=a.storage.debug}catch(e){}return c}a=c.exports=d("./debug");a.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};a.formatArgs=function(){var c=arguments,e=this.useColors;c[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+c[0]+(e?"%c ":" ")+"+"+a.humanize(this.diff);if(!e)return c;var e="color: "+this.color,c=[c[0],e,"color: inherit"].concat(Array.prototype.slice.call(c,1)),d=0,g=0;c[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&
(d++,"%c"===a&&(g=d))});c.splice(g,0,e);return c};a.save=function(c){try{null==c?a.storage.removeItem("debug"):a.storage.debug=c}catch(e){}};a.load=e;a.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var g;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)g=chrome.storage.local;else a:{try{g=window.localStorage;
break a}catch(h){}g=void 0}a.storage=g;a.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");a.formatters.j=function(a){return JSON.stringify(a)};a.enable(e())},{"./debug":1}]},{},[3])(3)});
(function(b,d){function c(b){q[f]=a.apply(d,b);return f++}function a(a){var b=[].slice.call(arguments,1);return function(){"function"===typeof a?a.apply(d,b):(new Function(""+a))()}}function e(b){if(r)setTimeout(a(e,b),0);else{var c=q[b];if(c){r=!0;try{c()}finally{g(b),r=!1}}}}function g(a){delete q[a]}function h(){s=function(){var b=c(arguments);process.nextTick(a(e,b));return b}}function k(){if(b.postMessage&&!b.importScripts){var a=!0,c=b.onmessage;b.onmessage=function(){a=!1};b.postMessage("",
"*");b.onmessage=c;return a}}function m(){var a="setImmediate$"+Math.random()+"$",d=function(c){c.source===b&&"string"===typeof c.data&&0===c.data.indexOf(a)&&e(+c.data.slice(a.length))};b.addEventListener?b.addEventListener("message",d,!1):b.attachEvent("onmessage",d);s=function(){var e=c(arguments);b.postMessage(a+e,"*");return e}}function l(){var a=new MessageChannel;a.port1.onmessage=function(a){e(a.data)};s=function(){var b=c(arguments);a.port2.postMessage(b);return b}}function n(){var a=u.documentElement;
s=function(){var b=c(arguments),d=u.createElement("script");d.onreadystatechange=function(){e(b);d.onreadystatechange=null;a.removeChild(d);d=null};a.appendChild(d);return b}}function p(){s=function(){var b=c(arguments);setTimeout(a(e,b),0);return b}}if(!b.setImmediate){var f=1,q={},r=!1,u=b.document,s,t=Object.getPrototypeOf&&Object.getPrototypeOf(b),t=t&&t.setTimeout?t:b;"[object process]"==={}.toString.call(b.process)?h():k()?m():b.MessageChannel?l():u&&"onreadystatechange"in u.createElement("script")?
n():p();t.setImmediate=s;t.clearImmediate=g}})((new Function("return this"))());
!function(b,d){"undefined"!=typeof module&&module.exports?module.exports=d():"function"==typeof define&&define.amd?define(d):this[b]=d()}("bowser",function(){function b(a){function b(c){return(c=a.match(c))&&1<c.length&&c[1]||""}function c(b){return(b=a.match(b))&&1<b.length&&b[2]||""}var h=b(/(ipod|iphone|ipad)/i).toLowerCase(),k=!/like android/i.test(a)&&/android/i.test(a),m=/CrOS/.test(a),l=b(/edge\/(\d+(\.\d+)?)/i),n=b(/version\/(\d+(\.\d+)?)/i),p=/tablet/i.test(a),f=!p&&/[^-]mobi/i.test(a);/opera|opr/i.test(a)?
m={name:"Opera",opera:d,version:n||b(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(a)?m={name:"Yandex Browser",yandexbrowser:d,version:n||b(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(a)?(m={name:"Windows Phone",windowsphone:d},l?(m.msedge=d,m.version=l):(m.msie=d,m.version=b(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(a)?m={name:"Internet Explorer",msie:d,version:b(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:m?m={name:"Chrome",chromeBook:d,chrome:d,version:b(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:
/chrome.+? edge/i.test(a)?m={name:"Microsoft Edge",msedge:d,version:l}:/chrome|crios|crmo/i.test(a)?m={name:"Chrome",chrome:d,version:b(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:h?(m={name:"iphone"==h?"iPhone":"ipad"==h?"iPad":"iPod"},n&&(m.version=n)):/sailfish/i.test(a)?m={name:"Sailfish",sailfish:d,version:b(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(a)?m={name:"SeaMonkey",seamonkey:d,version:b(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(a)?(m={name:"Firefox",firefox:d,
version:b(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(a)&&(m.firefoxos=d)):/silk/i.test(a)?m={name:"Amazon Silk",silk:d,version:b(/silk\/(\d+(\.\d+)?)/i)}:k?m={name:"Android",version:n}:/phantom/i.test(a)?m={name:"PhantomJS",phantom:d,version:b(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(a)||/rim\stablet/i.test(a)?m={name:"BlackBerry",blackberry:d,version:n||b(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(a)?(m={name:"WebOS",webos:d,
version:n||b(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(a)&&(m.touchpad=d)):m=/bada/i.test(a)?{name:"Bada",bada:d,version:b(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(a)?{name:"Tizen",tizen:d,version:b(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||n}:/safari/i.test(a)?{name:"Safari",safari:d,version:n}:{name:b(/^(.*)\/(.*) /),version:c(/^(.*)\/(.*) /)};!m.msedge&&/(apple)?webkit/i.test(a)?(m.name=m.name||"Webkit",m.webkit=d,!m.version&&n&&(m.version=n)):!m.opera&&/gecko\//i.test(a)&&(m.name=
m.name||"Gecko",m.gecko=d,m.version=m.version||b(/gecko\/(\d+(\.\d+)?)/i));m.msedge||!k&&!m.silk?h&&(m[h]=d,m.ios=d):m.android=d;l="";m.windowsphone?l=b(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):h?(l=b(/os (\d+([_\s]\d+)*) like mac os x/i),l=l.replace(/[_\s]/g,".")):k?l=b(/android[ \/-](\d+(\.\d+)*)/i):m.webos?l=b(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):m.blackberry?l=b(/rim\stablet\sos\s(\d+(\.\d+)*)/i):m.bada?l=b(/bada\/(\d+(\.\d+)*)/i):m.tizen&&(l=b(/tizen[\/\s](\d+(\.\d+)*)/i));l&&(m.osversion=l);l=
l.split(".")[0];if(p||"ipad"==h||k&&(3==l||4==l&&!f)||m.silk)m.tablet=d;else if(f||"iphone"==h||"ipod"==h||k||m.blackberry||m.webos||m.bada)m.mobile=d;m.msedge||m.msie&&10<=m.version||m.yandexbrowser&&15<=m.version||m.chrome&&20<=m.version||m.firefox&&20<=m.version||m.safari&&6<=m.version||m.opera&&10<=m.version||m.ios&&m.osversion&&6<=m.osversion.split(".")[0]||m.blackberry&&10.1<=m.version?m.a=d:m.msie&&10>m.version||m.chrome&&20>m.version||m.firefox&&20>m.version||m.safari&&6>m.version||m.opera&&
10>m.version||m.ios&&m.osversion&&6>m.osversion.split(".")[0]?m.c=d:m.x=d;return m}var d=!0,c=b("undefined"!==typeof navigator?navigator.userAgent:"");c.test=function(a){for(var b=0;b<a.length;++b){var d=a[b];if("string"===typeof d&&d in c)return!0}return!1};c._detect=b;return c});
(function(b){var d=!1;b(document).on("click","a[data-reveal-id], button[data-reveal-id]",function(c){c.preventDefault();c=b(this).attr("data-reveal-id");b("#"+c).reveal(b(this).data())});b.fn.reveal=function(c){var a=b(document);c=b.extend({},{animation:"fadeAndPop",animationSpeed:300,closeOnBackgroundClick:!0,dismissModalClass:"close-reveal-modal",open:b.noop,opened:b.noop,close:b.noop,closed:b.noop},c);return this.each(function(){function e(){var a=b(".reveal-modal.open");1===a.length&&(d=!0,a.trigger("reveal:close"))}
var g=b(this),h=parseInt(g.css("top"),10),k=g.height()+h,m=!1,l=b(".reveal-modal-bg"),n={top:0,opacity:0,visibility:"visible",display:"block"},p={top:h,opacity:1,visibility:"hidden",display:"none"},f;0===l.length&&(l=b("<div />",{"class":"reveal-modal-bg"}).insertAfter(g),l.fadeTo("fast",0.8));g.bind("reveal:open.reveal",function(){m||(m=!0,e(),g.addClass("open"),"fadeAndPop"===c.animation&&(n.top=a.scrollTop()-k,n.opacity=0,g.css(n),l.fadeIn(c.animationSpeed/2),g.delay(c.animationSpeed/2).animate({top:a.scrollTop()+
h+"px",opacity:1},c.animationSpeed,function(){g.trigger("reveal:opened")})),"fade"===c.animation&&(n.top=a.scrollTop()+h,n.opacity=0,g.css(n),l.fadeIn(c.animationSpeed/2),g.delay(c.animationSpeed/2).animate({opacity:1},c.animationSpeed,function(){g.trigger("reveal:opened")})),"none"===c.animation&&(n.top=a.scrollTop()+h,n.opacity=1,g.css(n),l.css({display:"block"}),g.trigger("reveal:opened")))});g.bind("reveal:close.reveal",function(){m||(m=!0,g.removeClass("open"),"fadeAndPop"===c.animation&&(g.animate({top:a.scrollTop()-
k+"px",opacity:0},c.animationSpeed/2,function(){g.css(p)}),d?g.trigger("reveal:closed"):l.delay(c.animationSpeed).fadeOut(c.animationSpeed,function(){g.trigger("reveal:closed")}),d=!1),"fade"===c.animation&&(g.animate({opacity:0},c.animationSpeed,function(){g.css(p)}),d?g.trigger("reveal:closed"):l.delay(c.animationSpeed).fadeOut(c.animationSpeed,function(){g.trigger("reveal:closed")})),"none"===c.animation&&(g.css(p),d||l.css({display:"none"}),g.trigger("reveal:closed")))});g.bind("reveal:opened.reveal reveal:closed.reveal",
function(){m=!1});g.bind("reveal:closed.reveal",function(){g.unbind(".reveal");l.unbind(".reveal");f.unbind(".reveal");b("body").unbind(".reveal")});g.bind("reveal:open.reveal",c.open);g.bind("reveal:opened.reveal",c.opened);g.bind("reveal:close.reveal",c.close);g.bind("reveal:closed.reveal",c.closed);g.trigger("reveal:open");f=b("."+c.dismissModalClass).bind("click.reveal",function(){g.trigger("reveal:close")});c.closeOnBackgroundClick&&(l.css({cursor:"pointer"}),l.bind("click.reveal",function(){g.trigger("reveal:close")}));
b("body").bind("keyup.reveal",function(a){27!==a.which||c.disableEsc||g.trigger("reveal:close")})})}})(jQuery);
(function(b){function d(a,c){var d=b(a);d.bind("load.imageready",function(){c.apply(a,arguments);d.unbind("load.imageready")})}var c={};b.event.special.imageready={setup:function(a,b,d){c=a||c},add:function(a){var e=b(this),g;1===this.nodeType&&"img"===this.tagName.toLowerCase()&&""!==this.src&&(c.forceLoad?(g=e.attr("src"),e.attr("src",""),d(this,a.handler),e.attr("src",g)):this.complete||4===this.readyState?a.handler.apply(this,arguments):d(this,a.handler))},teardown:function(a){b(this).unbind(".imageready")}}})(jQuery);
jQuery.foundation=jQuery.foundation||{};
(function(b){var d=function(){return{tmp:[],hidden:null,adjust:function(a){var c=this;c.hidden=a.parents().addBack().filter(":hidden");c.hidden.each(function(){var a=b(this);c.tmp.push(a.attr("style"));a.css({visibility:"hidden",display:"block"})})},reset:function(){var a=this;a.hidden.each(function(c){var e=b(this);c=a.tmp[c];void 0===c?e.removeAttr("style"):e.attr("style",c)});a.tmp=[];a.hidden=null}}};jQuery.foundation=jQuery.foundation||{};jQuery.foundation.customForms=jQuery.foundation.customForms||
{};b.foundation.customForms.appendCustomMarkup=function(a){function c(e,d){var h=b(d);if(!h.hasClass(a.disable_class)){h.hide();var n=h.attr("type"),p=h.next("span.custom."+n);0===p.length&&(p=b('<span class="custom '+n+'"></span>').insertAfter(h));p.toggleClass("checked",h.is(":checked"));p.toggleClass("disabled",h.is(":disabled"))}}a=b.extend({disable_class:"no-custom"},a);b("form.custom input:radio[data-customforms!=disabled]").each(c);b("form.custom input:checkbox[data-customforms!=disabled]").each(c);
b("form.custom select[data-customforms!=disabled]").each(function(c,e){var h=d(),n=b(e),p=n.next("div.custom.dropdown"),f=p.find("ul");p.find(".current");p.find(".selector");var q=n.find("option"),r=q.filter(":selected"),u=0,s="",t,v=!1;n.hasClass(a.disable_class)||(0===p.length?(p=n.hasClass("small")?"small":n.hasClass("medium")?"medium":n.hasClass("large")?"large":n.hasClass("expand")?"expand":"",p=b('<div class="'+["custom dropdown",p].join(" ")+'"><a href="#" class="selector"></a><ul /></div>'),
p.find(".selector"),f=p.find("ul"),s=q.map(function(){return"<li>"+b(this).html()+"</li>"}).get().join(""),f.append(s),v=p.prepend('<a href="#" class="current">'+r.html()+"</a>").find(".current"),n.after(p).hide()):(s=q.map(function(){return"<li>"+b(this).html()+"</li>"}).get().join(""),f.html("").append(s)),p.toggleClass("disabled",n.is(":disabled")),t=f.find("li"),q.each(function(a){this.selected&&(t.eq(a).addClass("selected"),v&&v.html(b(this).html()))}),f.css("width","auto"),p.css("width","auto"),
p.is(".small, .medium, .large, .expand")||(p.addClass("open"),h.adjust(f),u=t.outerWidth()>u?t.outerWidth():u,h.reset(),p.removeClass("open"),p.width(u+18),f.width(u+16)))})};var c=function(a){var c=0,e=a.next();$options=a.find("option");e.find("ul").html("");$options.each(function(){$li=b("<li>"+b(this).html()+"</li>");e.find("ul").append($li)});0>a.prop("selectedIndex")?(a=a.attr("placeholder")||"",e.find(".current").html(a).addClass("placeholder")):$options.each(function(a){this.selected&&(e.find("li").eq(a).addClass("selected"),
e.find(".current").html(b(this).html()).removeClass("placeholder"))});e.removeAttr("style").find("ul").removeAttr("style");e.find("li").each(function(){e.addClass("open");b(this).outerWidth()>c&&(c=b(this).outerWidth());e.removeClass("open")});e.css("width",c+18+"px");e.find("ul").css("width",c+16+"px")},a=function(a){var b=a.prev(),c=b[0];!1===b.is(":disabled")&&(c.checked=c.checked?!1:!0,a.toggleClass("checked"),b.trigger("change"))},e=function(a){var b=a.prev(),c=b.closest("form.custom"),e=b[0];
!1===b.is(":disabled")&&(c.find('input:radio[name="'+b.attr("name")+'"]').next().not(a).removeClass("checked"),a.hasClass("checked")||a.toggleClass("checked"),e.checked=a.hasClass("checked"),b.trigger("change"))};b(document).on("click","form.custom span.custom.checkbox",function(c){c.preventDefault();c.stopPropagation();a(b(this))});b(document).on("click","form.custom span.custom.radio",function(a){a.preventDefault();a.stopPropagation();e(b(this))});b(document).on("change","form.custom select[data-customforms!=disabled]",
function(a){c(b(this))});b(document).on("click","form.custom label",function(c){var d=b("#"+self.escape(b(this).attr("for"))).not('[data-customforms="disabled"]').not(".no-custom");0!==d.length&&("checkbox"===d.attr("type")?(c.preventDefault(),c=b(this).find("span.custom.checkbox"),0==c.length&&(c=b(this).next("span.custom.checkbox")),0==c.length&&(c=b(this).prev("span.custom.checkbox")),a(c)):"radio"===d.attr("type")&&(c.preventDefault(),c=b(this).find("span.custom.radio"),0==c.length&&(c=b(this).next("span.custom.radio")),
0==c.length&&(c=b(this).prev("span.custom.radio")),e(c)))});b(document).on("click","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(a){var e=b(this).closest("div.custom.dropdown"),d=e.prev();a.preventDefault();b("div.dropdown").removeClass("open");if(!1===d.is(":disabled"))return c(d),e.toggleClass("open"),e.hasClass("open")?b(document).bind("click.customdropdown",function(a){e.removeClass("open");b(document).unbind(".customdropdown")}):b(document).unbind(".customdropdown"),
!1});b(document).on("click","form.custom div.custom.dropdown li",function(a){var c=b(this),e=c.closest("div.custom.dropdown"),d=e.prev(),l=0;a.preventDefault();a.stopPropagation();b("div.dropdown").removeClass("open");c.closest("ul").find("li").removeClass("selected");c.addClass("selected");e.removeClass("open").find("a.current").html(c.html());c.closest("ul").find("li").each(function(a){c[0]==this&&(l=a)});d[0].selectedIndex=l;d.trigger("change")});b.fn.foundationCustomForms=b.foundation.customForms.appendCustomMarkup})(jQuery);
(function(b,d){if("function"===typeof define&&define.amd)define(["exports","module"],d);else if("undefined"!==typeof exports&&"undefined"!==typeof module)d(exports,module);else{var c={exports:{}};d(c.exports,c);b.autosize=c.exports}})(this,function(b,d){function c(a,b){function c(){var b=window.getComputedStyle(a,null);x=b.overflowY;"vertical"===b.resize?a.style.resize="none":"both"===b.resize&&(a.style.resize="horizontal");v="content-box"===b.boxSizing?-(parseFloat(b.paddingTop)+parseFloat(b.paddingBottom)):
parseFloat(b.borderTopWidth)+parseFloat(b.borderBottomWidth);isNaN(v)&&(v=0);k()}function e(b){var c=a.style.width;a.style.width="0px";a.offsetWidth;a.style.width=c;x=b;t&&(a.style.overflowY=b);d()}function d(){var b=window.pageYOffset,c=document.body.scrollTop,e=a.style.height;a.style.height="auto";var f=a.scrollHeight+v;0===a.scrollHeight?a.style.height=e:(a.style.height=f+"px",w=a.clientWidth,document.documentElement.scrollTop=b,document.body.scrollTop=c)}function k(){var b=a.style.height;d();
window.getComputedStyle(a,null).height!==a.style.height?"visible"!==x&&e("visible"):"hidden"!==x&&e("hidden");b!==a.style.height&&(b=h("autosize:resized"),a.dispatchEvent(b))}var m=void 0===b?{}:b,s=m.setOverflowX,s=void 0===s?!0:s,m=m.setOverflowY,t=void 0===m?!0:m;if(a&&a.nodeName&&"TEXTAREA"===a.nodeName&&!g.has(a)){var v=null,x=null,w=a.clientWidth,z=function(){a.clientWidth!==w&&k()},B=function(b){window.removeEventListener("resize",z,!1);a.removeEventListener("input",k,!1);a.removeEventListener("keyup",
k,!1);a.removeEventListener("autosize:destroy",B,!1);a.removeEventListener("autosize:update",k,!1);g["delete"](a);Object.keys(b).forEach(function(c){a.style[c]=b[c]})}.bind(a,{height:a.style.height,resize:a.style.resize,overflowY:a.style.overflowY,overflowX:a.style.overflowX,wordWrap:a.style.wordWrap});a.addEventListener("autosize:destroy",B,!1);"onpropertychange"in a&&"oninput"in a&&a.addEventListener("keyup",k,!1);window.addEventListener("resize",z,!1);a.addEventListener("input",k,!1);a.addEventListener("autosize:update",
k,!1);g.add(a);s&&(a.style.overflowX="hidden",a.style.wordWrap="break-word");c()}}function a(a){if(a&&a.nodeName&&"TEXTAREA"===a.nodeName){var b=h("autosize:destroy");a.dispatchEvent(b)}}function e(a){if(a&&a.nodeName&&"TEXTAREA"===a.nodeName){var b=h("autosize:update");a.dispatchEvent(b)}}var g="function"===typeof Set?new Set:function(){var a=[];return{has:function(b){return Boolean(-1<a.indexOf(b))},add:function(b){a.push(b)},"delete":function(b){a.splice(a.indexOf(b),1)}}}(),h=function(a){return new Event(a)};
try{new Event("test")}catch(k){h=function(a){var b=document.createEvent("Event");b.initEvent(a,!0,!1);return b}}var m=null;"undefined"===typeof window||"function"!==typeof window.getComputedStyle?(m=function(a){return a},m.destroy=function(a){return a},m.update=function(a){return a}):(m=function(a,b){a&&Array.prototype.forEach.call(a.length?a:[a],function(a){return c(a,b)});return a},m.destroy=function(b){b&&Array.prototype.forEach.call(b.length?b:[b],a);return b},m.update=function(a){a&&Array.prototype.forEach.call(a.length?
a:[a],e);return a});d.exports=m});
(function(b,d){function c(d,h,m,l,n){var p=!1;d.contents().detach().each(function(){var v=b(this);if("undefined"==typeof this||3==this.nodeType&&0==b.trim(this.data).length)return!0;if(v.is("script, .dotdotdot-keep"))d.append(v);else{if(p)return!0;d.append(v);if(n)d[d.is("table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](n);if(m.innerHeight()>l.maxHeight){if(3==this.nodeType){var x=v[0];
if(x){var w=g(x),z=-1!==w.indexOf(" ")?" ":"\u3000",z="letter"==l.wrap?"":z,B=w.split(z),A=-1,E=-1,F=0,I=B.length-1;l.fallbackToLetter&&0==F&&0==I&&(z="",B=w.split(z),I=B.length-1);for(;F<=I&&(0!=F||0!=I);){w=Math.floor((F+I)/2);if(w==E)break;E=w;e(x,B.slice(0,E+1).join(z)+l.ellipsis);m.innerHeight()>l.maxHeight?(I=E,l.fallbackToLetter&&0==F&&0==I&&(z="",B=B[0].split(z),E=A=-1,F=0,I=B.length-1)):F=A=E}-1==A||1==B.length&&0==B[0].length?(w=v.parent(),v.detach(),z=n&&n.closest(w).length?n.length:0,
w.contents().length>z?x=k(w.contents().eq(-1-z),h):(x=k(w,h,!0),z||w.detach()),x&&(w=a(g(x),l),e(x,w),z&&n&&b(x).parent().append(n))):(w=a(B.slice(0,A+1).join(z),l),e(x,w));p=!0}else p=!1}else p=c(v,h,m,l,n);p||(v.detach(),p=!0)}p||n&&n.detach()}});return p}function a(a,c){for(;-1<b.inArray(a.slice(-1),c.lastCharacter.remove);)a=a.slice(0,-1);0>b.inArray(a.slice(-1),c.lastCharacter.noEllipsis)&&(a+=c.ellipsis);return a}function e(a,b){a.innerText?a.innerText=b:a.nodeValue?a.nodeValue=b:a.textContent&&
(a.textContent=b)}function g(a){return a.innerText?a.innerText:a.nodeValue?a.nodeValue:a.textContent?a.textContent:""}function h(a){do a=a.previousSibling;while(a&&1!==a.nodeType&&3!==a.nodeType);return a}function k(a,c,e){var d=a&&a[0];if(d){if(!e){if(3===d.nodeType)return d;if(b.trim(a.text()))return k(a.contents().last(),c)}for(e=h(d);!e;){a=a.parent();if(a.is(c)||!a.length)return!1;e=h(a[0])}if(e)return k(b(e),c)}return!1}function m(a,c){return a?"string"===typeof a?(a=b(a,c),a.length?a:!1):a.jquery?
a:!1:!1}if(!b.fn.dotdotdot){b.fn.dotdotdot=function(a){if(0==this.length)return b.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(1<this.length)return this.each(function(){b(this).dotdotdot(a)});var e=this;e.data("dotdotdot")&&e.trigger("destroy.dot");e.data("dotdotdot-style",e.attr("style")||"");e.css("word-wrap","break-word");"nowrap"===e.css("white-space")&&e.css("white-space","normal");e.bind_events=function(){e.bind("update.dot",function(a,f){a.preventDefault();a.stopPropagation();
var k=g,m;if("number"==typeof g.height)m=g.height;else{m=e.innerHeight();for(var l=["paddingTop","paddingBottom"],n=0,v=l.length;n<v;n++){var t=parseInt(e.css(l[n]),10);isNaN(t)&&(t=0);m-=t}}k.maxHeight=m;g.maxHeight+=g.tolerance;if("undefined"!=typeof f){if("string"==typeof f||f instanceof HTMLElement)f=b("<div />").append(f).contents();f instanceof b&&(d=f)}p=e.wrapInner('<div class="dotdotdot" />').children();p.contents().detach().end().append(d.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",
width:"auto",border:"none",padding:0,margin:0});k=l=!1;h.afterElement&&(l=h.afterElement.clone(!0),l.show(),h.afterElement.detach());if(p.innerHeight()>g.maxHeight)if("children"==g.wrap){k=p;m=g;n=k.children();v=!1;k.empty();for(var t=0,D=n.length;t<D;t++){var M=n.eq(t);k.append(M);l&&k.append(l);if(k.innerHeight()>m.maxHeight){M.remove();v=!0;break}else l&&l.detach()}k=v}else k=c(p,e,p,g,l);p.replaceWith(p.contents());p=null;b.isFunction(g.callback)&&g.callback.call(e[0],k,d);return h.isTruncated=
k}).bind("isTruncated.dot",function(a,b){a.preventDefault();a.stopPropagation();"function"==typeof b&&b.call(e[0],h.isTruncated);return h.isTruncated}).bind("originalContent.dot",function(a,b){a.preventDefault();a.stopPropagation();"function"==typeof b&&b.call(e[0],d);return d}).bind("destroy.dot",function(a){a.preventDefault();a.stopPropagation();e.unwatch().unbind_events().contents().detach().end().append(d).attr("style",e.data("dotdotdot-style")||"").data("dotdotdot",!1)});return e};e.unbind_events=
function(){e.unbind(".dot");return e};e.watch=function(){e.unwatch();if("window"==g.watch){var a=b(window),c=a.width(),d=a.height();a.bind("resize.dot"+h.dotId,function(){c==a.width()&&d==a.height()&&g.windowResizeFix||(c=a.width(),d=a.height(),n&&clearInterval(n),n=setTimeout(function(){e.trigger("update.dot")},100))})}else k={width:e.innerWidth(),height:e.innerHeight()},n=setInterval(function(){if(e.is(":visible")){var a={width:e.innerWidth(),height:e.innerHeight()};if(k.width!=a.width||k.height!=
a.height)e.trigger("update.dot"),k=a}},500);return e};e.unwatch=function(){b(window).unbind("resize.dot"+h.dotId);n&&clearInterval(n);return e};var d=e.contents(),g=b.extend(!0,{},b.fn.dotdotdot.defaults,a),h={},k={},n=null,p=null;g.lastCharacter.remove instanceof Array||(g.lastCharacter.remove=b.fn.dotdotdot.defaultArrays.lastCharacter.remove);g.lastCharacter.noEllipsis instanceof Array||(g.lastCharacter.noEllipsis=b.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis);h.afterElement=m(g.after,e);
h.isTruncated=!1;h.dotId=l++;e.data("dotdotdot",!0).bind_events().trigger("update.dot");g.watch&&e.watch();return e};b.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0};b.fn.dotdotdot.defaultArrays={lastCharacter:{remove:" \u3000,;.!?".split(""),noEllipsis:[]}};b.fn.dotdotdot.debug=function(a){};var l=1,n=b.fn.html;b.fn.html=function(a){return a!=d&&!b.isFunction(a)&&this.data("dotdotdot")?
this.trigger("update",[a]):n.apply(this,arguments)};var p=b.fn.text;b.fn.text=function(a){return a!=d&&!b.isFunction(a)&&this.data("dotdotdot")?(a=b("<div />").text(a).html(),this.trigger("update",[a])):p.apply(this,arguments)}}})(jQuery);
(function(b){b.fn.autogrow=function(d){return this.filter("textarea").each(function(){var c=this,a=b(c),e=a.height(),d=a.hasClass("autogrow-short")?0:parseInt(a.css("lineHeight"))||0,h=b("<div></div>").css({position:"absolute",top:-1E4,left:-1E4,width:a.width(),fontSize:a.css("fontSize"),fontFamily:a.css("fontFamily"),fontWeight:a.css("fontWeight"),lineHeight:a.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(document.body),k=function(b){var k=c.value||c.placeholder||"",k=k.replace(/</g,
"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(a){for(var b=0,c="";b<a.length-1;b++)c+="&nbsp;";return c+" "});b&&"keydown"===b.type&&13===b.keyCode&&(k+="<br />");h.css("width",a.width());h.html(k);a.height(Math.max(h.height()+d,e))};a.on("input keydown propertychange paste change",function(a){setTimeout(function(){k(a)},4)});b(window).resize(k);k()})}})(jQuery);
(function(b,d){function c(c,e){var d,g;d=c.nodeName.toLowerCase();if("area"===d){d=c.parentNode;g=d.name;if(!c.href||!g||"map"!==d.nodeName.toLowerCase())return!1;d=b("img[usemap=#"+g+"]")[0];return!!d&&a(d)}return(/input|select|textarea|button|object/.test(d)?!c.disabled:"a"===d?c.href||e:e)&&a(c)}function a(a){return b.expr.filters.visible(a)&&!b(a).parents().addBack().filter(function(){return"hidden"===b.css(this,"visibility")}).length}var e=0,g=/^ui-id-\d+$/;b.ui=b.ui||{};b.extend(b.ui,{version:"1.10.3",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({focus:function(a){return function(c,e){return"number"===typeof c?this.each(function(){var a=this;setTimeout(function(){b(a).focus();e&&e.call(a)},c)}):a.apply(this,arguments)}}(b.fn.focus),scrollParent:function(){var a;a=
b.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.css(this,"position"))&&/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?b(document):
a},zIndex:function(a){if(a!==d)return this.css("zIndex",a);if(this.length){a=b(this[0]);for(var c;a.length&&a[0]!==document;){c=a.css("position");if("absolute"===c||"relative"===c||"fixed"===c)if(c=parseInt(a.css("zIndex"),10),!isNaN(c)&&0!==c)return c;a=a.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){g.test(this.id)&&b(this).removeAttr("id")})}});b.extend(b.expr[":"],{data:b.expr.createPseudo?
b.expr.createPseudo(function(a){return function(c){return!!b.data(c,a)}}):function(a,c,e){return!!b.data(a,e[3])},focusable:function(a){return c(a,!isNaN(b.attr(a,"tabindex")))},tabbable:function(a){var e=b.attr(a,"tabindex"),d=isNaN(e);return(d||0<=e)&&c(a,!d)}});b("<a>").outerWidth(1).jquery||b.each(["Width","Height"],function(a,c){function e(a,c,d,h){b.each(g,function(){c-=parseFloat(b.css(a,"padding"+this))||0;d&&(c-=parseFloat(b.css(a,"border"+this+"Width"))||0);h&&(c-=parseFloat(b.css(a,"margin"+
this))||0)});return c}var g="Width"===c?["Left","Right"]:["Top","Bottom"],n=c.toLowerCase(),p={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+c]=function(a){return a===d?p["inner"+c].call(this):this.each(function(){b(this).css(n,e(this,a)+"px")})};b.fn["outer"+c]=function(a,d){return"number"!==typeof a?p["outer"+c].call(this,a):this.each(function(){b(this).css(n,e(this,a,!0,d)+"px")})}});b.fn.addBack||(b.fn.addBack=function(a){return this.add(null==
a?this.prevObject:this.prevObject.filter(a))});b("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(b.fn.removeData=function(a){return function(c){return arguments.length?a.call(this,b.camelCase(c)):a.call(this)}}(b.fn.removeData));b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart"in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(a,c,e){var d;a=b.ui[a].prototype;for(d in e)a.plugins[d]=a.plugins[d]||[],a.plugins[d].push([c,e[d]])},call:function(a,b,c){var e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<e.length;b++)a.options[e[b][0]]&&e[b][1].apply(a.element,c)}},hasScroll:function(a,c){if("hidden"===b(a).css("overflow"))return!1;var e=
c&&"left"===c?"scrollLeft":"scrollTop",d=!1;if(0<a[e])return!0;a[e]=1;d=0<a[e];a[e]=0;return d}})})(jQuery);
(function(b,d){var c=0,a=Array.prototype.slice,e=b.cleanData;b.cleanData=function(a){for(var c=0,d;null!=(d=a[c]);c++)try{b(d).triggerHandler("remove")}catch(m){}e(a)};b.widget=function(a,c,e){var d,l,n,p,f={},q=a.split(".")[0];a=a.split(".")[1];d=q+"-"+a;e||(e=c,c=b.Widget);b.expr[":"][d.toLowerCase()]=function(a){return!!b.data(a,d)};b[q]=b[q]||{};l=b[q][a];n=b[q][a]=function(a,b){if(!this._createWidget)return new n(a,b);arguments.length&&this._createWidget(a,b)};b.extend(n,l,{version:e.version,
_proto:b.extend({},e),_childConstructors:[]});p=new c;p.options=b.widget.extend({},p.options);b.each(e,function(a,e){b.isFunction(e)?f[a]=function(){var b=function(){return c.prototype[a].apply(this,arguments)},d=function(b){return c.prototype[a].apply(this,b)};return function(){var a=this._super,c=this._superApply,f;this._super=b;this._superApply=d;f=e.apply(this,arguments);this._super=a;this._superApply=c;return f}}():f[a]=e});n.prototype=b.widget.extend(p,{widgetEventPrefix:l?p.widgetEventPrefix:
a},f,{constructor:n,namespace:q,widgetName:a,widgetFullName:d});l?(b.each(l._childConstructors,function(a,c){var e=c.prototype;b.widget(e.namespace+"."+e.widgetName,n,c._proto)}),delete l._childConstructors):c._childConstructors.push(n);b.widget.bridge(a,n)};b.widget.extend=function(c){for(var e=a.call(arguments,1),k=0,m=e.length,l,n;k<m;k++)for(l in e[k])n=e[k][l],e[k].hasOwnProperty(l)&&n!==d&&(b.isPlainObject(n)?c[l]=b.isPlainObject(c[l])?b.widget.extend({},c[l],n):b.widget.extend({},n):c[l]=n);
return c};b.widget.bridge=function(c,e){var k=e.prototype.widgetFullName||c;b.fn[c]=function(m){var l="string"===typeof m,n=a.call(arguments,1),p=this;m=!l&&n.length?b.widget.extend.apply(null,[m].concat(n)):m;l?this.each(function(){var a,e=b.data(this,k);if(!e)return b.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+m+"'");if(!b.isFunction(e[m])||"_"===m.charAt(0))return b.error("no such method '"+m+"' for "+c+" widget instance");a=e[m].apply(e,n);if(a!==
e&&a!==d)return p=a&&a.jquery?p.pushStack(a.get()):a,!1}):this.each(function(){var a=b.data(this,k);a?a.option(m||{})._init():b.data(this,k,new e(m,this))});return p}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,e){e=b(e||this.defaultElement||this)[0];this.element=b(e);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},
this.options,this._getCreateOptions(),a);this.bindings=b();this.hoverable=b();this.focusable=b();e!==this&&(b.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===e&&this.destroy()}}),this.document=b(e.style?e.ownerDocument:e.document||e),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,
_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},
option:function(a,c){var e=a,m,l,n;if(0===arguments.length)return b.widget.extend({},this.options);if("string"===typeof a)if(e={},m=a.split("."),a=m.shift(),m.length){l=e[a]=b.widget.extend({},this.options[a]);for(n=0;n<m.length-1;n++)l[m[n]]=l[m[n]]||{},l=l[m[n]];a=m.pop();if(c===d)return l[a]===d?null:l[a];l[a]=c}else{if(c===d)return this.options[a]===d?null:this.options[a];e[a]=c}this._setOptions(e);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,c,e){var d,l=this;"boolean"!==typeof a&&(e=c,c=a,a=!1);e?(c=d=b(c),this.bindings=this.bindings.add(c)):(e=c,c=this.element,d=
this.widget());b.each(e,function(e,k){function f(){if(a||!0!==l.options.disabled&&!b(this).hasClass("ui-state-disabled"))return("string"===typeof k?l[k]:k).apply(l,arguments)}"string"!==typeof k&&(f.guid=k.guid=k.guid||f.guid||b.guid++);var q=e.match(/^(\w+)\s*(.*)$/),r=q[1]+l.eventNamespace;(q=q[2])?d.delegate(q,r,f):c.bind(r,f)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"===
typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){b(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){b(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){b(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){b(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,c,e){var d,
l=this.options[a];e=e||{};c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();c.target=this.element[0];if(a=c.originalEvent)for(d in a)d in c||(c[d]=a[d]);this.element.trigger(c,e);return!(b.isFunction(l)&&!1===l.apply(this.element[0],[c].concat(e))||c.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(a,c){b.Widget.prototype["_"+a]=function(e,d,l){"string"===typeof d&&(d={effect:d});var n,p=d?!0===d||"number"===typeof d?c:d.effect||c:a;d=
d||{};"number"===typeof d&&(d={duration:d});n=!b.isEmptyObject(d);d.complete=l;d.delay&&e.delay(d.delay);if(n&&b.effects&&b.effects.effect[p])e[a](d);else if(p!==a&&e[p])e[p](d.duration,d.easing,l);else e.queue(function(c){b(this)[a]();l&&l.call(e[0]);c()})}})})(jQuery);
(function(b,d){var c=!1;b(document).mouseup(function(){c=!1});b.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(c){if(!0===b.data(c.target,a.widgetName+".preventClickEvent"))return b.removeData(c.target,a.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!c){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var e=this,d=1===a.which,h="string"===typeof this.options.cancel&&a.target.nodeName?b(a.target).closest(this.options.cancel).length:!1;if(!d||h||!this._mouseCapture(a))return!0;this.mouseDelayMet=
!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),!this._mouseStarted))return a.preventDefault(),!0;!0===b.data(a.target,this.widgetName+".preventClickEvent")&&b.removeData(a.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return e._mouseMove(a)};this._mouseUpDelegate=function(a){return e._mouseUp(a)};
b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return c=!0}},_mouseMove:function(a){if(b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button)return this._mouseUp(a);if(this._mouseStarted)return this._mouseDrag(a),a.preventDefault();this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a))?this._mouseDrag(a):this._mouseUp(a));
return!this._mouseStarted},_mouseUp:function(a){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&b.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(b,d){function c(a,b,c){return[parseFloat(a[0])*(f.test(a[0])?b/100:1),parseFloat(a[1])*(f.test(a[1])?c/100:1)]}function a(a){var c=a[0];return 9===c.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:b.isWindow(c)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}b.ui=b.ui||{};var e,g=Math.max,h=Math.abs,k=
Math.round,m=/left|center|right/,l=/top|center|bottom/,n=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,f=/%$/,q=b.fn.position;b.position={scrollbarWidth:function(){if(e!==d)return e;var a,c,f=b("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");c=f.children()[0];b("body").append(f);a=c.offsetWidth;f.css("overflow","scroll");c=c.offsetWidth;a===c&&(c=f[0].clientWidth);f.remove();return e=a-c},getScrollInfo:function(a){var c=a.isWindow?"":a.element.css("overflow-x"),
e=a.isWindow?"":a.element.css("overflow-y"),c="scroll"===c||"auto"===c&&a.width<a.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&a.height<a.element[0].scrollHeight?b.position.scrollbarWidth():0,height:c?b.position.scrollbarWidth():0}},getWithinInfo:function(a){a=b(a||window);var c=b.isWindow(a[0]);return{element:a,isWindow:c,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}};b.fn.position=
function(e){if(!e||!e.of)return q.apply(this,arguments);e=b.extend({},e);var d,f,t,v,x,w,z=b(e.of),B=b.position.getWithinInfo(e.within),A=b.position.getScrollInfo(B),E=(e.collision||"flip").split(" "),F={};w=a(z);z[0].preventDefault&&(e.at="left top");f=w.width;t=w.height;v=w.offset;x=b.extend({},v);b.each(["my","at"],function(){var a=(e[this]||"").split(" "),b,c;1===a.length&&(a=m.test(a[0])?a.concat(["center"]):l.test(a[0])?["center"].concat(a):["center","center"]);a[0]=m.test(a[0])?a[0]:"center";
a[1]=l.test(a[1])?a[1]:"center";b=n.exec(a[0]);c=n.exec(a[1]);F[this]=[b?b[0]:0,c?c[0]:0];e[this]=[p.exec(a[0])[0],p.exec(a[1])[0]]});1===E.length&&(E[1]=E[0]);"right"===e.at[0]?x.left+=f:"center"===e.at[0]&&(x.left+=f/2);"bottom"===e.at[1]?x.top+=t:"center"===e.at[1]&&(x.top+=t/2);d=c(F.at,f,t);x.left+=d[0];x.top+=d[1];return this.each(function(){var a,m,l=b(this),n=l.outerWidth(),p=l.outerHeight(),w=parseInt(b.css(this,"marginLeft"),10)||0,q=parseInt(b.css(this,"marginTop"),10)||0,y=n+w+(parseInt(b.css(this,
"marginRight"),10)||0)+A.width,T=p+q+(parseInt(b.css(this,"marginBottom"),10)||0)+A.height,G=b.extend({},x),L=c(F.my,l.outerWidth(),l.outerHeight());"right"===e.my[0]?G.left-=n:"center"===e.my[0]&&(G.left-=n/2);"bottom"===e.my[1]?G.top-=p:"center"===e.my[1]&&(G.top-=p/2);G.left+=L[0];G.top+=L[1];b.support.offsetFractions||(G.left=k(G.left),G.top=k(G.top));a={marginLeft:w,marginTop:q};b.each(["left","top"],function(c,g){if(b.ui.position[E[c]])b.ui.position[E[c]][g](G,{targetWidth:f,targetHeight:t,
elemWidth:n,elemHeight:p,collisionPosition:a,collisionWidth:y,collisionHeight:T,offset:[d[0]+L[0],d[1]+L[1]],my:e.my,at:e.at,within:B,elem:l})});e.using&&(m=function(a){var b=v.left-G.left,c=b+f-n,d=v.top-G.top,k=d+t-p,m={target:{element:z,left:v.left,top:v.top,width:f,height:t},element:{element:l,left:G.left,top:G.top,width:n,height:p},horizontal:0>c?"left":0<b?"right":"center",vertical:0>k?"top":0<d?"bottom":"middle"};f<n&&h(b+c)<f&&(m.horizontal="center");t<p&&h(d+k)<t&&(m.vertical="middle");g(h(b),
h(c))>g(h(d),h(k))?m.important="horizontal":m.important="vertical";e.using.call(this,a,m)});l.offset(b.extend(G,{using:m}))})};b.ui.position={fit:{left:function(a,b){var c=b.within,e=c.isWindow?c.scrollLeft:c.offset.left,d=c.width,f=a.left-b.collisionPosition.marginLeft,c=e-f,h=f+b.collisionWidth-d-e;b.collisionWidth>d?0<c&&0>=h?(e=a.left+c+b.collisionWidth-d-e,a.left+=c-e):a.left=0<h&&0>=c?e:c>h?e+d-b.collisionWidth:e:a.left=0<c?a.left+c:0<h?a.left-h:g(a.left-f,a.left)},top:function(a,b){var c=b.within,
e=c.isWindow?c.scrollTop:c.offset.top,d=b.within.height,f=a.top-b.collisionPosition.marginTop,c=e-f,h=f+b.collisionHeight-d-e;b.collisionHeight>d?0<c&&0>=h?(e=a.top+c+b.collisionHeight-d-e,a.top+=c-e):a.top=0<h&&0>=c?e:c>h?e+d-b.collisionHeight:e:a.top=0<c?a.top+c:0<h?a.top-h:g(a.top-f,a.top)}},flip:{left:function(a,b){var c=b.within,e=c.offset.left+c.scrollLeft,d=c.width,f=c.isWindow?c.scrollLeft:c.offset.left,g=a.left-b.collisionPosition.marginLeft,c=g-f,k=g+b.collisionWidth-d-f,g="left"===b.my[0]?
-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,m="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,l=-2*b.offset[0];if(0>c){if(e=a.left+g+m+l+b.collisionWidth-d-e,0>e||e<h(c))a.left+=g+m+l}else 0<k&&(e=a.left-b.collisionPosition.marginLeft+g+m+l-f,0<e||h(e)<k)&&(a.left+=g+m+l)},top:function(a,b){var c=b.within,e=c.offset.top+c.scrollTop,d=c.height,f=c.isWindow?c.scrollTop:c.offset.top,g=a.top-b.collisionPosition.marginTop,c=g-f,k=g+b.collisionHeight-d-f,g="top"===b.my[1]?-b.elemHeight:
"bottom"===b.my[1]?b.elemHeight:0,m="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,l=-2*b.offset[1];0>c?(e=a.top+g+m+l+b.collisionHeight-d-e,a.top+g+m+l>c&&(0>e||e<h(c))&&(a.top+=g+m+l)):0<k&&(e=a.top-b.collisionPosition.marginTop+g+m+l-f,a.top+g+m+l>k&&(0<e||h(e)<k)&&(a.top+=g+m+l))}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,arguments);b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments);b.ui.position.fit.top.apply(this,
arguments)}}};(function(){var a,c,e,d,f=document.getElementsByTagName("body")[0];e=document.createElement("div");a=document.createElement(f?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};f&&b.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(d in c)a.style[d]=c[d];a.appendChild(e);c=f||document.documentElement;c.insertBefore(a,c.firstChild);e.style.cssText="position: absolute; left: 10.7432222px;";e=b(e).offset().left;b.support.offsetFractions=
10<e&&11>e;a.innerHTML="";c.removeChild(a)})()})(jQuery);
(function(b,d){b.widget("ui.draggable",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var a=this.options;if(this.helper||a.disabled||0<b(c.target).closest(".ui-resizable-handle").length)return!1;
this.handle=this._getHandle(c);if(!this.handle)return!1;b(!0===a.iframeFix?"iframe":a.iframeFix).each(function(){b("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")});return!0},_mouseStart:function(c){var a=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
b.ui.ddmanager&&(b.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=!1;b.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt);this._setContainment();if(!1===this._trigger("start",c))return this._clear(),!1;this._cacheHelperProportions();b.ui.ddmanager&&!a.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c);this._mouseDrag(c,!0);b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,c);return!0},
_mouseDrag:function(c,a){"fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!a){var e=this._uiHash();if(!1===this._trigger("drag",c,e))return this._mouseUp({}),!1;this.position=e.position}this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+
"px");b.ui.ddmanager&&b.ui.ddmanager.drag(this,c);return!1},_mouseStop:function(c){var a=this,e=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(e=b.ui.ddmanager.drop(this,c));this.dropped&&(e=this.dropped,this.dropped=!1);if("original"===this.options.helper&&!b.contains(this.element[0].ownerDocument,this.element[0]))return!1;"invalid"===this.options.revert&&!e||"valid"===this.options.revert&&e||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)?
b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==a._trigger("stop",c)&&a._clear()}):!1!==this._trigger("stop",c)&&this._clear();return!1},_mouseUp:function(c){b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,c);return b.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(c){return this.options.handle?
!!b(c.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(c){var a=this.options;c=b.isFunction(a.helper)?b(a.helper.apply(this.element[0],[c])):"clone"===a.helper?this.element.clone().removeAttr("id"):this.element;c.parents("body").length||c.appendTo("parent"===a.appendTo?this.element[0].parentNode:a.appendTo);c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute");return c},_adjustOffsetFromHelper:function(c){"string"===
typeof c&&(c=c.split(" "));b.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){var c=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
b.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.element.position();
return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,a,e;c=this.options;if(c.containment)if("window"===c.containment)this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];else if("document"===c.containment)this.containment=[0,0,b(document).width()-this.helperProportions.width-this.margins.left,(b(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(c.containment.constructor===Array)this.containment=c.containment;else{if("parent"===c.containment&&(c.containment=this.helper[0].parentNode),a=b(c.containment),e=a[0])c="hidden"!==a.css("overflow"),this.containment=[(parseInt(a.css("borderLeftWidth"),
10)||0)+(parseInt(a.css("paddingLeft"),10)||0),(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("paddingTop"),10)||0),(c?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a.css("borderRightWidth"),10)||0)-(parseInt(a.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a.css("borderBottomWidth"),10)||0)-(parseInt(a.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=a}else this.containment=null},_convertPositionTo:function(c,a){a||(a=this.position);var e="absolute"===c?1:-1,d="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;this.offset.scroll||(this.offset.scroll={top:d.scrollTop(),left:d.scrollLeft()});return{top:a.top+this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?
-this.scrollParent.scrollTop():this.offset.scroll.top)*e,left:a.left+this.offset.relative.left*e+this.offset.parent.left*e-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*e}},_generatePosition:function(c){var a,e,d,h=this.options,k="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;d=c.pageX;e=c.pageY;this.offset.scroll||(this.offset.scroll={top:k.scrollTop(),
left:k.scrollLeft()});this.originalPosition&&(this.containment&&(this.relative_container?(a=this.relative_container.offset(),a=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]):a=this.containment,c.pageX-this.offset.click.left<a[0]&&(d=a[0]+this.offset.click.left),c.pageY-this.offset.click.top<a[1]&&(e=a[1]+this.offset.click.top),c.pageX-this.offset.click.left>a[2]&&(d=a[2]+this.offset.click.left),c.pageY-this.offset.click.top>a[3]&&(e=a[3]+
this.offset.click.top)),h.grid&&(e=h.grid[1]?this.originalPageY+Math.round((e-this.originalPageY)/h.grid[1])*h.grid[1]:this.originalPageY,e=a?e-this.offset.click.top>=a[1]||e-this.offset.click.top>a[3]?e:e-this.offset.click.top>=a[1]?e-h.grid[1]:e+h.grid[1]:e,d=h.grid[0]?this.originalPageX+Math.round((d-this.originalPageX)/h.grid[0])*h.grid[0]:this.originalPageX,d=a?d-this.offset.click.left>=a[0]||d-this.offset.click.left>a[2]?d:d-this.offset.click.left>=a[0]?d-h.grid[0]:d+h.grid[0]:d));return{top:e-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(c,a,e){e=e||this._uiHash();b.ui.plugin.call(this,c,[a,e]);"drag"===c&&(this.positionAbs=this._convertPositionTo("absolute"));return b.Widget.prototype._trigger.call(this,c,a,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(c,a){var e=b(this).data("ui-draggable"),d=e.options,h=b.extend({},a,{item:e.element});e.sortables=
[];b(d.connectToSortable).each(function(){var a=b.data(this,"ui-sortable");a&&!a.options.disabled&&(e.sortables.push({instance:a,shouldRevert:a.options.revert}),a.refreshPositions(),a._trigger("activate",c,h))})},stop:function(c,a){var e=b(this).data("ui-draggable"),d=b.extend({},a,{item:e.element});b.each(e.sortables,function(){this.instance.isOver?(this.instance.isOver=0,e.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"===e.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",c,d))})},drag:function(c,a){var e=b(this).data("ui-draggable"),d=this;b.each(e.sortables,function(){var h=!1,k=this;this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(h=!0,b.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;this!==k&&this.instance._intersectsWith(this.instance.containerCache)&&b.contains(k.instance.element[0],this.instance.element[0])&&(h=!1);return h}));h?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(d).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return a.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=e.offset.click.top,this.instance.offset.click.left=e.offset.click.left,this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top,e._trigger("toSortable",c),e.dropped=
this.instance.element,e.currentItem=e.element,this.instance.fromOutside=e),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
e._trigger("fromSortable",c),e.dropped=!1)})}});b.ui.plugin.add("draggable","cursor",{start:function(){var c=b("body"),a=b(this).data("ui-draggable").options;c.css("cursor")&&(a._cursor=c.css("cursor"));c.css("cursor",a.cursor)},stop:function(){var c=b(this).data("ui-draggable").options;c._cursor&&b("body").css("cursor",c._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(c,a){var e=b(a.helper),d=b(this).data("ui-draggable").options;e.css("opacity")&&(d._opacity=e.css("opacity"));e.css("opacity",
d.opacity)},stop:function(c,a){var e=b(this).data("ui-draggable").options;e._opacity&&b(a.helper).css("opacity",e._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(){var c=b(this).data("ui-draggable");c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName&&(c.overflowOffset=c.scrollParent.offset())},drag:function(c){var a=b(this).data("ui-draggable"),e=a.options,d=!1;a.scrollParent[0]!==document&&"HTML"!==a.scrollParent[0].tagName?(e.axis&&"x"===e.axis||(a.overflowOffset.top+
a.scrollParent[0].offsetHeight-c.pageY<e.scrollSensitivity?a.scrollParent[0].scrollTop=d=a.scrollParent[0].scrollTop+e.scrollSpeed:c.pageY-a.overflowOffset.top<e.scrollSensitivity&&(a.scrollParent[0].scrollTop=d=a.scrollParent[0].scrollTop-e.scrollSpeed)),e.axis&&"y"===e.axis||(a.overflowOffset.left+a.scrollParent[0].offsetWidth-c.pageX<e.scrollSensitivity?a.scrollParent[0].scrollLeft=d=a.scrollParent[0].scrollLeft+e.scrollSpeed:c.pageX-a.overflowOffset.left<e.scrollSensitivity&&(a.scrollParent[0].scrollLeft=
d=a.scrollParent[0].scrollLeft-e.scrollSpeed))):(e.axis&&"x"===e.axis||(c.pageY-b(document).scrollTop()<e.scrollSensitivity?d=b(document).scrollTop(b(document).scrollTop()-e.scrollSpeed):b(window).height()-(c.pageY-b(document).scrollTop())<e.scrollSensitivity&&(d=b(document).scrollTop(b(document).scrollTop()+e.scrollSpeed))),e.axis&&"y"===e.axis||(c.pageX-b(document).scrollLeft()<e.scrollSensitivity?d=b(document).scrollLeft(b(document).scrollLeft()-e.scrollSpeed):b(window).width()-(c.pageX-b(document).scrollLeft())<
e.scrollSensitivity&&(d=b(document).scrollLeft(b(document).scrollLeft()+e.scrollSpeed))));!1!==d&&b.ui.ddmanager&&!e.dropBehaviour&&b.ui.ddmanager.prepareOffsets(a,c)}});b.ui.plugin.add("draggable","snap",{start:function(){var c=b(this).data("ui-draggable"),a=c.options;c.snapElements=[];b(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var a=b(this),d=a.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),
top:d.top,left:d.left})})},drag:function(c,a){var e,d,h,k,m,l,n,p,f,q,r=b(this).data("ui-draggable"),u=r.options,s=u.snapTolerance,t=a.offset.left,v=t+r.helperProportions.width,x=a.offset.top,w=x+r.helperProportions.height;for(f=r.snapElements.length-1;0<=f;f--)m=r.snapElements[f].left,l=m+r.snapElements[f].width,n=r.snapElements[f].top,p=n+r.snapElements[f].height,v<m-s||t>l+s||w<n-s||x>p+s||!b.contains(r.snapElements[f].item.ownerDocument,r.snapElements[f].item)?(r.snapElements[f].snapping&&r.options.snap.release&&
r.options.snap.release.call(r.element,c,b.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=!1):("inner"!==u.snapMode&&(e=Math.abs(n-w)<=s,d=Math.abs(p-x)<=s,h=Math.abs(m-v)<=s,k=Math.abs(l-t)<=s,e&&(a.position.top=r._convertPositionTo("relative",{top:n-r.helperProportions.height,left:0}).top-r.margins.top),d&&(a.position.top=r._convertPositionTo("relative",{top:p,left:0}).top-r.margins.top),h&&(a.position.left=r._convertPositionTo("relative",{top:0,left:m-r.helperProportions.width}).left-
r.margins.left),k&&(a.position.left=r._convertPositionTo("relative",{top:0,left:l}).left-r.margins.left)),q=e||d||h||k,"outer"!==u.snapMode&&(e=Math.abs(n-x)<=s,d=Math.abs(p-w)<=s,h=Math.abs(m-t)<=s,k=Math.abs(l-v)<=s,e&&(a.position.top=r._convertPositionTo("relative",{top:n,left:0}).top-r.margins.top),d&&(a.position.top=r._convertPositionTo("relative",{top:p-r.helperProportions.height,left:0}).top-r.margins.top),h&&(a.position.left=r._convertPositionTo("relative",{top:0,left:m}).left-r.margins.left),
k&&(a.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left-r.margins.left)),!r.snapElements[f].snapping&&(e||d||h||k||q)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,c,b.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=e||d||h||k||q)}});b.ui.plugin.add("draggable","stack",{start:function(){var c,a=this.data("ui-draggable").options,a=b.makeArray(b(a.stack)).sort(function(a,c){return(parseInt(b(a).css("zIndex"),10)||
0)-(parseInt(b(c).css("zIndex"),10)||0)});a.length&&(c=parseInt(b(a[0]).css("zIndex"),10)||0,b(a).each(function(a){b(this).css("zIndex",c+a)}),this.css("zIndex",c+a.length))}});b.ui.plugin.add("draggable","zIndex",{start:function(c,a){var e=b(a.helper),d=b(this).data("ui-draggable").options;e.css("zIndex")&&(d._zIndex=e.css("zIndex"));e.css("zIndex",d.zIndex)},stop:function(c,a){var e=b(this).data("ui-draggable").options;e._zIndex&&b(a.helper).css("zIndex",e._zIndex)}})})(jQuery);
(function(b,d){b.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c=this.options,a=c.accept;this.isover=!1;this.isout=!0;this.accept=b.isFunction(a)?a:function(b){return b.is(a)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[c.scope]=
b.ui.ddmanager.droppables[c.scope]||[];b.ui.ddmanager.droppables[c.scope].push(this);c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var c=0,a=b.ui.ddmanager.droppables[this.options.scope];c<a.length;c++)a[c]===this&&a.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,a){"accept"===c&&(this.accept=b.isFunction(a)?a:function(b){return b.is(a)});b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(c){var a=
b.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);a&&this._trigger("activate",c,this.ui(a))},_deactivate:function(c){var a=b.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);a&&this._trigger("deactivate",c,this.ui(a))},_over:function(c){var a=b.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",c,this.ui(a)))},_out:function(c){var a=b.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(a)))},_drop:function(c,a){var e=a||b.ui.ddmanager.current,d=!1;if(!e||(e.currentItem||e.element)[0]===this.element[0])return!1;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var a=
b.data(this,"ui-droppable");if(a.options.greedy&&!a.options.disabled&&a.options.scope===e.options.scope&&a.accept.call(a.element[0],e.currentItem||e.element)&&b.ui.intersect(e,b.extend(a,{offset:a.element.offset()}),a.options.tolerance))return d=!0,!1});return d?!1:this.accept.call(this.element[0],e.currentItem||e.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,
this.ui(e)),this.element):!1},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}});b.ui.intersect=function(b,a,e){if(!a.offset)return!1;var d=(b.positionAbs||b.position.absolute).left,h=d+b.helperProportions.width,k=(b.positionAbs||b.position.absolute).top,m=k+b.helperProportions.height,l=a.offset.left,n=l+a.proportions.width,p=a.offset.top,f=p+a.proportions.height;switch(e){case "fit":return l<=d&&h<=n&&p<=k&&m<=f;case "intersect":return l<
d+b.helperProportions.width/2&&h-b.helperProportions.width/2<n&&p<k+b.helperProportions.height/2&&m-b.helperProportions.height/2<f;case "pointer":return e=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,b=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,b>p&&b<p+a.proportions.height&&e>l&&e<l+a.proportions.width;case "touch":return(k>=p&&k<=f||m>=p&&m<=f||k<p&&m>f)&&(d>=l&&d<=n||h>=l&&h<=n||d<l&&h>n);default:return!1}};b.ui.ddmanager={current:null,
droppables:{"default":[]},prepareOffsets:function(c,a){var e,d,h=b.ui.ddmanager.droppables[c.options.scope]||[],k=a?a.type:null,m=(c.currentItem||c.element).find(":data(ui-droppable)").addBack();e=0;a:for(;e<h.length;e++)if(!(h[e].options.disabled||c&&!h[e].accept.call(h[e].element[0],c.currentItem||c.element))){for(d=0;d<m.length;d++)if(m[d]===h[e].element[0]){h[e].proportions.height=0;continue a}h[e].visible="none"!==h[e].element.css("display");h[e].visible&&("mousedown"===k&&h[e]._activate.call(h[e],
a),h[e].offset=h[e].element.offset(),h[e].proportions={width:h[e].element[0].offsetWidth,height:h[e].element[0].offsetHeight})}},drop:function(c,a){var e=!1;b.each((b.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&b.ui.intersect(c,this,this.options.tolerance)&&(e=this._drop.call(this,a)||e),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,
a)))});return e},dragStart:function(c,a){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,a)})},drag:function(c,a){c.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(c,a);b.each(b.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e,d,h;h=b.ui.intersect(c,this,this.options.tolerance);var k=!h&&this.isover?"isout":h&&!this.isover?"isover":null;k&&
(this.options.greedy&&(d=this.options.scope,h=this.element.parents(":data(ui-droppable)").filter(function(){return b.data(this,"ui-droppable").options.scope===d}),h.length&&(e=b.data(h[0],"ui-droppable"),e.greedyChild="isover"===k)),e&&"isover"===k&&(e.isover=!1,e.isout=!0,e._out.call(e,a)),this[k]=!0,this["isout"===k?"isover":"isout"]=!1,this["isover"===k?"_over":"_out"].call(this,a),e&&"isout"===k&&(e.isout=!1,e.isover=!0,e._over.call(e,a)))}})},dragStop:function(c,a){c.element.parentsUntil("body").unbind("scroll.droppable");
c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,a)}}})(jQuery);
(function(b,d){function c(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}b.widget("ui.sortable",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",
zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||c(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();
for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(a,c){"disabled"===a?(this.options[a]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):b.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,c){var d=null,h=!1,k=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(a);b(a.target).parents().each(function(){if(b.data(this,k.widgetName+"-item")===
k)return d=b(this),!1});b.data(a.target,k.widgetName+"-item")===k&&(d=b(a.target));if(!d||this.options.handle&&!c&&(b(this.options.handle,d).find("*").addBack().each(function(){this===a.target&&(h=!0)}),!h))return!1;this.currentItem=d;this._removeCurrentsFromItems();return!0},_mouseStart:function(a,c,d){var h;c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();
this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();c.containment&&this._setContainment();c.cursor&&"auto"!==c.cursor&&(h=this.document.find("body"),this.storedCursor=h.css("cursor"),h.css("cursor",c.cursor),this.storedStylesheet=b("<style>*{ cursor: "+c.cursor+" !important; }</style>").appendTo(h));c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",c.opacity));c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("activate",a,this._uiHash(this));b.ui.ddmanager&&
(b.ui.ddmanager.current=this);b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(a);return!0},_mouseDrag:function(a){var c,d,h,k;c=this.options;d=!1;this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:a.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:a.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(a.pageY-b(document).scrollTop()<c.scrollSensitivity?d=b(document).scrollTop(b(document).scrollTop()-c.scrollSpeed):b(window).height()-(a.pageY-b(document).scrollTop())<c.scrollSensitivity&&(d=b(document).scrollTop(b(document).scrollTop()+c.scrollSpeed)),a.pageX-b(document).scrollLeft()<c.scrollSensitivity?d=b(document).scrollLeft(b(document).scrollLeft()-c.scrollSpeed):b(window).width()-(a.pageX-b(document).scrollLeft())<c.scrollSensitivity&&(d=b(document).scrollLeft(b(document).scrollLeft()+
c.scrollSpeed))),!1!==d&&b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(c=this.items.length-1;0<=c;c--)if(d=this.items[c],h=d.item[0],(k=this._intersectsWithPointer(d))&&d.instance===this.currentContainer&&h!==this.currentItem[0]&&
this.placeholder[1===k?"next":"prev"]()[0]!==h&&!b.contains(this.placeholder[0],h)&&("semi-dynamic"===this.options.type?!b.contains(this.element[0],h):1)){this.direction=1===k?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(d))this._rearrange(a,d);else break;this._trigger("change",a,this._uiHash());break}this._contactContainers(a);b.ui.ddmanager&&b.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(a,
c){if(a){b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,a);if(this.options.revert){var d=this,h=this.placeholder.offset(),k=this.options.axis,m={};k&&"x"!==k||(m.left=h.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));k&&"y"!==k||(m.top=h.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;b(this.helper).animate(m,parseInt(this.options.revert,
10)||500,function(){d._clear(a)})}else this._clear(a,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;0<=a;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=
0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):b(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(a){var c=this._getItemsAsjQuery(a&&a.connected),d=[];a=a||{};
b(c).each(function(){var c=(b(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);c&&d.push((a.key||c[1]+"[]")+"="+(a.key&&a.expression?c[1]:c[2]))});!d.length&&a.key&&d.push(a.key+"=");return d.join("&")},toArray:function(a){var c=this._getItemsAsjQuery(a&&a.connected),d=[];a=a||{};c.each(function(){d.push(b(a.item||this).attr(a.attribute||"id")||"")});return d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,
k=d+this.helperProportions.height,m=a.left,l=m+a.width,n=a.top,p=n+a.height,f=this.offset.click.top,q=this.offset.click.left,q="y"===this.options.axis||b+q>m&&b+q<l,f=("x"===this.options.axis||d+f>n&&d+f<p)&&q;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?f:m<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<l&&n<d+this.helperProportions.height/
2&&k-this.helperProportions.height/2<p},_intersectsWithPointer:function(a){var b="y"===this.options.axis||this.positionAbs.left+this.offset.click.left>a.left&&this.positionAbs.left+this.offset.click.left<a.left+a.width;a=("x"===this.options.axis||this.positionAbs.top+this.offset.click.top>a.top&&this.positionAbs.top+this.offset.click.top<a.top+a.height)&&b;var b=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection();return a?this.floating?c&&"right"===c||"down"===b?2:1:b&&("down"===
b?2:1):!1},_intersectsWithSides:function(a){var b=this.positionAbs.top+this.offset.click.top>a.top+a.height/2&&this.positionAbs.top+this.offset.click.top<a.top+a.height/2+a.height;a=this.positionAbs.left+this.offset.click.left>a.left+a.width/2&&this.positionAbs.left+this.offset.click.left<a.left+a.width/2+a.width;var c=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return this.floating&&d?"right"===d&&a||"left"===d&&!a:c&&("down"===c&&b||"up"===c&&!b)},_getDragVerticalDirection:function(){var a=
this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){var c,d,h,k=[],m=[],l=this._connectWith();if(l&&a)for(a=l.length-1;0<=
a;a--)for(d=b(l[a]),c=d.length-1;0<=c;c--)(h=b.data(d[c],this.widgetFullName))&&h!==this&&!h.options.disabled&&m.push([b.isFunction(h.options.items)?h.options.items.call(h.element):b(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h]);m.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);
for(a=m.length-1;0<=a;a--)m[a][0].each(function(){k.push(this)});return b(k)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(b){for(var c=0;c<a.length;c++)if(a[c]===b.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[];this.containers=[this];var c,d,h,k,m,l=this.items,n=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):b(this.options.items,
this.element),this]];if((m=this._connectWith())&&this.ready)for(c=m.length-1;0<=c;c--)for(h=b(m[c]),d=h.length-1;0<=d;d--)(k=b.data(h[d],this.widgetFullName))&&k!==this&&!k.options.disabled&&(n.push([b.isFunction(k.options.items)?k.options.items.call(k.element[0],a,{item:this.currentItem}):b(k.options.items,k.element),k]),this.containers.push(k));for(c=n.length-1;0<=c;c--)for(a=n[c][1],h=n[c][0],d=0,m=h.length;d<m;d++)k=b(h[d]),k.data(this.widgetName+"-item",a),l.push({item:k,instance:a,width:0,height:0,
left:0,top:0})},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,h;for(c=this.items.length-1;0<=c;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(h=this.options.toleranceElement?b(this.options.toleranceElement,d.item):d.item,a||(d.width=h.outerWidth(),d.height=h.outerHeight()),h=h.offset(),d.left=h.left,d.top=h.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);
else for(c=this.containers.length-1;0<=c;c--)h=this.containers[c].element.offset(),this.containers[c].containerCache.left=h.left,this.containers[c].containerCache.top=h.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(a){a=a||this;var c,d=a.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=
a.currentItem[0].nodeName.toLowerCase(),g=b("<"+d+">",a.document[0]).addClass(c||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tr"===d?a.currentItem.children().each(function(){b("<td>&#160;</td>",a.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(g)}):"img"===d&&g.attr("src",a.currentItem.attr("src"));c||g.css("visibility","hidden");return g},update:function(b,k){if(!c||d.forcePlaceholderSize)k.height()||k.height(a.currentItem.innerHeight()-
parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),k.width()||k.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}});a.placeholder=b(d.placeholder.element.call(a.element,a.currentItem));a.currentItem.after(a.placeholder);d.placeholder.update(a,a.placeholder)},_contactContainers:function(a){var d,g,h,k,m,l,n,p,f,q=g=null;for(d=this.containers.length-1;0<=d;d--)b.contains(this.currentItem[0],
this.containers[d].element[0])||(this._intersectsWith(this.containers[d].containerCache)?g&&b.contains(this.containers[d].element[0],g.element[0])||(g=this.containers[d],q=d):this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",a,this._uiHash(this)),this.containers[d].containerCache.over=0));if(g)if(1===this.containers.length)this.containers[q].containerCache.over||(this.containers[q]._trigger("over",a,this._uiHash(this)),this.containers[q].containerCache.over=1);else{d=1E4;
h=null;k=(f=g.floating||c(this.currentItem))?"left":"top";m=f?"width":"height";l=this.positionAbs[k]+this.offset.click[k];for(g=this.items.length-1;0<=g;g--)b.contains(this.containers[q].element[0],this.items[g].item[0])&&this.items[g].item[0]!==this.currentItem[0]&&(!f||this.positionAbs.top+this.offset.click.top>this.items[g].top&&this.positionAbs.top+this.offset.click.top<this.items[g].top+this.items[g].height)&&(n=this.items[g].item.offset()[k],p=!1,Math.abs(n-l)>Math.abs(n+this.items[g][m]-l)&&
(p=!0,n+=this.items[g][m]),Math.abs(n-l)<d&&(d=Math.abs(n-l),h=this.items[g],this.direction=p?"up":"down"));(h||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[q]&&(h?this._rearrange(a,h,null,!0):this._rearrange(a,null,this.containers[q].element,!0),this._trigger("change",a,this._uiHash()),this.containers[q]._trigger("change",a,this._uiHash(this)),this.currentContainer=this.containers[q],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[q]._trigger("over",
a,this._uiHash(this)),this.containers[q].containerCache.over=1)}},_createHelper:function(a){var c=this.options;a=b.isFunction(c.helper)?b(c.helper.apply(this.element[0],[a,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;a.parents("body").length||b("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);a[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),
top:this.currentItem.css("top"),left:this.currentItem.css("left")});a[0].style.width&&!c.forceHelperSize||a.width(this.currentItem.width());a[0].style.height&&!c.forceHelperSize||a.height(this.currentItem.height());return a},_adjustOffsetFromHelper:function(a){"string"===typeof a&&(a=a.split(" "));b.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in
a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&
"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,
left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,c,d;c=this.options;"parent"===c.containment&&(c.containment=this.helper[0].parentNode);if("document"===c.containment||"window"===c.containment)this.containment=[0-this.offset.relative.left-
this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b("document"===c.containment?document:window).width()-this.helperProportions.width-this.margins.left,(b("document"===c.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(c.containment)||(a=b(c.containment)[0],c=b(c.containment).offset(),d="hidden"!==b(a).css("overflow"),this.containment=[c.left+(parseInt(b(a).css("borderLeftWidth"),
10)||0)+(parseInt(b(a).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(a).css("borderTopWidth"),10)||0)+(parseInt(b(a).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(b(a).css("borderLeftWidth"),10)||0)-(parseInt(b(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(b(a).css("borderTopWidth"),10)||0)-(parseInt(b(a).css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(a,c){c||(c=this.position);var d="absolute"===a?1:-1,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(h[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():k?0:h.scrollTop())*d,left:c.left+this.offset.relative.left*
d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:h.scrollLeft())*d}},_generatePosition:function(a){var c,d,h=this.options;d=a.pageX;c=a.pageY;var k="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,m=/(html|body)/i.test(k[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=
this._getRelativeOffset());this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(d=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(c=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(d=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(c=this.containment[3]+this.offset.click.top)),h.grid&&(c=this.originalPageY+Math.round((c-
this.originalPageY)/h.grid[1])*h.grid[1],c=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-h.grid[1]:c+h.grid[1]:c,d=this.originalPageX+Math.round((d-this.originalPageX)/h.grid[0])*h.grid[0],d=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-h.grid[0]:d+h.grid[0]:d));return{top:c-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():m?0:k.scrollTop()),left:d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():m?0:k.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var k=this.counter=
this.counter?++this.counter:1;this._delay(function(){k===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){this.reverting=!1;var c,d=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(c in this._storedCSS)if("auto"===this._storedCSS[c]||"static"===this._storedCSS[c])this._storedCSS[c]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!b&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||d.push(function(a){this._trigger("update",a,this._uiHash())});this===this.currentContainer||b||(d.push(function(a){this._trigger("remove",a,this._uiHash())}),d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,
this.currentContainer)),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)));for(c=this.containers.length-1;0<=c;c--)b||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over=0);this.storedCursor&&
(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",a,this._uiHash());for(c=0;c<d.length;c++)d[c].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1}b||this._trigger("beforeStop",a,this._uiHash());
this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!b){for(c=0;c<d.length;c++)d[c].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){!1===b.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(a){var c=a||this;return{helper:c.helper,placeholder:c.placeholder||b([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,
item:c.currentItem,sender:a?a.element:null}}})})(jQuery);
(function(b,d){var c=0;b.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var a,c,d,h=this.element[0].nodeName.toLowerCase(),k="textarea"===h,h="input"===h;this.isMultiLine=k?!0:h?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[k||
h?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(h){if(this.element.prop("readOnly"))c=d=a=!0;else{c=d=a=!1;var k=b.ui.keyCode;switch(h.keyCode){case k.PAGE_UP:a=!0;this._move("previousPage",h);break;case k.PAGE_DOWN:a=!0;this._move("nextPage",h);break;case k.UP:a=!0;this._keyEvent("previous",h);break;case k.DOWN:a=!0;this._keyEvent("next",h);break;case k.ENTER:case k.NUMPAD_ENTER:this.menu.active&&
(a=!0,h.preventDefault(),this.menu.select(h));break;case k.TAB:this.menu.active&&this.menu.select(h);break;case k.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(h),h.preventDefault());break;default:c=!0,this._searchTimeout(h)}}},keypress:function(d){if(a)a=!1,this.isMultiLine&&!this.menu.element.is(":visible")||d.preventDefault();else if(!c){var g=b.ui.keyCode;switch(d.keyCode){case g.PAGE_UP:this._move("previousPage",d);break;case g.PAGE_DOWN:this._move("nextPage",d);
break;case g.UP:this._keyEvent("previous",d);break;case g.DOWN:this._keyEvent("next",d)}}},input:function(a){d?(d=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=b("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,
{mousedown:function(a){a.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];b(a.target).closest(".ui-menu-item").length||this._delay(function(){var a=this;this.document.one("mousedown",function(d){d.target===a.element[0]||d.target===c||b.contains(c,d.target)||a.close()})})},menufocus:function(a,c){if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){b(a.target).trigger(a.originalEvent)});
return}var d=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",a,{item:d})?a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d;this.selectedItem=c}));!1!==this._trigger("select",a,{item:c})&&this._value(c.value);this.term=this._value();
this.close(a);this.selectedItem=c}});this.liveRegion=b("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);"source"===a&&this._initSource();
"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;a&&(a=a.jquery||a.nodeType?b(a):this.document.find(a).eq(0));a||(a=this.element.closest(".ui-front"));a.length||(a=this.document[0].body);return a},_initSource:function(){var a,c,d=this;b.isArray(this.options.source)?(a=this.options.source,this.source=function(c,d){d(b.ui.autocomplete.filter(a,c.term))}):"string"===typeof this.options.source?
(c=this.options.source,this.source=function(a,k){d.xhr&&d.xhr.abort();d.xhr=b.ajax({url:c,data:a,dataType:"json",success:function(a){k(a)},error:function(){k([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);
if(!1!==this._trigger("search",b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var a=this,b=++c;return function(d){b===c&&a.__response(d);a.pending--;a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?
(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:b.map(a,function(a){return"string"===typeof a?{label:a,value:a}:b.extend({label:a.label||
a.value,value:a.value||a.label},a)})},_suggest:function(a){var c=this.menu.element.empty();this._renderMenu(c,a);this.isNewMenu=!0;this.menu.refresh();c.show();this._resizeMenu();c.position(b.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,c){var d=this;b.each(c,function(b,c){d._renderItemData(a,c)})},_renderItemData:function(a,
b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(a,c){return b("<li>").append(b("<a>").text(c.label)).appendTo(a)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,
b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}});b.extend(b.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,c){var d=RegExp(b.ui.autocomplete.escapeRegex(c),"i");return b.grep(a,function(a){return d.test(a.label||a.value||a)})}});b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+
" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments);this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})})(jQuery);
(function(b,d){b.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+
this.eventNamespace,b.proxy(function(b){this.options.disabled&&b.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(b){b.preventDefault()},"click .ui-state-disabled > a":function(b){b.preventDefault()},"click .ui-menu-item:has(a)":function(c){var a=b(c.target).closest(".ui-menu-item");!this.mouseHandled&&a.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(c),a.has(".ui-menu").length?
this.expand(c):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var a=b(c.currentTarget);a.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(c,a)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(b,a){var d=this.active||this.element.children(".ui-menu-item").eq(0);a||this.focus(b,d)},blur:function(c){this._delay(function(){b.contains(this.element[0],
this.document[0].activeElement)||this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){b(c.target).closest(".ui-menu").length||this.collapseAll(c);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=b(this);c.data("ui-menu-submenu-carat")&&c.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(c){function a(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var d,g,h,k,m=!0;switch(c.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(c);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case b.ui.keyCode.HOME:this._move("first","first",c);break;case b.ui.keyCode.END:this._move("last","last",c);break;case b.ui.keyCode.UP:this.previous(c);break;case b.ui.keyCode.DOWN:this.next(c);break;case b.ui.keyCode.LEFT:this.collapse(c);break;case b.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(c);
break;case b.ui.keyCode.ESCAPE:this.collapse(c);break;default:m=!1,d=this.previousFilter||"",g=String.fromCharCode(c.keyCode),h=!1,clearTimeout(this.filterTimer),g===d?h=!0:g=d+g,k=RegExp("^"+a(g),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(b(this).children("a").text())}),d=h&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(g=String.fromCharCode(c.keyCode),k=RegExp("^"+a(g),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(b(this).children("a").text())})),
d.length?(this.focus(c,d),1<d.length?(this.previousFilter=g,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}m&&c.preventDefault()},_activate:function(b){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(b):this.select(b))},refresh:function(){var c,a=this.options.icons.submenu;c=this.element.find(this.options.menus);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var c=b(this),d=c.prev("a"),h=b("<span>").addClass("ui-menu-icon ui-icon "+a).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(h);c.attr("aria-labelledby",d.attr("id"))});c=c.add(this.element);c.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});c.children(":not(.ui-menu-item)").each(function(){var a=
b(this);/[^\-\u2014\u2013\s]/.test(a.text())||a.addClass("ui-widget-content ui-menu-divider")});c.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(b,a){"icons"===b&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(a.submenu);this._super(b,a)},focus:function(b,a){var d;this.blur(b,b&&
"focus"===b.type);this._scrollIntoView(a);this.active=a.first();d=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",d.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");b&&"keydown"===b.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);d=a.children(".ui-menu");d.length&&/^mouse/.test(b.type)&&this._startOpening(d);this.activeMenu=a.parent();this._trigger("focus",
b,{item:a})},_scrollIntoView:function(c){var a,d,g;this._hasScroll()&&(a=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0,a=c.offset().top-this.activeMenu.offset().top-a-d,d=this.activeMenu.scrollTop(),g=this.activeMenu.height(),c=c.height(),0>a?this.activeMenu.scrollTop(d+a):a+c>g&&this.activeMenu.scrollTop(d+a-g+c))},blur:function(b,a){a||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",b,{item:this.active}))},_startOpening:function(b){clearTimeout(this.timer);"true"===b.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(b)},this.delay))},_open:function(c){var a=b.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true");c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(c,
a){clearTimeout(this.timer);this.timer=this._delay(function(){var d=a?this.element:b(c&&c.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element);this._close(d);this.blur(c);this.activeMenu=d},this.delay)},_close:function(b){b||(b=this.active?this.active.parent():this.element);b.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(b){var a=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);a&&a.length&&(this._close(),this.focus(b,a))},expand:function(b){var a=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();a&&a.length&&(this._open(a.parent()),this._delay(function(){this.focus(b,a)}))},next:function(b){this._move("next","first",b)},previous:function(b){this._move("prev","last",b)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(b,a,d){var g;this.active&&(g="first"===b||"last"===b?this.active["first"===b?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[b+"All"](".ui-menu-item").eq(0));g&&g.length&&this.active||(g=this.activeMenu.children(".ui-menu-item")[a]());this.focus(d,g)},nextPage:function(c){var a,d,g;this.active?this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,g=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){a=b(this);return 0>a.offset().top-d-g}),
this.focus(c,a)):this.focus(c,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(c)},previousPage:function(c){var a,d,g;this.active?this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,g=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){a=b(this);return 0<a.offset().top-d+g}),this.focus(c,a)):this.focus(c,this.activeMenu.children(".ui-menu-item").first())):this.next(c)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(c){this.active=this.active||b(c.target).closest(".ui-menu-item");var a={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,a)}})})(jQuery);
(function(b,d){b.widget("ui.slider",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var c,a;c=this.options;var d=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),g=[];a=c.values&&c.values.length||1;d.length>a&&(d.slice(a).remove(),d=d.slice(0,a));for(c=d.length;c<a;c++)g.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=d.add(b(g.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(a){b(this).data("ui-slider-handle-index",a)})},_createRange:function(){var c=this.options,a="";c.range?(!0===c.range&&(c.values?c.values.length&&2!==c.values.length?c.values=[c.values[0],c.values[0]]:b.isArray(c.values)&&(c.values=c.values.slice(0)):c.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=b("<div></div>").appendTo(this.element),a="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(a+("min"===c.range||"max"===c.range?" ui-slider-range-"+c.range:""))):this.range=b([])},_setupEvents:function(){var b=this.handles.add(this.range).filter("a");this._off(b);this._on(b,this._handleEvents);this._hoverable(b);this._focusable(b)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(c){var a,d,g,h,k,m=this,l=this.options;if(l.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();a=this._normValueFromMouse({x:c.pageX,y:c.pageY});d=this._valueMax()-this._valueMin()+1;this.handles.each(function(c){var k=Math.abs(a-m.values(c));if(d>k||d===k&&(c===m._lastChangedValue||m.values(c)===l.min))d=k,g=b(this),h=c});if(!1===this._start(c,h))return!1;this._mouseSliding=
!0;this._handleIndex=h;g.addClass("ui-state-active").focus();k=g.offset();this._clickOffset=b(c.target).parents().addBack().is(".ui-slider-handle")?{left:c.pageX-k.left-g.width()/2,top:c.pageY-k.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(c,h,a);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(b){var a=
this._normValueFromMouse({x:b.pageX,y:b.pageY});this._slide(b,this._handleIndex,a);return!1},_mouseStop:function(b){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(b,this._handleIndex);this._change(b,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(b){var a;"horizontal"===this.orientation?(a=this.elementSize.width,
b=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(a=this.elementSize.height,b=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));a=b/a;1<a&&(a=1);0>a&&(a=0);"vertical"===this.orientation&&(a=1-a);b=this._valueMax()-this._valueMin();a=this._valueMin()+a*b;return this._trimAlignValue(a)},_start:function(b,a){var d={handle:this.handles[a],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(a),d.values=this.values());
return this._trigger("start",b,d)},_slide:function(b,a,d){var g;this.options.values&&this.options.values.length?(g=this.values(a?0:1),2===this.options.values.length&&!0===this.options.range&&(0===a&&d>g||1===a&&d<g)&&(d=g),d!==this.values(a)&&(g=this.values(),g[a]=d,b=this._trigger("slide",b,{handle:this.handles[a],value:d,values:g}),this.values(a?0:1),!1!==b&&this.values(a,d,!0))):d!==this.value()&&(b=this._trigger("slide",b,{handle:this.handles[a],value:d}),!1!==b&&this.value(d))},_stop:function(b,
a){var d={handle:this.handles[a],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(a),d.values=this.values());this._trigger("stop",b,d)},_change:function(b,a){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[a],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(a),d.values=this.values());this._lastChangedValue=a;this._trigger("change",b,d)}},value:function(b){if(arguments.length)this.options.value=
this._trimAlignValue(b),this._refreshValue(),this._change(null,0);else return this._value()},values:function(c,a){var d,g,h;if(1<arguments.length)this.options.values[c]=this._trimAlignValue(a),this._refreshValue(),this._change(null,c);else if(arguments.length)if(b.isArray(arguments[0])){d=this.options.values;g=arguments[0];for(h=0;h<d.length;h+=1)d[h]=this._trimAlignValue(g[h]),this._change(null,h);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(c):this.value();
else return this._values()},_setOption:function(c,a){var d,g=0;"range"===c&&!0===this.options.range&&("min"===a?(this.options.value=this._values(0),this.options.values=null):"max"===a&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));b.isArray(this.options.values)&&(g=this.options.values.length);b.Widget.prototype._setOption.apply(this,arguments);switch(c){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(d=0;d<g;d+=1)this._change(null,d);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var b=this.options.value;return b=this._trimAlignValue(b)},
_values:function(b){var a,d;if(arguments.length)return a=this.options.values[b],a=this._trimAlignValue(a);if(this.options.values&&this.options.values.length){a=this.options.values.slice();for(d=0;d<a.length;d+=1)a[d]=this._trimAlignValue(a[d]);return a}return[]},_trimAlignValue:function(b){if(b<=this._valueMin())return this._valueMin();if(b>=this._valueMax())return this._valueMax();var a=0<this.options.step?this.options.step:1,d=(b-this._valueMin())%a;b-=d;2*Math.abs(d)>=a&&(b+=0<d?a:-a);return parseFloat(b.toFixed(5))},
_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var c,a,d,g,h,k=this.options.range,m=this.options,l=this,n=this._animateOff?!1:m.animate,p={};if(this.options.values&&this.options.values.length)this.handles.each(function(d){a=100*((l.values(d)-l._valueMin())/(l._valueMax()-l._valueMin()));p["horizontal"===l.orientation?"left":"bottom"]=a+"%";b(this).stop(1,1)[n?"animate":"css"](p,m.animate);if(!0===l.options.range)if("horizontal"===
l.orientation){if(0===d)l.range.stop(1,1)[n?"animate":"css"]({left:a+"%"},m.animate);if(1===d)l.range[n?"animate":"css"]({width:a-c+"%"},{queue:!1,duration:m.animate})}else{if(0===d)l.range.stop(1,1)[n?"animate":"css"]({bottom:a+"%"},m.animate);if(1===d)l.range[n?"animate":"css"]({height:a-c+"%"},{queue:!1,duration:m.animate})}c=a});else{d=this.value();g=this._valueMin();h=this._valueMax();a=h!==g?100*((d-g)/(h-g)):0;p["horizontal"===this.orientation?"left":"bottom"]=a+"%";this.handle.stop(1,1)[n?
"animate":"css"](p,m.animate);if("min"===k&&"horizontal"===this.orientation)this.range.stop(1,1)[n?"animate":"css"]({width:a+"%"},m.animate);if("max"===k&&"horizontal"===this.orientation)this.range[n?"animate":"css"]({width:100-a+"%"},{queue:!1,duration:m.animate});if("min"===k&&"vertical"===this.orientation)this.range.stop(1,1)[n?"animate":"css"]({height:a+"%"},m.animate);if("max"===k&&"vertical"===this.orientation)this.range[n?"animate":"css"]({height:100-a+"%"},{queue:!1,duration:m.animate})}},
_handleEvents:{keydown:function(c){var a,d,g,h=b(c.target).data("ui-slider-handle-index");switch(c.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,b(c.target).addClass("ui-state-active"),a=this._start(c,h),!1===a))return}g=this.options.step;a=this.options.values&&this.options.values.length?
d=this.values(h):d=this.value();switch(c.keyCode){case b.ui.keyCode.HOME:d=this._valueMin();break;case b.ui.keyCode.END:d=this._valueMax();break;case b.ui.keyCode.PAGE_UP:d=this._trimAlignValue(a+(this._valueMax()-this._valueMin())/5);break;case b.ui.keyCode.PAGE_DOWN:d=this._trimAlignValue(a-(this._valueMax()-this._valueMin())/5);break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(a===this._valueMax())return;d=this._trimAlignValue(a+g);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(a===
this._valueMin())return;d=this._trimAlignValue(a-g)}this._slide(c,h,d)},click:function(b){b.preventDefault()},keyup:function(c){var a=b(c.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(c,a),this._change(c,a),b(c.target).removeClass("ui-state-active"))}}})})(jQuery);
!function(b){function d(a,b){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(d)}}if(b.support.touch="ontouchend"in document,b.support.touch){var c,a=b.ui.mouse.prototype,e=a._mouseInit,g=a._mouseDestroy;a._touchStart=function(a){!c&&this._mouseCapture(a.originalEvent.changedTouches[0])&&(c=!0,this._touchMoved=
!1,d(a,"mouseover"),d(a,"mousemove"),d(a,"mousedown"))};a._touchMove=function(a){c&&(this._touchMoved=!0,d(a,"mousemove"))};a._touchEnd=function(a){c&&(d(a,"mouseup"),d(a,"mouseout"),this._touchMoved||d(a,"click"),c=!1)};a._mouseInit=function(){this.element.bind({touchstart:b.proxy(this,"_touchStart"),touchmove:b.proxy(this,"_touchMove"),touchend:b.proxy(this,"_touchEnd")});e.call(this)};a._mouseDestroy=function(){this.element.unbind({touchstart:b.proxy(this,"_touchStart"),touchmove:b.proxy(this,
"_touchMove"),touchend:b.proxy(this,"_touchEnd")});g.call(this)}}}(jQuery);
(function(b,d,c){"function"==typeof define&&define.amd?define(["jquery"],function(a){return c(a,b,d),a.mobile}):c(b.jQuery,b,d)})(this,document,function(b,d,c,a){b.mobile={};(function(a,b){var d={touch:"ontouchend"in c};a.mobile.support=a.mobile.support||{};a.extend(a.support,d);a.extend(a.mobile.support,d)})(b);(function(a,b,c,d){function m(a){for(;a&&"undefined"!=typeof a.originalEvent;)a=a.originalEvent;return a}function l(b){for(var c={},d,f;b;){d=a.data(b,w);for(f in d)d[f]&&(c[f]=c.hasVirtualBinding=
!0);b=b.parentNode}return c}function n(){F&&(clearTimeout(F),F=0);F=setTimeout(function(){G=F=0;M.length=0;O=!1;V=!0},a.vmouse.resetTimerDuration)}function p(b,c,f){var g,h;if(!(h=f&&f[b])){if(f=!f)a:{for(f=c.target;f;){if((h=a.data(f,w))&&(!b||h[b]))break a;f=f.parentNode}f=null}h=f}if(h){g=c;f=g.type;var l,n;g=a.Event(g);g.type=b;b=g.originalEvent;h=a.event.props;-1<f.search(/^(mouse|click)/)&&(h=A);if(b)for(n=h.length,l;n;)l=h[--n],g[l]=b[l];-1<f.search(/mouse(down|up)|click/)&&!g.which&&(g.which=
1);if(-1!==f.search(/^touch/)&&(l=m(b),f=l.touches,l=l.changedTouches,b=f&&f.length?f[0]:l&&l.length?l[0]:d))for(f=0,h=B.length;f<h;f++)l=B[f],g[l]=b[l];a(c.target).trigger(g)}return g}function f(b){var c=a.data(b.target,z);O||G&&G===c||(c=p("v"+b.type,b))&&(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation())}function q(b){var c=m(b).touches,d;c&&1===c.length&&(d=b.target,c=l(d),c.hasVirtualBinding&&
(G=T++,a.data(d,z,G),F&&(clearTimeout(F),F=0),D=V=!1,d=m(b).touches[0],I=d.pageX,U=d.pageY,p("vmouseover",b,c),p("vmousedown",b,c)))}function r(a){V||(D||p("vmousecancel",a,l(a.target)),D=!0,n())}function u(b){if(!V){var c=m(b).touches[0],d=D,f=a.vmouse.moveDistanceThreshold,g=l(b.target);(D=D||Math.abs(c.pageX-I)>f||Math.abs(c.pageY-U)>f)&&!d&&p("vmousecancel",b,g);p("vmousemove",b,g);n()}}function s(a){if(!V){V=!0;var b=l(a.target),c;p("vmouseup",a,b);if(!D){var d=p("vclick",a,b);d&&d.isDefaultPrevented()&&
(c=m(a).changedTouches[0],M.push({touchID:G,x:c.clientX,y:c.clientY}),O=!0)}p("vmouseout",a,b);D=!1;n()}}function t(b){b=a.data(b,w);var c;if(b)for(c in b)if(b[c])return!0;return!1}function v(){}function x(b){var c=b.substr(1);return{setup:function(d,g){t(this)||a.data(this,w,{});a.data(this,w)[b]=!0;E[b]=(E[b]||0)+1;1===E[b]&&y.bind(c,f);a(this).bind(c,v);ca&&(E.touchstart=(E.touchstart||0)+1,1===E.touchstart&&y.bind("touchstart",q).bind("touchend",s).bind("touchmove",u).bind("scroll",r))},teardown:function(d,
g){--E[b];E[b]||y.unbind(c,f);ca&&(--E.touchstart,E.touchstart||y.unbind("touchstart",q).unbind("touchmove",u).unbind("touchend",s).unbind("scroll",r));var h=a(this),k=a.data(this,w);k&&(k[b]=!1);h.unbind(c,v);t(this)||h.removeData(w)}}}var w="virtualMouseBindings",z="virtualTouchID";b="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var B="clientX clientY pageX pageY screenX screenY".split(" "),A=a.event.props.concat(a.event.mouseHooks?a.event.mouseHooks.props:
[]),E={},F=0,I=0,U=0,D=!1,M=[],O=!1,V=!1,ca="addEventListener"in c,y=a(c),T=1,G=0,L;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var H=0;H<b.length;H++)a.event.special[b[H]]=x(b[H]);ca&&c.addEventListener("click",function(b){var c=M.length,d=b.target,f,g,h,k,l;if(c)for(f=b.clientX,g=b.clientY,L=a.vmouse.clickDistanceThreshold,h=d;h;){for(k=0;k<c;k++)if(l=M[k],h===d&&Math.abs(l.x-f)<L&&Math.abs(l.y-g)<L||a.data(h,z)===l.touchID){b.preventDefault();b.stopPropagation();
return}h=h.parentNode}},!0)})(b,d,c)});
!function(b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=b()}(function(){return function d(c,a,e){function g(k,l){if(!a[k]){if(!c[k]){var n="function"==typeof require&&require;if(!l&&n)return n(k,!0);if(h)return h(k,!0);n=Error("Cannot find module '"+k+"'");throw n.code="MODULE_NOT_FOUND",n;}n=a[k]={exports:{}};
c[k][0].call(n.exports,function(a){var d=c[k][1][a];return g(d?d:a)},n,n.exports,d,c,a,e)}return a[k].exports}for(var h="function"==typeof require&&require,k=0;k<e.length;k++)g(e[k]);return g}({1:[function(d,c,a){var e=d("matches-selector");c.exports=function(a,c,d){for(a=d?a:a.parentNode;a&&a!==document;){if(e(a,c))return a;a=a.parentNode}}},{"matches-selector":2}],2:[function(d,c,a){d=Element.prototype;var e=d.matchesSelector||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector||
d.oMatchesSelector;c.exports=function(a,c){if(e)return e.call(a,c);for(var d=a.parentNode.querySelectorAll(c),m=0;m<d.length;++m)if(d[m]==a)return!0;return!1}},{}],3:[function(d,c,a){function e(a,c,d,e){return function(d){d.delegateTarget=g(d.target,c,!0);d.delegateTarget&&e.call(a,d)}}var g=d("closest");c.exports=function(a,c,d,g){var n=e.apply(this,arguments);return a.addEventListener(d,n),{destroy:function(){a.removeEventListener(d,n)}}}},{closest:1}],4:[function(d,c,a){a.node=function(a){return void 0!==
a&&a instanceof HTMLElement&&1===a.nodeType};a.nodeList=function(c){var d=Object.prototype.toString.call(c);return void 0!==c&&("[object NodeList]"===d||"[object HTMLCollection]"===d)&&"length"in c&&(0===c.length||a.node(c[0]))};a.string=function(a){return"string"==typeof a||a instanceof String};a.function=function(a){return"[object Function]"===Object.prototype.toString.call(a)}},{}],5:[function(d,c,a){function e(a,c,d){return a.addEventListener(c,d),{destroy:function(){a.removeEventListener(c,d)}}}
function g(a,c,d){return Array.prototype.forEach.call(a,function(a){a.addEventListener(c,d)}),{destroy:function(){Array.prototype.forEach.call(a,function(a){a.removeEventListener(c,d)})}}}var h=d("./is"),k=d("delegate");c.exports=function(a,c,d){if(!a&&!c&&!d)throw Error("Missing required arguments");if(!h.string(c))throw new TypeError("Second argument must be a String");if(!h.function(d))throw new TypeError("Third argument must be a Function");if(h.node(a))return e(a,c,d);if(h.nodeList(a))return g(a,
c,d);if(h.string(a))return k(document.body,a,c,d);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}},{"./is":4,delegate:3}],6:[function(d,c,a){c.exports=function(a){if("INPUT"===a.nodeName||"TEXTAREA"===a.nodeName)a.focus(),a.setSelectionRange(0,a.value.length),a=a.value;else{a.hasAttribute("contenteditable")&&a.focus();var c=window.getSelection(),d=document.createRange();d.selectNodeContents(a);c.removeAllRanges();c.addRange(d);a=c.toString()}return a}},
{}],7:[function(d,c,a){function e(){}e.prototype={on:function(a,c,d){var e=this.e||(this.e={});return(e[a]||(e[a]=[])).push({fn:c,ctx:d}),this},once:function(a,c,d){function e(){l.off(a,e);c.apply(d,arguments)}var l=this;return e._=c,this.on(a,e,d)},emit:function(a){var c=[].slice.call(arguments,1),d=((this.e||(this.e={}))[a]||[]).slice(),e=0,l=d.length;for(e;l>e;e++)d[e].fn.apply(d[e].ctx,c);return this},off:function(a,c){var d=this.e||(this.e={}),e=d[a],l=[];if(e&&c)for(var n=0,p=e.length;p>n;n++)e[n].fn!==
c&&e[n].fn._!==c&&l.push(e[n]);return l.length?d[a]=l:delete d[a],this}};c.exports=e},{}],8:[function(d,c,a){a.__esModule=!0;var e=function(){function a(c,d){for(var e=0;e<d.length;e++){var g=d[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(c,d,e){return d&&a(c.prototype,d),e&&a(c,e),c}}(),g=(d=d("select"))&&d.__esModule?d:{"default":d};d=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.resolveOptions(c);this.initSelection()}return a.prototype.resolveOptions=function(){var a=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];this.action=a.action;this.emitter=a.emitter;this.target=a.target;this.text=a.text;this.trigger=a.trigger;this.selectedText=""},a.prototype.initSelection=function(){if(this.text&&this.target)throw Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw Error('Missing required attributes, use either "target" or "text"');
this.selectTarget()}},a.prototype.selectFake=function(){var a=this;this.removeFake();this.fakeHandler=document.body.addEventListener("click",function(){return a.removeFake()});this.fakeElem=document.createElement("textarea");this.fakeElem.style.position="absolute";this.fakeElem.style.left="-9999px";this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px";this.fakeElem.setAttribute("readonly","");this.fakeElem.value=this.text;document.body.appendChild(this.fakeElem);this.selectedText=
g.default(this.fakeElem);this.copyText()},a.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null);this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},a.prototype.selectTarget=function(){this.selectedText=g.default(this.target);this.copyText()},a.prototype.copyText=function(){var a=void 0;try{a=document.execCommand(this.action)}catch(c){a=!1}this.handleResult(a)},a.prototype.handleResult=function(a){a?this.emitter.emit("success",
{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},a.prototype.clearSelection=function(){this.target&&this.target.blur();window.getSelection().removeAllRanges()},a.prototype.destroy=function(){this.removeFake()},e(a,[{key:"action",set:function(){if(this._action=0>=arguments.length||void 0===arguments[0]?"copy":arguments[0],
"copy"!==this._action&&"cut"!==this._action)throw Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action}},{key:"target",set:function(a){if(void 0!==a){if(!a||"object"!=typeof a||1!==a.nodeType)throw Error('Invalid "target" value, use a valid Element');this._target=a}},get:function(){return this._target}}]),a}();a.default=d;c.exports=a.default},{select:6}],9:[function(d,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!=
typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function h(a,c){var d="data-clipboard-"+a;if(c.hasAttribute(d))return c.getAttribute(d)}a.__esModule=!0;var k=d("./clipboard-action"),m=e(k),k=d("tiny-emitter"),k=e(k);d=d("good-listener");var l=e(d);d=function(a){function c(d,
e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a.call(this);this.resolveOptions(e);this.listenClick(d)}return g(c,a),c.prototype.resolveOptions=function(){var a=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof a.action?a.action:this.defaultAction;this.target="function"==typeof a.target?a.target:this.defaultTarget;this.text="function"==typeof a.text?a.text:this.defaultText},c.prototype.listenClick=function(a){var c=this;
this.listener=l.default(a,"click",function(a){return c.onClick(a)})},c.prototype.onClick=function(a){a=a.delegateTarget||a.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new m.default({action:this.action(a),target:this.target(a),text:this.text(a),trigger:a,emitter:this})},c.prototype.defaultAction=function(a){return h("action",a)},c.prototype.defaultTarget=function(a){return(a=h("target",a))?document.querySelector(a):void 0},c.prototype.defaultText=function(a){return h("text",
a)},c.prototype.destroy=function(){this.listener.destroy();this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},c}(k.default);a.default=d;c.exports=a.default},{"./clipboard-action":8,"good-listener":5,"tiny-emitter":7}]},{},[9])(9)});
(function(b,d){function c(a,b,c){var d=l[b.type]||{};if(null==a)return c||!b.def?null:b.def;a=d.floor?~~a:parseFloat(a);return isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a}function a(a){var c=k(),d=c._rgba=[];a=a.toLowerCase();q(h,function(b,e){var f,g=e.re.exec(a);f=g&&e.parse(g);g=e.space||"rgba";if(f)return f=c[g](f),c[m[g].cache]=f[m[g].cache],d=c._rgba=f._rgba,!1});return d.length?("0,0,0,0"===d.join()&&b.extend(d,f.transparent),c):f[a]}function e(a,b,c){c=(c+1)%1;return 1>6*c?
a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var g=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),
parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],k=b.Color=function(a,c,d,e){return new b.Color.fn.parse(a,c,d,e)},m={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,
type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},n=k.support={},p=b("<p>")[0],f,q=b.each;p.style.cssText="background-color:rgba(1,1,1,.5)";n.rgba=-1<p.style.backgroundColor.indexOf("rgba");q(m,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});k.fn=b.extend(k.prototype,{parse:function(e,g,h,l){if(e===d)return this._rgba=[null,null,null,null],this;if(e.jquery||e.nodeType)e=
b(e).css(g),g=d;var n=this,p=b.type(e),w=this._rgba=[];g!==d&&(e=[e,g,h,l],p="array");if("string"===p)return this.parse(a(e)||f._default);if("array"===p)return q(m.rgba.props,function(a,b){w[b.idx]=c(e[b.idx],b)}),this;if("object"===p)return e instanceof k?q(m,function(a,b){e[b.cache]&&(n[b.cache]=e[b.cache].slice())}):q(m,function(a,d){var f=d.cache;q(d.props,function(a,b){if(!n[f]&&d.to){if("alpha"===a||null==e[a])return;n[f]=d.to(n._rgba)}n[f][b.idx]=c(e[a],b,!0)});n[f]&&0>b.inArray(null,n[f].slice(0,
3))&&(n[f][3]=1,d.from&&(n._rgba=d.from(n[f])))}),this},is:function(a){var b=k(a),c=!0,d=this;q(m,function(a,e){var f,g=b[e.cache];g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],q(e.props,function(a,b){if(null!=g[b.idx])return c=g[b.idx]===f[b.idx]}));return c});return c},_space:function(){var a=[],b=this;q(m,function(c,d){b[d.cache]&&a.push(c)});return a.pop()},transition:function(a,b){var d=k(a),e=d._space(),f=m[e],g=0===this.alpha()?k("transparent"):this,h=g[f.cache]||f.to(g._rgba),n=h.slice(),d=d[f.cache];
q(f.props,function(a,e){var f=e.idx,g=h[f],k=d[f],m=l[e.type]||{};null!==k&&(null===g?n[f]=k:(m.mod&&(k-g>m.mod/2?g+=m.mod:g-k>m.mod/2&&(g-=m.mod)),n[f]=c((k-g)*b+g,e)))});return this[e](n)},blend:function(a){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=k(a)._rgba;return k(b.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var a="rgba(",c=b.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});1===c[3]&&(c.pop(),a="rgb(");return a+c.join()+")"},toHslaString:function(){var a=
"hsla(",c=b.map(this.hsla(),function(a,b){null==a&&(a=2<b?1:0);b&&3>b&&(a=Math.round(100*a)+"%");return a});1===c[3]&&(c.pop(),a="hsl(");return a+c.join()+")"},toHexString:function(a){var c=this._rgba.slice(),d=c.pop();a&&c.push(~~(255*d));return"#"+b.map(c,function(a,b){a=(a||0).toString(16);return 1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});k.fn.parse.prototype=k.fn;m.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,
null,null,a[3]];var b=a[0]/255,c=a[1]/255,d=a[2]/255;a=a[3];var e=Math.max(b,c,d),f=Math.min(b,c,d),g=e-f,h=e+f,k=0.5*h,h=0===k||1===k?k:0.5>=k?g/h:g/(2-h);return[Math.round(f===e?0:b===e?60*(c-d)/g+360:c===e?60*(d-b)/g+120:60*(b-c)/g+240)%360,h,k,null==a?1:a]};m.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2];a=a[3];c=0.5>=d?d*(1+c):d+c-d*c;d=2*d-c;return[Math.round(255*e(d,c,b+1/3)),Math.round(255*e(d,c,b)),Math.round(255*e(d,
c,b-1/3)),a]};q(m,function(a,e){var f=e.props,h=e.cache,l=e.to,m=e.from;k.fn[a]=function(a){l&&!this[h]&&(this[h]=l(this._rgba));if(a===d)return this[h].slice();var e,g=b.type(a),n="array"===g||"object"===g?a:arguments,p=this[h].slice();q(f,function(a,b){var d=n["object"===g?a:b.idx];null==d&&(d=p[b.idx]);p[b.idx]=c(d,b)});return m?(e=k(m(p)),e[h]=p,e):k(p)};q(f,function(c,d){k.fn[c]||(k.fn[c]=function(e){var f=b.type(e),h="alpha"===c?this._hsla?"hsla":"rgba":a,k=this[h](),l=k[d.idx];if("undefined"===
f)return l;"function"===f&&(e=e.call(this,l),f=b.type(e));if(null==e&&d.empty)return this;"string"===f&&(f=g.exec(e))&&(e=l+parseFloat(f[2])*("+"===f[1]?1:-1));k[d.idx]=e;return this[h](k)})})});k.hook=function(c){c=c.split(" ");q(c,function(c,d){b.cssHooks[d]={set:function(c,e){var f,g="";if("string"!==b.type(e)||(f=a(e))){e=k(f||e);if(!n.rgba&&1!==e._rgba[3]){for(f="backgroundColor"===d?c.parentNode:c;(""===g||"transparent"===g)&&f&&f.style;)try{g=b.css(f,"backgroundColor"),f=f.parentNode}catch(h){}e=
e.blend(g&&"transparent"!==g?g:"_default")}e=e.toRgbaString()}try{c.style[d]=e}catch(l){}}};b.fx.step[d]=function(a){a.colorInit||(a.start=k(a.elem,d),a.end=k(a.end),a.colorInit=!0);b.cssHooks[d].set(a.elem,a.start.transition(a.end,a.pos))}})};k.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");b.cssHooks.borderColor={expand:function(a){var b={};q(["Top","Right","Bottom","Left"],function(c,
d){b["border"+d+"Color"]=a});return b}};f=b.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){function d(a){return b.isFunction(a)||"object"==typeof a?a:{top:a,left:a}}var c=b.scrollTo=function(a,c,d){return b(window).scrollTo(a,c,d)};c.defaults={axis:"xy",duration:1.3<=parseFloat(b.fn.jquery)?0:1,limit:!0};c.window=function(a){return b(window)._scrollable()};b.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==b.inArray(this.nodeName.toLowerCase(),["iframe","#document",
"html","body"]))return this;var a=(this.contentWindow||this).document||this.ownerDocument||this;return/webkit/i.test(navigator.userAgent)||"BackCompat"==a.compatMode?a.body:a.documentElement})};b.fn.scrollTo=function(a,e,g){"object"==typeof e&&(g=e,e=0);"function"==typeof g&&(g={onAfter:g});"max"==a&&(a=9E9);g=b.extend({},c.defaults,g);e=e||g.duration;g.queue=g.queue&&1<g.axis.length;g.queue&&(e/=2);g.offset=d(g.offset);g.over=d(g.over);return this._scrollable().each(function(){function h(a){m.animate(p,
e,g.easing,a&&function(){a.call(this,l,g)})}if(null!=a){var k=this,m=b(k),l=a,n,p={},f=m.is("html,body");switch(typeof l){case "number":case "string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(l)){l=d(l);break}l=f?b(l):b(l,this);if(!l.length)return;case "object":if(l.is||l.style)n=(l=b(l)).offset()}var q=b.isFunction(g.offset)&&g.offset(k,l)||g.offset;b.each(g.axis.split(""),function(a,b){var d="x"==b?"Left":"Top",e=d.toLowerCase(),v="scroll"+d,x=k[v],w=c.max(k,b);n?(p[v]=n[e]+(f?0:x-m.offset()[e]),
g.margin&&(p[v]-=parseInt(l.css("margin"+d))||0,p[v]-=parseInt(l.css("border"+d+"Width"))||0),p[v]+=q[e]||0,g.over[e]&&(p[v]+=l["x"==b?"width":"height"]()*g.over[e])):(d=l[e],p[v]=d.slice&&"%"==d.slice(-1)?parseFloat(d)/100*w:d);g.limit&&/^\d+$/.test(p[v])&&(p[v]=0>=p[v]?0:Math.min(p[v],w));!a&&g.queue&&(x!=p[v]&&h(g.onAfterFirst),delete p[v])});h(g.onAfter)}}).end()};c.max=function(a,c){var d="x"==c?"Width":"Height",h="scroll"+d;if(!b(a).is("html,body"))return a[h]-b(a)[d.toLowerCase()]();var d=
"client"+d,k=a.ownerDocument.documentElement,m=a.ownerDocument.body;return Math.max(k[h],m[h])-Math.min(k[d],m[d])};return c});
(function(b){if(!b.support.cors&&b.ajaxTransport&&window.XDomainRequest){var d=/^https?:\/\//i,c=/^get|post$/i,a=RegExp("^"+location.protocol,"i"),e=/text\/html/i,g=/\/json/i,h=/\/xml/i;b.ajaxTransport("* text html xml json",function(k,m,l){if(k.crossDomain&&k.async&&c.test(k.type)&&d.test(k.url)&&a.test(k.url)){var n=null,p=(m.dataType||"").toLowerCase();return{send:function(a,c){n=new XDomainRequest;/^\d+$/.test(m.timeout)&&(n.timeout=m.timeout);n.ontimeout=function(){c(500,"timeout")};n.onload=
function(){var a="Content-Length: "+n.responseText.length+"\r\nContent-Type: "+n.contentType,d=200,f="success",k={text:n.responseText};try{if("html"===p||e.test(n.contentType))k.html=n.responseText;else if("json"===p||"text"!==p&&g.test(n.contentType))try{k.json=b.parseJSON(n.responseText)}catch(l){d=500,f="parseerror"}else if("xml"===p||"text"!==p&&h.test(n.contentType)){var m=new ActiveXObject("Microsoft.XMLDOM");m.async=!1;try{m.loadXML(n.responseText)}catch(r){m=void 0}if(!m||!m.documentElement||
m.getElementsByTagName("parsererror").length)throw"Invalid XML: "+n.responseText;k.xml=m}}catch(B){throw B;}finally{c(d,f,k,a)}};n.onprogress=function(){};n.onerror=function(){c(500,"error",{text:n.responseText})};var d="";m.data&&(d="string"===b.type(m.data)?m.data:b.param(m.data));n.open(k.type,k.url);n.send(d)},abort:function(){n&&n.abort()}}}})}})(jQuery);
(function(b,d,c){function a(a){var b={},d=/^jQuery\d+$/;c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)});return b}function e(a,b){var d=c(this);if(this.value==d.attr("placeholder")&&d.hasClass("placeholder"))if(d.data("placeholder-password")){d=d.hide().next().show().attr("id",d.removeAttr("id").data("placeholder-id"));if(!0===a)return d[0].value=b;d.focus()}else this.value="",d.removeClass("placeholder"),this==h()&&this.select()}function g(){var b,d=c(this),g=
this.id;if(""==this.value){if("password"==this.type){if(!d.data("placeholder-textinput")){try{b=d.clone().attr({type:"text"})}catch(h){b=c("<input>").attr(c.extend(a(this),{type:"text"}))}b.removeAttr("name").data({"placeholder-password":d,"placeholder-id":g}).bind("focus.placeholder",e);d.data({"placeholder-textinput":b,"placeholder-id":g}).before(b)}d=d.removeAttr("id").hide().prev().attr("id",g).show()}d.addClass("placeholder");d[0].value=d.attr("placeholder")}else d.removeClass("placeholder")}
function h(){try{return d.activeElement}catch(a){}}var k="[object OperaMini]"==Object.prototype.toString.call(b.operamini),m="placeholder"in d.createElement("input")&&!k,k="placeholder"in d.createElement("textarea")&&!k,l=c.fn,n=c.valHooks,p=c.propHooks;m&&k?(l=l.placeholder=function(){return this},l.input=l.textarea=!0):(l=l.placeholder=function(){this.filter((m?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":e,"blur.placeholder":g}).data("placeholder-enabled",
!0).trigger("blur.placeholder");return this},l.input=m,l.textarea=k,l={get:function(a){var b=c(a),d=b.data("placeholder-password");return d?d[0].value:b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,b){var d=c(a),k=d.data("placeholder-password");if(k)return k[0].value=b;if(!d.data("placeholder-enabled"))return a.value=b;""==b?(a.value=b,a!=h()&&g.call(a)):d.hasClass("placeholder")?e.call(a,!0,b)||(a.value=b):a.value=b;return d}},m||(n.input=l,p.value=l),k||(n.textarea=
l,p.value=l),c(function(){c(d).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(e);setTimeout(function(){a.each(g)},10)})}),c(b).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})}))})(this,document,jQuery);
(function(b,d){var c=0;b.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:null,hide:null,autoOpen:!1,multiple:!0,position:{}},_create:function(){var a=this.element.hide(),c=this.options;this.speed=b.fx.speeds._default;this._isOpen=!1;a=(this.button=b('<button type="button"><span class="ui-icon ui-icon-triangle-2-n-s"></span></button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(c.classes).attr({title:a.attr("title"),
"aria-haspopup":!0,tabIndex:a.attr("tabIndex")}).insertAfter(a);(this.buttonlabel=b("<span />")).html(c.noneSelectedText).appendTo(a);var a=(this.menu=b("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(c.classes).appendTo(document.body),d=(this.header=b("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(a);(this.headerLinkContainer=b("<ul />")).addClass("ui-helper-reset").html(function(){return!0===
c.header?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+c.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+c.uncheckAllText+"</span></a></li>":"string"===typeof c.header?"<li>"+c.header+"</li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(d);(this.checkboxContainer=
b("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(a);this._bindEvents();this.refresh(!0);c.multiple||a.addClass("ui-multiselect-single")},_init:function(){!1===this.options.header&&this.header.hide();this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide();this.options.autoOpen&&this.open();this.element.is(":disabled")&&this.disable()},refresh:function(a){var d=this.element,g=this.options,h=this.menu,k=this.checkboxContainer,
m=[],l="",n=d.attr("id")||c++;d.find("option").each(function(a){b(this);var c=this.parentNode,d=this.innerHTML,e=this.title,h=this.value;a="ui-multiselect-"+(this.id||n+"-option-"+a);var k=this.disabled,t=this.selected,v=["ui-corner-all"],x=(k?"ui-multiselect-disabled ":" ")+this.className,w;"OPTGROUP"===c.tagName&&(w=c.getAttribute("label"),-1===b.inArray(w,m)&&(l+='<li class="ui-multiselect-optgroup-label '+c.className+'"><a href="#">'+w+"</a></li>",m.push(w)));k&&v.push("ui-state-disabled");t&&
!g.multiple&&v.push("ui-state-active");l+='<li class="'+x+'">';l+='<label for="'+a+'" title="'+e+'" class="'+v.join(" ")+'">';l+='<input id="'+a+'" name="multiselect_'+n+'" type="'+(g.multiple?"checkbox":"radio")+'" value="'+h+'" title="'+d+'"';t&&(l+=' checked="checked"',l+=' aria-selected="true"');k&&(l+=' disabled="disabled"',l+=' aria-disabled="true"');l+=" /><span>"+d+"</span></label></li>"});k.html(l);this.labels=h.find("label");this.inputs=this.labels.children("input");this._setButtonWidth();
this._setMenuWidth();this.button[0].defaultValue=this.update();a||this._trigger("refresh")},update:function(){var a=this.options,c=this.inputs,d=c.filter(":checked"),h=d.length,a=0===h?a.noneSelectedText:b.isFunction(a.selectedText)?a.selectedText.call(this,h,c.length,d.get()):/\d/.test(a.selectedList)&&0<a.selectedList&&h<=a.selectedList?d.map(function(){return b(this).next().html()}).get().join(", "):a.selectedText.replace("#",h).replace("#",c.length);this.buttonlabel.html(a);return a},_bindEvents:function(){function a(){c[c._isOpen?
"close":"open"]();return!1}var c=this,d=this.button;d.find("span").bind("click.multiselect",a);d.bind({click:a,keypress:function(a){switch(a.which){case 27:case 38:case 37:c.close();break;case 39:case 40:c.open()}},mouseenter:function(){d.hasClass("ui-state-disabled")||b(this).addClass("ui-state-hover")},mouseleave:function(){b(this).removeClass("ui-state-hover")},focus:function(){d.hasClass("ui-state-disabled")||b(this).addClass("ui-state-focus")},blur:function(){b(this).removeClass("ui-state-focus")}});
this.header.delegate("a","click.multiselect",function(a){if(b(this).hasClass("ui-multiselect-close"))c.close();else c[b(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"]();a.preventDefault()});this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(a){a.preventDefault();var d=b(this),g=d.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),l=g.get(),d=d.parent().text();!1!==c._trigger("beforeoptgrouptoggle",a,{inputs:l,
label:d})&&(c._toggleChecked(g.filter(":checked").length!==g.length,g),c._trigger("optgrouptoggle",a,{inputs:l,label:d,checked:l[0].checked}))}).delegate("label","mouseenter.multiselect",function(){b(this).hasClass("ui-state-disabled")||(c.labels.removeClass("ui-state-hover"),b(this).addClass("ui-state-hover").find("input").focus())}).delegate("label","keydown.multiselect",function(a){a.preventDefault();switch(a.which){case 9:case 27:c.close();break;case 38:case 40:case 37:case 39:c._traverse(a.which,
this);break;case 13:b(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(a){var d=b(this),g=this.value,l=this.checked,n=c.element.find("option");this.disabled||!1===c._trigger("click",a,{value:g,text:this.title,checked:l})?a.preventDefault():(d.focus(),d.attr("aria-selected",l),n.each(function(){this.value===g?this.selected=l:c.options.multiple||(this.selected=!1)}),c.options.multiple||(c.labels.removeClass("ui-state-active"),d.closest("label").toggleClass("ui-state-active",
l),c.close()),c.element.trigger("change"),setTimeout(b.proxy(c.update,c),10))});b(document).bind("mousedown.multiselect",function(a){!c._isOpen||b.contains(c.menu[0],a.target)||b.contains(c.button[0],a.target)||a.target===c.button[0]||c.close()});b(this.element[0].form).bind("reset.multiselect",function(){setTimeout(b.proxy(c.refresh,c),10)})},_setButtonWidth:function(){var a=this.element.outerWidth(),b=this.options;/\d/.test(b.minWidth)&&a<b.minWidth&&(a=b.minWidth);this.button.width(a)},_setMenuWidth:function(){var a=
this.menu,b=this.button.outerWidth()-parseInt(a.css("padding-left"),10)-parseInt(a.css("padding-right"),10)-parseInt(a.css("border-right-width"),10)-parseInt(a.css("border-left-width"),10);a.width(b||this.button.outerWidth())},_traverse:function(a,c){var d=b(c),h=38===a||37===a,d=d.parent()[h?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[h?"last":"first"]();d.length?d.find("label").trigger("mouseover"):(d=this.menu.find("ul").last(),this.menu.find("label")[h?
"last":"first"]().trigger("mouseover"),d.scrollTop(h?d.height():0))},_toggleState:function(a,b){return function(){this.disabled||(this[a]=b);b?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(a,c){var d=c&&c.length?c:this.inputs,h=this;d.each(this._toggleState("checked",a));d.eq(0).focus();this.update();var k=d.map(function(){return this.value}).get();this.element.find("option").each(function(){!this.disabled&&-1<b.inArray(this.value,k)&&h._toggleState("selected",
a).call(this)});d.length&&this.element.trigger("change")},_toggleDisabled:function(a){this.button.attr({disabled:a,"aria-disabled":a})[a?"addClass":"removeClass"]("ui-state-disabled");var c=this.menu.find("input"),c=a?c.filter(":enabled").data("ech-multiselect-disabled",!0):c.filter(function(){return!0===b.data(this,"ech-multiselect-disabled")}).removeData("ech-multiselect-disabled");c.attr({disabled:a,"arial-disabled":a}).parent()[a?"addClass":"removeClass"]("ui-state-disabled");this.element.attr({disabled:a,
"aria-disabled":a})},open:function(a){a=this.button;var c=this.menu,d=this.speed,h=this.options,k=[];if(!1!==this._trigger("beforeopen")&&!a.hasClass("ui-state-disabled")&&!this._isOpen){var m=c.find("ul").last(),l=h.show,n=a.offset();b.isArray(h.show)&&(l=h.show[0],d=h.show[1]||this.speed);l&&(k=[l,d]);m.scrollTop(0).height(h.height);b.ui.position&&!b.isEmptyObject(h.position)?(h.position.of=h.position.of||a,c.show().position(h.position).hide()):c.css({top:n.top+a.outerHeight(),left:n.left});b.fn.show.apply(c,
k);this.labels.eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus");a.addClass("ui-state-active");this._isOpen=!0;this._trigger("open")}},close:function(){if(!1!==this._trigger("beforeclose")){var a=this.options,c=a.hide,d=this.speed,h=[];b.isArray(a.hide)&&(c=a.hide[0],d=a.hide[1]||this.speed);c&&(h=[c,d]);b.fn.hide.apply(this.menu,h);this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave");this._isOpen=!1;this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},
disable:function(){this._toggleDisabled(!0)},checkAll:function(a){this._toggleChecked(!0);this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1);this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter(":checked")},destroy:function(){b.Widget.prototype.destroy.call(this);this.button.remove();this.menu.remove();this.element.show();return this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},getButton:function(){return this.button},
_setOption:function(a,c){var d=this.menu;switch(a){case "header":d.find("div.ui-multiselect-header")[c?"show":"hide"]();break;case "checkAllText":d.find("a.ui-multiselect-all span").eq(-1).text(c);break;case "uncheckAllText":d.find("a.ui-multiselect-none span").eq(-1).text(c);break;case "height":d.find("ul").last().height(parseInt(c,10));break;case "minWidth":this.options[a]=parseInt(c,10);this._setButtonWidth();this._setMenuWidth();break;case "selectedText":case "selectedList":case "noneSelectedText":this.options[a]=
c;this.update();break;case "classes":d.add(this.button).removeClass(this.options.classes).addClass(c);break;case "multiple":d.toggleClass("ui-multiselect-single",!c),this.options.multiple=c,this.element[0].multiple=c,this.refresh()}b.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery);
(function(){var b="object"===typeof self&&self.self===self&&self||"object"===typeof global&&global.global===global&&global,d=b._,c=Array.prototype,a=Object.prototype,e=c.push,g=c.slice,h=a.toString,k=a.hasOwnProperty,m=Array.isArray,l=Object.keys,n=Object.create,p=function(){},f=function(a){if(a instanceof f)return a;if(!(this instanceof f))return new f(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=f),exports._=f):b._=f;f.VERSION=
"1.8.3";var q=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,f){return a.call(b,c,d,f)};case 4:return function(c,d,f,e){return a.call(b,c,d,f,e)}}return function(){return a.apply(b,arguments)}},r=function(a,b,c){return null==a?f.identity:f.isFunction(a)?q(a,b,c):f.isObject(a)?f.matcher(a):f.property(a)};f.iteratee=function(a,b){return r(a,b,Infinity)};var u=function(a,
b){b=null==b?a.length-1:+b;return function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),f=0;f<c;f++)d[f]=arguments[f+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d);case 2:return a.call(this,arguments[0],arguments[1],d)}c=Array(b+1);for(f=0;f<b;f++)c[f]=arguments[f];c[b]=d;return a.apply(this,c)}},s=function(a){if(!f.isObject(a))return{};if(n)return n(a);p.prototype=a;a=new p;p.prototype=null;return a},t=function(a){return function(b){return null==b?void 0:
b[a]}},v=Math.pow(2,53)-1,x=t("length"),w=function(a){a=x(a);return"number"==typeof a&&0<=a&&a<=v};f.each=f.forEach=function(a,b,c){b=q(b,c);var d;if(w(a))for(c=0,d=a.length;c<d;c++)b(a[c],c,a);else{var e=f.keys(a);c=0;for(d=e.length;c<d;c++)b(a[e[c]],e[c],a)}return a};f.map=f.collect=function(a,b,c){b=r(b,c);c=!w(a)&&f.keys(a);for(var d=(c||a).length,e=Array(d),g=0;g<d;g++){var h=c?c[g]:g;e[g]=b(a[h],h,a)}return e};var z=function(a){return function(b,c,d,e){var g=3<=arguments.length,h=q(c,e,4),k=
d,l=!w(b)&&f.keys(b),m=(l||b).length,n=0<a?0:m-1;g||(k=b[l?l[n]:n],n+=a);for(;0<=n&&n<m;n+=a)g=l?l[n]:n,k=h(k,b[g],g,b);return k}};f.reduce=f.foldl=f.inject=z(1);f.reduceRight=f.foldr=z(-1);f.find=f.detect=function(a,b,c){b=w(a)?f.findIndex(a,b,c):f.findKey(a,b,c);if(void 0!==b&&-1!==b)return a[b]};f.filter=f.select=function(a,b,c){var d=[];b=r(b,c);f.each(a,function(a,c,f){b(a,c,f)&&d.push(a)});return d};f.reject=function(a,b,c){return f.filter(a,f.negate(r(b)),c)};f.every=f.all=function(a,b,c){b=
r(b,c);c=!w(a)&&f.keys(a);for(var d=(c||a).length,e=0;e<d;e++){var g=c?c[e]:e;if(!b(a[g],g,a))return!1}return!0};f.some=f.any=function(a,b,c){b=r(b,c);c=!w(a)&&f.keys(a);for(var d=(c||a).length,e=0;e<d;e++){var g=c?c[e]:e;if(b(a[g],g,a))return!0}return!1};f.contains=f.includes=f.include=function(a,b,c,d){w(a)||(a=f.values(a));if("number"!=typeof c||d)c=0;return 0<=f.indexOf(a,b,c)};f.invoke=u(function(a,b,c){var d=f.isFunction(b);return f.map(a,function(a){var f=d?b:a[b];return null==f?f:f.apply(a,
c)})});f.pluck=function(a,b){return f.map(a,f.property(b))};f.where=function(a,b){return f.filter(a,f.matcher(b))};f.findWhere=function(a,b){return f.find(a,f.matcher(b))};f.max=function(a,b,c){var d=-Infinity,e=-Infinity,g;if(null==b&&null!=a){a=w(a)?a:f.values(a);for(var h=0,k=a.length;h<k;h++)c=a[h],c>d&&(d=c)}else b=r(b,c),f.each(a,function(a,c,f){g=b(a,c,f);if(g>e||-Infinity===g&&-Infinity===d)d=a,e=g});return d};f.min=function(a,b,c){var d=Infinity,e=Infinity,g;if(null==b&&null!=a){a=w(a)?a:
f.values(a);for(var h=0,k=a.length;h<k;h++)c=a[h],c<d&&(d=c)}else b=r(b,c),f.each(a,function(a,c,f){g=b(a,c,f);if(g<e||Infinity===g&&Infinity===d)d=a,e=g});return d};f.shuffle=function(a){return f.sample(a,Infinity)};f.sample=function(a,b,c){if(null==b||c)return w(a)||(a=f.values(a)),a[f.random(a.length-1)];a=w(a)?f.clone(a):f.values(a);c=x(a);b=Math.max(Math.min(b,c),0);c-=1;for(var d=0;d<b;d++){var e=f.random(d,c),g=a[d];a[d]=a[e];a[e]=g}return a.slice(0,b)};f.sortBy=function(a,b,c){b=r(b,c);return f.pluck(f.map(a,
function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};z=function(a,b){return function(c,d,e){var g=b?[[],[]]:{};d=r(d,e);f.each(c,function(b,f){var e=d(b,f,c);a(g,b,e)});return g}};f.groupBy=z(function(a,b,c){f.has(a,c)?a[c].push(b):a[c]=[b]});f.indexBy=z(function(a,b,c){a[c]=b});f.countBy=z(function(a,b,c){f.has(a,c)?a[c]++:a[c]=1});f.toArray=
function(a){return a?f.isArray(a)?g.call(a):w(a)?f.map(a,f.identity):f.values(a):[]};f.size=function(a){return null==a?0:w(a)?a.length:f.keys(a).length};f.partition=z(function(a,b,c){a[c?0:1].push(b)},!0);f.first=f.head=f.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:f.initial(a,a.length-b)};f.initial=function(a,b,c){return g.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))};f.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:f.rest(a,Math.max(0,a.length-b))};f.rest=
f.tail=f.drop=function(a,b,c){return g.call(a,null==b||c?1:b)};f.compact=function(a){return f.filter(a,f.identity)};var B=function(a,b,c,d){d=d||[];for(var e=d.length,g=0,h=x(a);g<h;g++){var k=a[g];if(w(k)&&(f.isArray(k)||f.isArguments(k)))if(b)for(var l=0,m=k.length;l<m;)d[e++]=k[l++];else B(k,b,c,d),e=d.length;else c||(d[e++]=k)}return d};f.flatten=function(a,b){return B(a,b,!1)};f.without=u(function(a,b){return f.difference(a,b)});f.uniq=f.unique=function(a,b,c,d){f.isBoolean(b)||(d=c,c=b,b=!1);
null!=c&&(c=r(c,d));d=[];for(var e=[],g=0,h=x(a);g<h;g++){var k=a[g],l=c?c(k,g,a):k;b?(g&&e===l||d.push(k),e=l):c?f.contains(e,l)||(e.push(l),d.push(k)):f.contains(d,k)||d.push(k)}return d};f.union=u(function(a){return f.uniq(B(a,!0,!0))});f.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=x(a);d<e;d++){var g=a[d];if(!f.contains(b,g)){var h;for(h=1;h<c&&f.contains(arguments[h],g);h++);h===c&&b.push(g)}}return b};f.difference=u(function(a,b){b=B(b,!0,!0);return f.filter(a,function(a){return!f.contains(b,
a)})});f.unzip=function(a){for(var b=a&&f.max(a,x).length||0,c=Array(b),d=0;d<b;d++)c[d]=f.pluck(a,d);return c};f.zip=u(f.unzip);f.object=function(a,b){for(var c={},d=0,e=x(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};z=function(a){return function(b,c,d){c=r(c,d);d=x(b);for(var e=0<a?0:d-1;0<=e&&e<d;e+=a)if(c(b[e],e,b))return e;return-1}};f.findIndex=z(1);f.findLastIndex=z(-1);f.sortedIndex=function(a,b,c,d){c=r(c,d,1);b=c(b);d=0;for(var e=x(a);d<e;){var f=Math.floor((d+e)/2);c(a[f])<b?
d=f+1:e=f}return d};z=function(a,b,c){return function(d,e,h){var k=0,l=x(d);if("number"==typeof h)0<a?k=0<=h?h:Math.max(h+l,k):l=0<=h?Math.min(h+1,l):h+l+1;else if(c&&h&&l)return h=c(d,e),d[h]===e?h:-1;if(e!==e)return h=b(g.call(d,k,l),f.isNaN),0<=h?h+k:-1;for(h=0<a?k:l-1;0<=h&&h<l;h+=a)if(d[h]===e)return h;return-1}};f.indexOf=z(1,f.findIndex,f.sortedIndex);f.lastIndexOf=z(-1,f.findLastIndex);f.range=function(a,b,c){null==b&&(b=a||0,a=0);c=c||1;b=Math.max(Math.ceil((b-a)/c),0);for(var d=Array(b),
e=0;e<b;e++,a+=c)d[e]=a;return d};var A=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);b=s(a.prototype);a=a.apply(b,e);return f.isObject(a)?a:b};f.bind=u(function(a,b,c){if(!f.isFunction(a))throw new TypeError("Bind must be called on a function");var d=u(function(e){return A(a,d,b,this,c.concat(e))});return d});f.partial=u(function(a,b){var c=f.partial.placeholder,d=function(){for(var e=0,f=b.length,g=Array(f),h=0;h<f;h++)g[h]=b[h]===c?arguments[e++]:b[h];for(;e<arguments.length;)g.push(arguments[e++]);
return A(a,d,this,this,g)};return d});f.partial.placeholder=f;f.bindAll=u(function(a,b){b=B(b,!1,!1);var c=b.length;if(1>c)throw Error("bindAll must be passed function names");for(;c--;){var d=b[c];a[d]=f.bind(a[d],a)}});f.memoize=function(a,b){var c=function(d){var e=c.cache,g=""+(b?b.apply(this,arguments):d);f.has(e,g)||(e[g]=a.apply(this,arguments));return e[g]};c.cache={};return c};f.delay=u(function(a,b,c){return setTimeout(function(){return a.apply(null,c)},b)});f.defer=f.partial(f.delay,f,
1);f.throttle=function(a,b,c){var d,e,g,h=null,k=0;c||(c={});var l=function(){k=!1===c.leading?0:f.now();h=null;g=a.apply(d,e);h||(d=e=null)};return function(){var m=f.now();k||!1!==c.leading||(k=m);var n=b-(m-k);d=this;e=arguments;0>=n||n>b?(h&&(clearTimeout(h),h=null),k=m,g=a.apply(d,e),h||(d=e=null)):h||!1===c.trailing||(h=setTimeout(l,n));return g}};f.debounce=function(a,b,c){var d,e,g,h,k,l=function(){var m=f.now()-h;m<b&&0<=m?d=setTimeout(l,b-m):(d=null,c||(k=a.apply(g,e),d||(g=e=null)))};return function(){g=
this;e=arguments;h=f.now();var m=c&&!d;d||(d=setTimeout(l,b));m&&(k=a.apply(g,e),g=e=null);return k}};f.wrap=function(a,b){return f.partial(b,a)};f.negate=function(a){return function(){return!a.apply(this,arguments)}};f.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}};f.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};f.before=function(a,b){var c;return function(){0<--a&&(c=
b.apply(this,arguments));1>=a&&(b=null);return c}};f.once=f.partial(f.before,2);f.restArgs=u;var E=!{toString:null}.propertyIsEnumerable("toString"),F="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" "),I=function(b,c){var d=F.length,e=b.constructor,e=f.isFunction(e)&&e.prototype||a,g="constructor";for(f.has(b,g)&&!f.contains(c,g)&&c.push(g);d--;)g=F[d],g in b&&b[g]!==e[g]&&!f.contains(c,g)&&c.push(g)};f.keys=function(a){if(!f.isObject(a))return[];if(l)return l(a);
var b=[],c;for(c in a)f.has(a,c)&&b.push(c);E&&I(a,b);return b};f.allKeys=function(a){if(!f.isObject(a))return[];var b=[],c;for(c in a)b.push(c);E&&I(a,b);return b};f.values=function(a){for(var b=f.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d};f.mapObject=function(a,b,c){b=r(b,c);c=f.keys(a);for(var d=c.length,e={},g=0;g<d;g++){var h=c[g];e[h]=b(a[h],h,a)}return e};f.pairs=function(a){for(var b=f.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d};f.invert=function(a){for(var b=
{},c=f.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b};f.functions=f.methods=function(a){var b=[],c;for(c in a)f.isFunction(a[c])&&b.push(c);return b.sort()};z=function(a,b){return function(c){var d=arguments.length;if(2>d||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],g=a(f),h=g.length,k=0;k<h;k++){var l=g[k];b&&void 0!==c[l]||(c[l]=f[l])}return c}};f.extend=z(f.allKeys);f.extendOwn=f.assign=z(f.keys);f.findKey=function(a,b,c){b=r(b,c);c=f.keys(a);for(var d,e=0,g=c.length;e<
g;e++)if(d=c[e],b(a[d],d,a))return d};var U=function(a,b,c){return b in c};f.pick=u(function(a,b){var c={},d=b[0];if(null==a)return c;f.isFunction(d)?(1<b.length&&(d=q(d,b[1])),b=f.allKeys(a)):(d=U,b=B(b,!1,!1),a=Object(a));for(var e=0,g=b.length;e<g;e++){var h=b[e],k=a[h];d(k,h,a)&&(c[h]=k)}return c});f.omit=u(function(a,b){var c=b[0],d;f.isFunction(c)?(c=f.negate(c),1<b.length&&(d=b[1])):(b=f.map(B(b,!1,!1),String),c=function(a,c){return!f.contains(b,c)});return f.pick(a,c,d)});f.defaults=z(f.allKeys,
!0);f.create=function(a,b){var c=s(a);b&&f.extendOwn(c,b);return c};f.clone=function(a){return f.isObject(a)?f.isArray(a)?a.slice():f.extend({},a):a};f.tap=function(a,b){b(a);return a};f.isMatch=function(a,b){var c=f.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),g=0;g<d;g++){var h=c[g];if(b[h]!==e[h]||!(h in e))return!1}return!0};var D,M;D=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;if(a!==a)return b!==b;var e=typeof a;return"function"!==e&&"object"!==
e&&"object"!==typeof b?!1:M(a,b,c,d)};M=function(a,b,c,d){a instanceof f&&(a=a._wrapped);b instanceof f&&(b=b._wrapped);var e=h.call(a);if(e!==h.call(b))return!1;switch(e){case "[object RegExp]":case "[object String]":return""+a===""+b;case "[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case "[object Date]":case "[object Boolean]":return+a===+b}e="[object Array]"===e;if(!e){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,k=b.constructor;if(g!==k&&!(f.isFunction(g)&&
g instanceof g&&f.isFunction(k)&&k instanceof k)&&"constructor"in a&&"constructor"in b)return!1}c=c||[];d=d||[];for(g=c.length;g--;)if(c[g]===a)return d[g]===b;c.push(a);d.push(b);if(e){g=a.length;if(g!==b.length)return!1;for(;g--;)if(!D(a[g],b[g],c,d))return!1}else{e=f.keys(a);g=e.length;if(f.keys(b).length!==g)return!1;for(;g--;)if(k=e[g],!f.has(b,k)||!D(a[k],b[k],c,d))return!1}c.pop();d.pop();return!0};f.isEqual=function(a,b){return D(a,b)};f.isEmpty=function(a){return null==a?!0:w(a)&&(f.isArray(a)||
f.isString(a)||f.isArguments(a))?0===a.length:0===f.keys(a).length};f.isElement=function(a){return!(!a||1!==a.nodeType)};f.isArray=m||function(a){return"[object Array]"===h.call(a)};f.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a};f.each("Arguments Function String Number Date RegExp Error".split(" "),function(a){f["is"+a]=function(b){return h.call(b)==="[object "+a+"]"}});f.isArguments(arguments)||(f.isArguments=function(a){return f.has(a,"callee")});"function"!=typeof/./&&
"object"!=typeof Int8Array&&(f.isFunction=function(a){return"function"==typeof a||!1});f.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};f.isNaN=function(a){return f.isNumber(a)&&a!==+a};f.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===h.call(a)};f.isNull=function(a){return null===a};f.isUndefined=function(a){return void 0===a};f.has=function(a,b){return null!=a&&k.call(a,b)};f.noConflict=function(){b._=d;return this};f.identity=function(a){return a};f.constant=function(a){return function(){return a}};
f.noop=function(){};f.property=t;f.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}};f.matcher=f.matches=function(a){a=f.extendOwn({},a);return function(b){return f.isMatch(b,a)}};f.times=function(a,b,c){var d=Array(Math.max(0,a));b=q(b,c,1);for(c=0;c<a;c++)d[c]=b(c);return d};f.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};f.now=Date.now||function(){return(new Date).getTime()};m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;",
"`":"&#x60;"};t=f.invert(m);z=function(a){var b=function(b){return a[b]},c="(?:"+f.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){a=null==a?"":""+a;return d.test(a)?a.replace(e,b):a}};f.escape=z(m);f.unescape=z(t);f.result=function(a,b,c){b=null==a?void 0:a[b];void 0===b&&(b=c);return f.isFunction(b)?b.call(a):b};var O=0;f.uniqueId=function(a){var b=++O+"";return a?a+b:b};f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};
var V=/(.)^/,ca={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},y=/\\|'|\r|\n|\u2028|\u2029/g,T=function(a){return"\\"+ca[a]};f.template=function(a,b,c){!b&&c&&(b=c);b=f.defaults({},b,f.templateSettings);c=RegExp([(b.escape||V).source,(b.interpolate||V).source,(b.evaluate||V).source].join("|")+"|$","g");var d=0,e="__p+='";a.replace(c,function(b,c,f,g,h){e+=a.slice(d,h).replace(y,T);d=h+b.length;c?e+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":f?e+="'+\n((__t=("+f+"))==null?'':__t)+\n'":
g&&(e+="';\n"+g+"\n__p+='");return b});e+="';\n";b.variable||(e="with(obj||{}){\n"+e+"}\n");var e="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+e+"return __p;\n",g;try{g=new Function(b.variable||"obj","_",e)}catch(h){throw h.source=e,h;}c=function(a){return g.call(this,a,f)};c.source="function("+(b.variable||"obj")+"){\n"+e+"}";return c};f.chain=function(a){a=f(a);a._chain=!0;return a};var G=function(a,b){return a._chain?f(b).chain():b};f.mixin=function(a){f.each(f.functions(a),
function(b){var c=f[b]=a[b];f.prototype[b]=function(){var a=[this._wrapped];e.apply(a,arguments);return G(this,c.apply(f,a))}})};f.mixin(f);f.each("pop push reverse shift sort splice unshift".split(" "),function(a){var b=c[a];f.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);"shift"!==a&&"splice"!==a||0!==c.length||delete c[0];return G(this,c)}});f.each(["concat","join","slice"],function(a){var b=c[a];f.prototype[a]=function(){return G(this,b.apply(this._wrapped,arguments))}});f.prototype.value=
function(){return this._wrapped};f.prototype.valueOf=f.prototype.toJSON=f.prototype.value;f.prototype.toString=function(){return""+this._wrapped};"function"===typeof define&&define.amd&&define("underscore",[],function(){return f})})();
!function(){function b(a,b){a.s=null!==b&&void 0!==b?"string"===typeof b?b:b.toString():b;a.orig=b;null!==b&&void 0!==b?a.__defineGetter__?a.__defineGetter__("length",function(){return a.s.length}):a.length=b.length:a.length=-1}function d(a){b(this,a)}function c(a){return new d(a)}function a(a,b){var c=[],d;for(d=0;d<a.length;d++)c.push(a[d]),b&&b.call(a,a[d],d);return c}var e={},g={"\u00c1":"A","\u0102":"A","\u1eae":"A","\u1eb6":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u01cd":"A","\u00c2":"A",
"\u1ea4":"A","\u1eac":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\u00c4":"A","\u01de":"A","\u0226":"A","\u01e0":"A","\u1ea0":"A","\u0200":"A","\u00c0":"A","\u1ea2":"A","\u0202":"A","\u0100":"A","\u0104":"A","\u00c5":"A","\u01fa":"A","\u1e00":"A","\u023a":"A","\u00c3":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u1e02":"B","\u1e04":"B","\u0181":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0106":"C","\u010c":"C",
"\u00c7":"C","\u1e08":"C","\u0108":"C","\u010a":"C","\u0187":"C","\u023b":"C","\u010e":"D","\u1e10":"D","\u1e12":"D","\u1e0a":"D","\u1e0c":"D","\u018a":"D","\u1e0e":"D","\u01f2":"D","\u01c5":"D","\u0110":"D","\u018b":"D","\u01f1":"DZ","\u01c4":"DZ","\u00c9":"E","\u0114":"E","\u011a":"E","\u0228":"E","\u1e1c":"E","\u00ca":"E","\u1ebe":"E","\u1ec6":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1e18":"E","\u00cb":"E","\u0116":"E","\u1eb8":"E","\u0204":"E","\u00c8":"E","\u1eba":"E","\u0206":"E","\u0112":"E",
"\u1e16":"E","\u1e14":"E","\u0118":"E","\u0246":"E","\u1ebc":"E","\u1e1a":"E","\ua76a":"ET","\u1e1e":"F","\u0191":"F","\u01f4":"G","\u011e":"G","\u01e6":"G","\u0122":"G","\u011c":"G","\u0120":"G","\u0193":"G","\u1e20":"G","\u01e4":"G","\u1e2a":"H","\u021e":"H","\u1e28":"H","\u0124":"H","\u2c67":"H","\u1e26":"H","\u1e22":"H","\u1e24":"H","\u0126":"H","\u00cd":"I","\u012c":"I","\u01cf":"I","\u00ce":"I","\u00cf":"I","\u1e2e":"I","\u0130":"I","\u1eca":"I","\u0208":"I","\u00cc":"I","\u1ec8":"I","\u020a":"I",
"\u012a":"I","\u012e":"I","\u0197":"I","\u0128":"I","\u1e2c":"I","\ua779":"D","\ua77b":"F","\ua77d":"G","\ua782":"R","\ua784":"S","\ua786":"T","\ua76c":"IS","\u0134":"J","\u0248":"J","\u1e30":"K","\u01e8":"K","\u0136":"K","\u2c69":"K","\ua742":"K","\u1e32":"K","\u0198":"K","\u1e34":"K","\ua740":"K","\ua744":"K","\u0139":"L","\u023d":"L","\u013d":"L","\u013b":"L","\u1e3c":"L","\u1e36":"L","\u1e38":"L","\u2c60":"L","\ua748":"L","\u1e3a":"L","\u013f":"L","\u2c62":"L","\u01c8":"L","\u0141":"L","\u01c7":"LJ",
"\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u0143":"N","\u0147":"N","\u0145":"N","\u1e4a":"N","\u1e44":"N","\u1e46":"N","\u01f8":"N","\u019d":"N","\u1e48":"N","\u0220":"N","\u01cb":"N","\u00d1":"N","\u01ca":"NJ","\u00d3":"O","\u014e":"O","\u01d1":"O","\u00d4":"O","\u1ed0":"O","\u1ed8":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\u00d6":"O","\u022a":"O","\u022e":"O","\u0230":"O","\u1ecc":"O","\u0150":"O","\u020c":"O","\u00d2":"O","\u1ece":"O","\u01a0":"O","\u1eda":"O","\u1ee2":"O","\u1edc":"O",
"\u1ede":"O","\u1ee0":"O","\u020e":"O","\ua74a":"O","\ua74c":"O","\u014c":"O","\u1e52":"O","\u1e50":"O","\u019f":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u00d5":"O","\u1e4c":"O","\u1e4e":"O","\u022c":"O","\u01a2":"OI","\ua74e":"OO","\u0190":"E","\u0186":"O","\u0222":"OU","\u1e54":"P","\u1e56":"P","\ua752":"P","\u01a4":"P","\ua754":"P","\u2c63":"P","\ua750":"P","\ua758":"Q","\ua756":"Q","\u0154":"R","\u0158":"R","\u0156":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u0210":"R","\u0212":"R",
"\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua73e":"C","\u018e":"E","\u015a":"S","\u1e64":"S","\u0160":"S","\u1e66":"S","\u015e":"S","\u015c":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e68":"S","\u1e9e":"SS","\u0164":"T","\u0162":"T","\u1e70":"T","\u021a":"T","\u023e":"T","\u1e6a":"T","\u1e6c":"T","\u01ac":"T","\u1e6e":"T","\u01ae":"T","\u0166":"T","\u2c6f":"A","\ua780":"L","\u019c":"M","\u0245":"V","\ua728":"TZ","\u00da":"U","\u016c":"U","\u01d3":"U","\u00db":"U","\u1e76":"U","\u00dc":"U","\u01d7":"U",
"\u01d9":"U","\u01db":"U","\u01d5":"U","\u1e72":"U","\u1ee4":"U","\u0170":"U","\u0214":"U","\u00d9":"U","\u1ee6":"U","\u01af":"U","\u1ee8":"U","\u1ef0":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u0216":"U","\u016a":"U","\u1e7a":"U","\u0172":"U","\u016e":"U","\u0168":"U","\u1e78":"U","\u1e74":"U","\ua75e":"V","\u1e7e":"V","\u01b2":"V","\u1e7c":"V","\ua760":"VY","\u1e82":"W","\u0174":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e80":"W","\u2c72":"W","\u1e8c":"X","\u1e8a":"X","\u00dd":"Y","\u0176":"Y",
"\u0178":"Y","\u1e8e":"Y","\u1ef4":"Y","\u1ef2":"Y","\u01b3":"Y","\u1ef6":"Y","\u1efe":"Y","\u0232":"Y","\u024e":"Y","\u1ef8":"Y","\u0179":"Z","\u017d":"Z","\u1e90":"Z","\u2c6b":"Z","\u017b":"Z","\u1e92":"Z","\u0224":"Z","\u1e94":"Z","\u01b5":"Z","\u0132":"IJ","\u0152":"OE","\u1d00":"A","\u1d01":"AE","\u0299":"B","\u1d03":"B","\u1d04":"C","\u1d05":"D","\u1d07":"E","\ua730":"F","\u0262":"G","\u029b":"G","\u029c":"H","\u026a":"I","\u0281":"R","\u1d0a":"J","\u1d0b":"K","\u029f":"L","\u1d0c":"L","\u1d0d":"M",
"\u0274":"N","\u1d0f":"O","\u0276":"OE","\u1d10":"O","\u1d15":"OU","\u1d18":"P","\u0280":"R","\u1d0e":"N","\u1d19":"R","\ua731":"S","\u1d1b":"T","\u2c7b":"E","\u1d1a":"R","\u1d1c":"U","\u1d20":"V","\u1d21":"W","\u028f":"Y","\u1d22":"Z","\u00e1":"a","\u0103":"a","\u1eaf":"a","\u1eb7":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u01ce":"a","\u00e2":"a","\u1ea5":"a","\u1ead":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\u00e4":"a","\u01df":"a","\u0227":"a","\u01e1":"a","\u1ea1":"a","\u0201":"a","\u00e0":"a",
"\u1ea3":"a","\u0203":"a","\u0101":"a","\u0105":"a","\u1d8f":"a","\u1e9a":"a","\u00e5":"a","\u01fb":"a","\u1e01":"a","\u2c65":"a","\u00e3":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u1e03":"b","\u1e05":"b","\u0253":"b","\u1e07":"b","\u1d6c":"b","\u1d80":"b","\u0180":"b","\u0183":"b","\u0275":"o","\u0107":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0109":"c","\u0255":"c","\u010b":"c","\u0188":"c","\u023c":"c",
"\u010f":"d","\u1e11":"d","\u1e13":"d","\u0221":"d","\u1e0b":"d","\u1e0d":"d","\u0257":"d","\u1d91":"d","\u1e0f":"d","\u1d6d":"d","\u1d81":"d","\u0111":"d","\u0256":"d","\u018c":"d","\u0131":"i","\u0237":"j","\u025f":"j","\u0284":"j","\u01f3":"dz","\u01c6":"dz","\u00e9":"e","\u0115":"e","\u011b":"e","\u0229":"e","\u1e1d":"e","\u00ea":"e","\u1ebf":"e","\u1ec7":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1e19":"e","\u00eb":"e","\u0117":"e","\u1eb9":"e","\u0205":"e","\u00e8":"e","\u1ebb":"e","\u0207":"e",
"\u0113":"e","\u1e17":"e","\u1e15":"e","\u2c78":"e","\u0119":"e","\u1d92":"e","\u0247":"e","\u1ebd":"e","\u1e1b":"e","\ua76b":"et","\u1e1f":"f","\u0192":"f","\u1d6e":"f","\u1d82":"f","\u01f5":"g","\u011f":"g","\u01e7":"g","\u0123":"g","\u011d":"g","\u0121":"g","\u0260":"g","\u1e21":"g","\u1d83":"g","\u01e5":"g","\u1e2b":"h","\u021f":"h","\u1e29":"h","\u0125":"h","\u2c68":"h","\u1e27":"h","\u1e23":"h","\u1e25":"h","\u0266":"h","\u1e96":"h","\u0127":"h","\u0195":"hv","\u00ed":"i","\u012d":"i","\u01d0":"i",
"\u00ee":"i","\u00ef":"i","\u1e2f":"i","\u1ecb":"i","\u0209":"i","\u00ec":"i","\u1ec9":"i","\u020b":"i","\u012b":"i","\u012f":"i","\u1d96":"i","\u0268":"i","\u0129":"i","\u1e2d":"i","\ua77a":"d","\ua77c":"f","\u1d79":"g","\ua783":"r","\ua785":"s","\ua787":"t","\ua76d":"is","\u01f0":"j","\u0135":"j","\u029d":"j","\u0249":"j","\u1e31":"k","\u01e9":"k","\u0137":"k","\u2c6a":"k","\ua743":"k","\u1e33":"k","\u0199":"k","\u1e35":"k","\u1d84":"k","\ua741":"k","\ua745":"k","\u013a":"l","\u019a":"l","\u026c":"l",
"\u013e":"l","\u013c":"l","\u1e3d":"l","\u0234":"l","\u1e37":"l","\u1e39":"l","\u2c61":"l","\ua749":"l","\u1e3b":"l","\u0140":"l","\u026b":"l","\u1d85":"l","\u026d":"l","\u0142":"l","\u01c9":"lj","\u017f":"s","\u1e9c":"s","\u1e9b":"s","\u1e9d":"s","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u1d6f":"m","\u1d86":"m","\u0144":"n","\u0148":"n","\u0146":"n","\u1e4b":"n","\u0235":"n","\u1e45":"n","\u1e47":"n","\u01f9":"n","\u0272":"n","\u1e49":"n","\u019e":"n","\u1d70":"n","\u1d87":"n","\u0273":"n",
"\u00f1":"n","\u01cc":"nj","\u00f3":"o","\u014f":"o","\u01d2":"o","\u00f4":"o","\u1ed1":"o","\u1ed9":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\u00f6":"o","\u022b":"o","\u022f":"o","\u0231":"o","\u1ecd":"o","\u0151":"o","\u020d":"o","\u00f2":"o","\u1ecf":"o","\u01a1":"o","\u1edb":"o","\u1ee3":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u020f":"o","\ua74b":"o","\ua74d":"o","\u2c7a":"o","\u014d":"o","\u1e53":"o","\u1e51":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u00f5":"o","\u1e4d":"o",
"\u1e4f":"o","\u022d":"o","\u01a3":"oi","\ua74f":"oo","\u025b":"e","\u1d93":"e","\u0254":"o","\u1d97":"o","\u0223":"ou","\u1e55":"p","\u1e57":"p","\ua753":"p","\u01a5":"p","\u1d71":"p","\u1d88":"p","\ua755":"p","\u1d7d":"p","\ua751":"p","\ua759":"q","\u02a0":"q","\u024b":"q","\ua757":"q","\u0155":"r","\u0159":"r","\u0157":"r","\u1e59":"r","\u1e5b":"r","\u1e5d":"r","\u0211":"r","\u027e":"r","\u1d73":"r","\u0213":"r","\u1e5f":"r","\u027c":"r","\u1d72":"r","\u1d89":"r","\u024d":"r","\u027d":"r","\u2184":"c",
"\ua73f":"c","\u0258":"e","\u027f":"r","\u015b":"s","\u1e65":"s","\u0161":"s","\u1e67":"s","\u015f":"s","\u015d":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e69":"s","\u0282":"s","\u1d74":"s","\u1d8a":"s","\u023f":"s","\u0261":"g","\u00df":"ss","\u1d11":"o","\u1d13":"o","\u1d1d":"u","\u0165":"t","\u0163":"t","\u1e71":"t","\u021b":"t","\u0236":"t","\u1e97":"t","\u2c66":"t","\u1e6b":"t","\u1e6d":"t","\u01ad":"t","\u1e6f":"t","\u1d75":"t","\u01ab":"t","\u0288":"t","\u0167":"t","\u1d7a":"th","\u0250":"a",
"\u1d02":"ae","\u01dd":"e","\u1d77":"g","\u0265":"h","\u02ae":"h","\u02af":"h","\u1d09":"i","\u029e":"k","\ua781":"l","\u026f":"m","\u0270":"m","\u1d14":"oe","\u0279":"r","\u027b":"r","\u027a":"r","\u2c79":"r","\u0287":"t","\u028c":"v","\u028d":"w","\u028e":"y","\ua729":"tz","\u00fa":"u","\u016d":"u","\u01d4":"u","\u00fb":"u","\u1e77":"u","\u00fc":"u","\u01d8":"u","\u01da":"u","\u01dc":"u","\u01d6":"u","\u1e73":"u","\u1ee5":"u","\u0171":"u","\u0215":"u","\u00f9":"u","\u1ee7":"u","\u01b0":"u","\u1ee9":"u",
"\u1ef1":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u0217":"u","\u016b":"u","\u1e7b":"u","\u0173":"u","\u1d99":"u","\u016f":"u","\u0169":"u","\u1e79":"u","\u1e75":"u","\u1d6b":"ue","\ua778":"um","\u2c74":"v","\ua75f":"v","\u1e7f":"v","\u028b":"v","\u1d8c":"v","\u2c71":"v","\u1e7d":"v","\ua761":"vy","\u1e83":"w","\u0175":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e81":"w","\u2c73":"w","\u1e98":"w","\u1e8d":"x","\u1e8b":"x","\u1d8d":"x","\u00fd":"y","\u0177":"y","\u00ff":"y","\u1e8f":"y","\u1ef5":"y",
"\u1ef3":"y","\u01b4":"y","\u1ef7":"y","\u1eff":"y","\u0233":"y","\u1e99":"y","\u024f":"y","\u1ef9":"y","\u017a":"z","\u017e":"z","\u1e91":"z","\u0291":"z","\u2c6c":"z","\u017c":"z","\u1e93":"z","\u0225":"z","\u1e95":"z","\u1d76":"z","\u1d8e":"z","\u0290":"z","\u01b6":"z","\u0240":"z","\ufb00":"ff","\ufb03":"ffi","\ufb04":"ffl","\ufb01":"fi","\ufb02":"fl","\u0133":"ij","\u0153":"oe","\ufb06":"st","\u2090":"a","\u2091":"e","\u1d62":"i","\u2c7c":"j","\u2092":"o","\u1d63":"r","\u1d64":"u","\u1d65":"v",
"\u2093":"x"},h=String.prototype,k=d.prototype={between:function(a,b){var c=this.s,d=c.indexOf(a),e=c.indexOf(b,d+a.length);return-1==e&&null!=b?new this.constructor(""):-1==e&&null==b?new this.constructor(c.substring(d+a.length)):new this.constructor(c.slice(d+a.length,e))},camelize:function(){var a=this.trim().s.replace(/(\-|_|\s)+(.)?/g,function(a,b,c){return c?c.toUpperCase():""});return new this.constructor(a)},capitalize:function(){return new this.constructor(this.s.substr(0,1).toUpperCase()+
this.s.substring(1).toLowerCase())},charAt:function(a){return this.s.charAt(a)},chompLeft:function(a){var b=this.s;return 0===b.indexOf(a)?(b=b.slice(a.length),new this.constructor(b)):this},chompRight:function(a){if(this.endsWith(a)){var b=this.s,b=b.slice(0,b.length-a.length);return new this.constructor(b)}return this},collapseWhitespace:function(){var a=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new this.constructor(a)},contains:function(a){return 0<=this.s.indexOf(a)},count:function(a){for(var b=
0,c=this.s.indexOf(a);0<=c;)b+=1,c=this.s.indexOf(a,c+1);return b},dasherize:function(){var a=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new this.constructor(a)},latinise:function(){var a=this.replace(/[^A-Za-z0-9\[\] ]/g,function(a){return g[a]||a});return new this.constructor(a)},decodeHtmlEntities:function(){var a=this.s,a=a.replace(/&#(\d+);?/g,function(a,b){return String.fromCharCode(b)}).replace(/&#[xX]([A-Fa-f0-9]+);?/g,function(a,
b){return String.fromCharCode(parseInt(b,16))}).replace(/&([^;\W]+;?)/g,function(a,b){var c=b.replace(/;$/,""),c=e[b]||b.match(/;$/)&&e[c];return"number"===typeof c?String.fromCharCode(c):"string"===typeof c?c:a});return new this.constructor(a)},endsWith:function(){for(var a=Array.prototype.slice.call(arguments,0),b=0;b<a.length;++b){var c=this.s.length-a[b].length;if(0<=c&&this.s.indexOf(a[b],c)===c)return!0}return!1},escapeHTML:function(){return new this.constructor(this.s.replace(/[&<>"']/g,function(a){return"&"+
f[a]+";"}))},ensureLeft:function(a){var b=this.s;return 0===b.indexOf(a)?this:new this.constructor(a+b)},ensureRight:function(a){var b=this.s;return this.endsWith(a)?this:new this.constructor(b+a)},humanize:function(){if(null===this.s||void 0===this.s)return new this.constructor("");var a=this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize();return new this.constructor(a)},isAlpha:function(){return!/[^a-z\xDF-\xFF]|^$/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xDF-\xFF]/.test(this.s.toLowerCase())},
isEmpty:function(){return null===this.s||void 0===this.s?!0:/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(a){return 0<=a?(a=this.s.substr(0,a),new this.constructor(a)):this.right(-a)},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(a,b){null==b&&(b=" ");if(this.s.length>=a)return new this.constructor(this.s);
a-=this.s.length;var c=Array(Math.ceil(a/2)+1).join(b),d=Array(Math.floor(a/2)+1).join(b);return new this.constructor(c+this.s+d)},padLeft:function(a,b){null==b&&(b=" ");return this.s.length>=a?new this.constructor(this.s):new this.constructor(Array(a-this.s.length+1).join(b)+this.s)},padRight:function(a,b){null==b&&(b=" ");return this.s.length>=a?new this.constructor(this.s):new this.constructor(this.s+Array(a-this.s.length+1).join(b))},parseCSV:function(a,b,c,d){a=a||",";c=c||"\\";"undefined"==
typeof b&&(b='"');var e=0,f=[],g=[],h=this.s.length,k=!1,l=!1;if("undefined"!==typeof d)var m=[];for(b||(k=!0);e<h;){var n=this.s.charAt(e);switch(n){case c:if(k&&(c!==b||this.s.charAt(e+1)===b)){e+=1;f.push(this.s.charAt(e));break}if(c!==b)break;case b:k=!k;break;case a:l&&(l=k=!1);k&&b?f.push(n):(g.push(f.join("")),f.length=0);break;case d:l?(l=k=!1,g.push(f.join("")),m.push(g),g=[],f.length=0):k?f.push(n):m&&(g.push(f.join("")),m.push(g),g=[],f.length=0);break;case " ":k&&f.push(n);break;default:k?
f.push(n):n!==b&&(f.push(n),l=k=!0)}e+=1}g.push(f.join(""));return m?(m.push(g),m):g},replaceAll:function(a,b){var c=this.s.split(a).join(b);return new this.constructor(c)},strip:function(){for(var a=this.s,b=0,c=arguments.length;b<c;b++)a=a.split(arguments[b]).join("");return new this.constructor(a)},right:function(a){return 0<=a?(a=this.s.substr(this.s.length-a,a),new this.constructor(a)):this.left(-a)},setValue:function(a){b(this,a);return this},slugify:function(){var a=(new d((new d(this.s)).latinise().s.replace(/[^\w\s-]/g,
"").toLowerCase())).dasherize().s;"-"===a.charAt(0)&&(a=a.substr(1));return new this.constructor(a)},startsWith:function(){for(var a=Array.prototype.slice.call(arguments,0),b=0;b<a.length;++b)if(0===this.s.lastIndexOf(a[b],0))return!0;return!1},stripPunctuation:function(){return new this.constructor(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var b=this.s;a(0<arguments.length?arguments:[""],function(a){b=b.replace(RegExp("</?"+a+"[^<>]*>","gi"),"")});return new this.constructor(b)},
template:function(a,b,d){var e=this.s;b=b||c.TMPL_OPEN;d=d||c.TMPL_CLOSE;var f=b.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$"),g=d.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$");(e.match(RegExp(f+"(.+?)"+g,"g"))||[]).forEach(function(c){var f=c.substring(b.length,c.length-d.length).trim();e=e.replace(c,"undefined"==typeof a[f]?"":a[f])});return new this.constructor(e)},times:function(a){return new this.constructor(Array(a+1).join(this.s))},toBoolean:function(){if("string"===typeof this.orig){var a=
this.s.toLowerCase();return"true"===a||"yes"===a||"on"===a||"1"===a}return!0===this.orig||1===this.orig},toFloat:function(a){var b=parseFloat(this.s);return a?parseFloat(b.toFixed(a)):b},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var a;a="undefined"===typeof h.trim?this.s.replace(/(^\s*|\s*$)/g,""):this.s.trim();return new this.constructor(a)},trimLeft:function(){var a;a=h.trimLeft?this.s.trimLeft():this.s.replace(/(^\s*)/g,"");return new this.constructor(a)},
trimRight:function(){var a;a=h.trimRight?this.s.trimRight():this.s.replace(/\s+$/,"");return new this.constructor(a)},truncate:function(a,b){var c=this.s;a=~~a;b=b||"...";if(c.length<=a)return new this.constructor(c);var e=c.slice(0,a+1).replace(/.(?=\W*\w*$)/g,function(a){return a.toUpperCase()!==a.toLowerCase()?"A":" "}),e=e.slice(e.length-2).match(/\w\w/)?e.replace(/\s*\S+$/,""):(new d(e.slice(0,e.length-1))).trimRight().s;return(e+b).length>c.length?new d(c):new d(c.slice(0,e.length)+b)},toCSV:function(a,
b){var c=",",e='"',f="\\",g=!0,h=!1,k=[];"object"===typeof a?(c=a.delimiter||c,c=a.separator||c,e=a.qualifier||e,g=!!a.encloseNumbers,f=a.escape||f,h=!!a.keys):"string"===typeof a&&(c=a);"string"===typeof b&&(e=b);null===b&&(e=null);if(this.orig instanceof Array)k=this.orig;else for(var l in this.orig)this.orig.hasOwnProperty(l)&&(h?k.push(l):k.push(this.orig[l]));f+=e;h=[];for(l=0;l<k.length;++l){var m=null!==e&&""!==e;"number"==typeof k[l]&&(m&=g);m&&h.push(e);if(null!==k[l]&&void 0!==k[l]){var n=
(new d(k[l])).replaceAll(e,f).s;h.push(n)}else h.push("");m&&h.push(e);c&&h.push(c)}h.length-=1;return new this.constructor(h.join(""))},toString:function(){return this.s},underscore:function(){var a=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new this.constructor(a)},unescapeHTML:function(){return new this.constructor(this.s.replace(/\&([^;]+);/g,function(a,b){var c;return b in p?p[b]:(c=b.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(c[1],
16)):(c=b.match(/^#(\d+)$/))?String.fromCharCode(~~c[1]):a}))},valueOf:function(){return this.s.valueOf()},wrapHTML:function(a,b){var c=this.s,c=null==a?"span":a,d="";if("object"==typeof b)for(var e in b)d+=" "+e+'="'+(new this.constructor(b[e])).escapeHTML()+'"';c="".concat("<",c,d,">",this,"</",c,">");return new this.constructor(c)}},m=[],l=function(){var a;a=[];if(Object.getOwnPropertyNames)a=Object.getOwnPropertyNames(h),a.splice(a.indexOf("valueOf"),1),a.splice(a.indexOf("toString"),1);else{var b=
{},c;for(c in String.prototype)b[c]=c;for(c in Object.prototype)delete b[c];for(c in b)a.push(c)}b={};for(c=0;c<a.length;++c){var d=a[c],e=h[d];try{var f=typeof e.apply("teststring",[]);b[d]=f}catch(g){}}return b}(),n;for(n in l)(function(a){var b=h[a];"function"==typeof b&&(k[a]||(k[a]="string"===l[a]?function(){return new this.constructor(b.apply(this,arguments))}:b))})(n);k.repeat=k.times;k.include=k.contains;k.toInteger=k.toInt;k.toBool=k.toBoolean;k.decodeHTMLEntities=k.decodeHtmlEntities;k.constructor=
d;c.extendPrototype=function(){for(var a in k)(function(a){var b=k[a];h.hasOwnProperty(a)||(m.push(a),h[a]=function(){String.prototype.s=this;return b.apply(this,arguments)})})(a)};c.restorePrototype=function(){for(var a=0;a<m.length;++a)delete String.prototype[m[a]];m.length=0};c.VERSION="3.0.0";c.TMPL_OPEN="{{";c.TMPL_CLOSE="}}";c.ENTITIES=e;"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports=c:"function"===typeof define&&define.amd?define([],function(){return c}):window.S=
c;var p={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},f={},q;for(q in p)f[p[q]]=q;e={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,
ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,
raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,
"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,
"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,
"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,
"diams;":9830}}.call(this);
(function(b,d){var c=[].slice,a={};b.amplify={publish:function(b){if("string"!==typeof b)throw Error("You must provide a valid topic to publish.");var d=c.call(arguments,1),h,k,m,l=0;if(!a[b])return!0;h=a[b].slice();for(m=h.length;l<m&&(k=h[l],k=k.callback.apply(k.context,d),!1!==k);l++);return!1!==k},subscribe:function(b,c,d,k){if("string"!==typeof b)throw Error("You must provide a valid topic to create a subscription.");3===arguments.length&&"number"===typeof d&&(k=d,d=c,c=null);2===arguments.length&&
(d=c,c=null);k=k||10;for(var m=0,l=b.split(/\s/),n=l.length,p;m<n;m++){b=l[m];p=!1;a[b]||(a[b]=[]);for(var f=a[b].length-1,q={callback:d,context:c,priority:k};0<=f;f--)if(a[b][f].priority<=k){a[b].splice(f+1,0,q);p=!0;break}p||a[b].unshift(q)}return d},unsubscribe:function(b,c,d){if("string"!==typeof b)throw Error("You must provide a valid topic to remove a subscription.");2===arguments.length&&(d=c,c=null);if(a[b])for(var k=a[b].length,m=0;m<k;m++)a[b][m].callback!==d||c&&a[b][m].context!==c||(a[b].splice(m,
1),m--,k--)}}})(this);
(function(b,d){function c(b,c){a.addType(b,function(g,h,f){var k,r=h,u=(new Date).getTime();if(!g){r={};f=[];h=0;try{for(g=c.length;g=c.key(h++);)e.test(g)&&(k=JSON.parse(c.getItem(g)),k.expires&&k.expires<=u?f.push(g):r[g.replace(e,"")]=k.data);for(;g=f.pop();)c.removeItem(g)}catch(s){}return r}g="__amplify__"+g;if(h===d)if(k=(k=c.getItem(g))?JSON.parse(k):{expires:-1},k.expires&&k.expires<=u)c.removeItem(g);else return k.data;else if(null===h)c.removeItem(g);else{k=JSON.stringify({data:h,expires:f.expires?
u+f.expires:null});try{c.setItem(g,k)}catch(t){a[b]();try{c.setItem(g,k)}catch(v){throw a.error();}}}return r})}var a=b.store=function(b,c,d){var e=a.type;d&&d.type&&d.type in a.types&&(e=d.type);return a.types[e](b,c,d||{})};a.types={};a.type=null;a.addType=function(b,c){a.type||(a.type=b);a.types[b]=c;a[b]=function(c,d,e){e=e||{};e.type=b;return a(c,d,e)}};a.error=function(){return"amplify.store quota exceeded"};var e=/^__amplify__/,g;for(g in{localStorage:1,sessionStorage:1})try{window[g].setItem("__amplify__",
"x"),window[g].removeItem("__amplify__"),c(g,window[g])}catch(h){}if(!a.types.localStorage&&window.globalStorage)try{c("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===a.type&&(a.type="globalStorage")}catch(k){}(function(){if(!a.types.localStorage){var b=document.createElement("div");b.style.display="none";document.getElementsByTagName("head")[0].appendChild(b);try{b.addBehavior("#default#userdata"),b.load("amplify")}catch(c){b.parentNode.removeChild(b);return}a.addType("userData",
function(c,e,f){b.load("amplify");var g,h,k=e,l=(new Date).getTime();if(!c){k={};h=[];for(c=0;e=b.XMLDocument.documentElement.attributes[c++];)g=JSON.parse(e.value),g.expires&&g.expires<=l?h.push(e.name):k[e.name]=g.data;for(;c=h.pop();)b.removeAttribute(c);b.save("amplify");return k}c=c.replace(/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-");c=c.replace(/^-/,"_-");if(e===d)if(g=(e=b.getAttribute(c))?JSON.parse(e):{expires:-1},g.expires&&
g.expires<=l)b.removeAttribute(c);else return g.data;else null===e?b.removeAttribute(c):(h=b.getAttribute(c),g=JSON.stringify({data:e,expires:f.expires?l+f.expires:null}),b.setAttribute(c,g));try{b.save("amplify")}catch(t){null===h?b.removeAttribute(c):b.setAttribute(c,h);a.userData();try{b.setAttribute(c,g),b.save("amplify")}catch(v){throw null===h?b.removeAttribute(c):b.setAttribute(c,h),a.error();}}return k})}})();(function(){var b={},c={};a.addType("memory",function(a,e,f){if(!a)return b===d?
d:JSON.parse(JSON.stringify(b));if(e===d)return b[a]===d?d:JSON.parse(JSON.stringify(b[a]));c[a]&&(clearTimeout(c[a]),delete c[a]);if(null===e)return delete b[a],null;b[a]=e;f.expires&&(c[a]=setTimeout(function(){delete b[a];delete c[a]},f.expires));return e})})()})(this.amplify=this.amplify||{});
(function(b,d){function c(){}function a(a){var b=!1;setTimeout(function(){b=!0},1);return function(){var c=this,d=arguments;b?a.apply(c,d):setTimeout(function(){a.apply(c,d)},1)}}b.request=function(d,g,h){var k=d||{};"string"===typeof k&&("[object Function]"==={}.toString.call(g)&&(h=g,g={}),k={resourceId:d,data:g||{},success:h});d={abort:c};g=b.request.resources[k.resourceId];var m=k.success||c,l=k.error||c;k.success=a(function(a,c){c=c||"success";b.publish("request.success",k,a,c);b.publish("request.complete",
k,a,c);m(a,c)});k.error=a(function(a,c){c=c||"error";b.publish("request.error",k,a,c);b.publish("request.complete",k,a,c);l(a,c)});if(!g){if(!k.resourceId)throw"amplify.request: no resourceId provided";throw"amplify.request: unknown resourceId: "+k.resourceId;}if(b.publish("request.before",k))return b.request.resources[k.resourceId](k,d),d;k.error(null,"abort")};b.request.types={};b.request.resources={};b.request.define=function(a,c,d){if("string"===typeof c){if(!(c in b.request.types))throw"amplify.request.define: unknown type: "+
c;d.resourceId=a;b.request.resources[a]=b.request.types[c](d)}else b.request.resources[a]=c}})(amplify);
(function(b,d,c){var a=["status","statusText","responseText","responseXML","readyState"],e=/\{([^\}]+)\}/g;b.request.types.ajax=function(e){e=d.extend({type:"GET"},e);return function(g,m){var l,n,p=m.abort,f=d.extend(!0,{},e,{data:g.data}),q=!1,r={readyState:0,setRequestHeader:function(a,b){return l.setRequestHeader(a,b)},getAllResponseHeaders:function(){return l.getAllResponseHeaders()},getResponseHeader:function(a){return l.getResponseHeader(a)},overrideMimeType:function(a){return l.overrideMimeType(a)},
abort:function(){q=!0;try{l.abort()}catch(a){}n(null,"abort")},success:function(a,b){g.success(a,b)},error:function(a,b){g.error(a,b)}};n=function(b,e){d.each(a,function(a,b){try{r[b]=l[b]}catch(c){}});/OK$/.test(r.statusText)&&(r.statusText="success");b===c&&(b=null);q&&(e="abort");/timeout|error|abort/.test(e)?r.error(b,e):r.success(b,e);n=d.noop};b.publish("request.ajax.preprocess",e,g,f,r);d.extend(f,{isJSONP:function(){return/jsonp/gi.test(this.dataType)},cacheURL:function(){if(!this.isJSONP())return this.url;
var a="callback";this.hasOwnProperty("jsonp")&&(!1!==this.jsonp?a=this.jsonp:this.hasOwnProperty("jsonpCallback")&&(a=this.jsonpCallback));return this.url.replace(RegExp("&?"+a+"=[^&]*&?","gi"),"")},success:function(a,b){n(a,b)},error:function(a,b){n(null,b)},beforeSend:function(a,c){l=a;f=c;return(e.beforeSend?e.beforeSend.call(this,r,f):!0)&&b.publish("request.before.ajax",e,g,f,r)}});f.cache&&f.isJSONP()&&d.extend(f,{cache:!0});d.ajax(f);m.abort=function(){r.abort();p.call(this)}}};b.subscribe("request.ajax.preprocess",
function(a,b,c){var g=[],n=c.data;"string"!==typeof n&&(n=d.extend(!0,{},a.data,n),c.url=c.url.replace(e,function(a,b){if(b in n)return g.push(b),n[b]}),d.each(g,function(a,b){delete n[b]}),c.data=n)});b.subscribe("request.ajax.preprocess",function(a,b,c){var e=c.data;(b=a.dataMap)&&"string"!==typeof e&&(d.isFunction(b)?c.data=b(e):(d.each(a.dataMap,function(a,b){a in e&&(e[b]=e[a],delete e[a])}),c.data=e))});var g=b.request.cache={_key:function(a,b,c){function d(){return c.charCodeAt(e++)<<24|c.charCodeAt(e++)<<
16|c.charCodeAt(e++)<<8|c.charCodeAt(e++)<<0}c=b+c;b=c.length;for(var e=0,g=d();e<b;)g^=d();return"request-"+a+"-"+g},_default:function(){var a={};return function(b,c,d,e){var p=g._key(c.resourceId,d.cacheURL(),d.data),f=b.cache;if(p in a)return e.success(a[p]),!1;var q=e.success;e.success=function(b){a[p]=b;"number"===typeof f&&setTimeout(function(){delete a[p]},f);q.apply(this,arguments)}}}()};b.store&&(d.each(b.store.types,function(a){g[a]=function(c,d,e,n){var p=g._key(d.resourceId,e.cacheURL(),
e.data);if(d=b.store[a](p))return e.success(d),!1;var f=n.success;n.success=function(d){b.store[a](p,d,{expires:c.cache.expires});f.apply(this,arguments)}}}),g.persist=g[b.store.type]);b.subscribe("request.before.ajax",function(a){var b=a.cache;if(b)return b=b.type||b,g[b in g?b:"_default"].apply(this,arguments)});b.request.decoders={jsend:function(a,b,c,d,e){"success"===a.status?d(a.data):"fail"===a.status?e(a.data,"fail"):"error"===a.status?(delete a.status,e(a,"error")):e(null,"error")}};b.subscribe("request.before.ajax",
function(a,c,e,g){function n(a,b){f(a,b)}function p(a,b){q(a,b)}var f=g.success,q=g.error,r=d.isFunction(a.decoder)?a.decoder:a.decoder in b.request.decoders?b.request.decoders[a.decoder]:b.request.decoders._default;r&&(g.success=function(a,b){r(a,b,g,n,p)},g.error=function(a,b){r(a,b,g,n,p)})})})(amplify,jQuery);
(function(b,d){(function(c){"function"==typeof define&&define.amd?define(["jquery"],c):b.sammy=d.Sammy=c(b)})(function(b){var a,e=/:([\w\d]+)/g,g=/\?([^#]*)?$/,h=function(a){return Array.prototype.slice.call(a)},k=function(a){return"[object Function]"===Object.prototype.toString.call(a)},m=function(a){return"[object Array]"===Object.prototype.toString.call(a)},l=function(a){return decodeURIComponent((a||"").replace(/\+/g," "))},n=encodeURIComponent,p=function(a){return String(a).replace(/&(?!\w+;)/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},f=function(a){return function(){return this.route.apply(this,[a].concat(Array.prototype.slice.call(arguments)))}},q={},r=!!d.history&&!!history.pushState,u=[];return a=function(){var d=h(arguments),e,f;a.apps=a.apps||{};if(0===d.length||d[0]&&k(d[0]))return a.apply(a,["body"].concat(d));if("string"==typeof(f=d.shift()))return e=a.apps[f]||new a.Application,e.element_selector=f,0<d.length&&b.each(d,function(a,b){e.use(b)}),
e.element_selector!=f&&delete a.apps[f],a.apps[e.element_selector]=e,e},a.VERSION="0.7.4",a.addLogger=function(a){u.push(a)},a.log=function(){var d=h(arguments);d.unshift("["+Date()+"]");b.each(u,function(b,c){c.apply(a,d)})},"undefined"!=typeof d.console?k(d.console.log.apply)?a.addLogger(function(){d.console.log.apply(d.console,arguments)}):a.addLogger(function(){d.console.log(arguments)}):"undefined"!=typeof console&&a.addLogger(function(){console.log.apply(console,arguments)}),b.extend(a,{makeArray:h,
isFunction:k,isArray:m}),a.Object=function(a){return b.extend(this,a||{})},b.extend(a.Object.prototype,{escapeHTML:p,h:p,toHash:function(){var a={};return b.each(this,function(b,c){k(c)||(a[b]=c)}),a},toHTML:function(){var a="";return b.each(this,function(b,c){k(c)||(a+="<strong>"+b+"</strong> "+c+"<br />")}),a},keys:function(a){var b=[],c;for(c in this)k(this[c])&&a||b.push(c);return b},has:function(a){return this[a]&&""!==b.trim(this[a].toString())},join:function(){var a=h(arguments),b=a.shift();
return a.join(b)},log:function(){a.log.apply(a,arguments)},toString:function(a){var d=[];return b.each(this,function(b,c){k(c)&&!a||d.push('"'+b+'": '+c.toString())}),"Sammy.Object: {"+d.join(",")+"}"}}),a.targetIsThisWindow=function(a){return(a=b(a.target).attr("target"))&&a!==d.name&&"_self"!==a?"_blank"===a?!1:"top"===a&&d===d.top?!0:!1:!0},a.DefaultLocationProxy=function(a,b){this.app=a;this.is_native=!1;this.has_history=r;this._startPolling(b)},a.DefaultLocationProxy.fullPath=function(a){var b=
a.toString().match(/^[^#]*(#.+)$/);return[a.pathname,a.search,b?b[1]:""].join("")},b.extend(a.DefaultLocationProxy.prototype,{bind:function(){var e=this,f=this.app,g=a.DefaultLocationProxy;b(d).bind("hashchange."+this.app.eventNamespace(),function(a,b){!1===e.is_native&&!b&&(e.is_native=!0,d.clearInterval(g._interval),g._interval=null);f.trigger("location-changed")});r&&!f.disable_push_state&&(b(d).bind("popstate."+this.app.eventNamespace(),function(a){f.trigger("location-changed")}),b(document).delegate("a",
"click.history-"+this.app.eventNamespace(),function(b){if(!(b.isDefaultPrevented()||b.metaKey||b.ctrlKey)){var c=g.fullPath(this);if(this.hostname==d.location.hostname&&f.lookupRoute("get",c)&&a.targetIsThisWindow(b))return b.preventDefault(),e.setLocation(c),!1}}));g._bindings||(g._bindings=0);g._bindings++},unbind:function(){b(d).unbind("hashchange."+this.app.eventNamespace());b(d).unbind("popstate."+this.app.eventNamespace());b(document).undelegate("a","click.history-"+this.app.eventNamespace());
a.DefaultLocationProxy._bindings--;0>=a.DefaultLocationProxy._bindings&&(d.clearInterval(a.DefaultLocationProxy._interval),a.DefaultLocationProxy._interval=null)},getLocation:function(){return a.DefaultLocationProxy.fullPath(d.location)},setLocation:function(a){/^([^#\/]|$)/.test(a)&&(r&&!this.app.disable_push_state?a="/"+a:a="#!/"+a);if(a!=this.getLocation()){if(!r||this.app.disable_push_state||!/^\//.test(a))return d.location=a;history.pushState({path:a},d.title,a);this.app.trigger("location-changed")}},
_startPolling:function(e){var f=this;if(!a.DefaultLocationProxy._interval){e||(e=10);var g=function(){var e=f.getLocation();"undefined"!=typeof a.DefaultLocationProxy._last_location&&e==a.DefaultLocationProxy._last_location||d.setTimeout(function(){b(d).trigger("hashchange",[!0])},0);a.DefaultLocationProxy._last_location=e};g();a.DefaultLocationProxy._interval=d.setInterval(g,e)}}}),a.Application=function(b){var c=this;this.routes={};this.listeners=new a.Object({});this.arounds=[];this.befores=[];
this.namespace=(new Date).getTime()+"-"+parseInt(1E3*Math.random(),10);this.context_prototype=function(){a.EventContext.apply(this,arguments)};this.context_prototype.prototype=new a.EventContext;k(b)&&b.apply(this,[this]);this._location_proxy||this.setLocationProxy(new a.DefaultLocationProxy(this,this.run_interval_every));this.debug&&this.bindToAllEvents(function(a,b){c.log(c.toString(),a.cleaned_type,b||{})})},a.Application.prototype=b.extend({},a.Object.prototype,{ROUTE_VERBS:["get","post","put",
"delete"],APP_EVENTS:"run unload lookup-route run-route route-found event-context-before event-context-after changed error check-form-submission redirect location-changed".split(" "),_last_route:null,_location_proxy:null,_running:!1,element_selector:"body",debug:!1,raise_errors:!1,run_interval_every:50,disable_push_state:!1,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(a){return a?b(this.element_selector).find(a):b(this.element_selector)},
use:function(){var b=h(arguments),c=b.shift(),d=c||"";try{b.unshift(this),"string"==typeof c&&(d="Sammy."+c,c=a[c]),c.apply(this,b)}catch(e){"undefined"==typeof c?this.error("Plugin Error: called use() but plugin ("+d.toString()+") is not defined",e):k(c)?this.error("Plugin Error",e):this.error("Plugin Error: called use() but '"+d.toString()+"' is not a function",e)}return this},setLocationProxy:function(a){var b=this._location_proxy;this._location_proxy=a;this.isRunning()&&(b&&b.unbind(),this._location_proxy.bind())},
log:function(){a.log.apply(a,Array.prototype.concat.apply([this.element_selector],arguments))},route:function(a,d){var f=this,g=[],h,l,m=Array.prototype.slice.call(arguments,2);0===m.length&&k(d)&&(d=a,m=[d],a="any");a=a.toLowerCase();if(d.constructor==String){for(e.lastIndex=0;null!==(l=e.exec(d));)g.push(l[1]);d=RegExp(d.replace(e,"([^/]+)")+"$")}return b.each(m,function(a,b){"string"==typeof b&&(m[a]=f[b])}),h=function(a){var b={verb:a,path:d,callback:m,param_names:g};f.routes[a]=f.routes[a]||
[];f.routes[a].push(b)},"any"===a?b.each(this.ROUTE_VERBS,function(a,b){h(b)}):h(a),this},get:f("get"),post:f("post"),put:f("put"),del:f("delete"),any:f("any"),mapRoutes:function(a){var d=this;return b.each(a,function(a,b){d.route.apply(d,b)}),this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(a,b,c){var d=this;"undefined"==typeof c&&(c=b);b=function(a,b){var e;b&&b.context?(e=b.context,delete b.context):e=new d.context_prototype(d,"bind",a.type,b,a.target);
a.cleaned_type=a.type.replace(d.eventNamespace(),"");c.apply(e,[a,b])};return this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b),this.isRunning()&&this._listen(a,b),this},trigger:function(a,b){return this.$element().trigger([a,this.eventNamespace()].join("."),[b]),this},refresh:function(){return this.last_location=null,this.trigger("location-changed"),this},before:function(a,b){return k(a)&&(b=a,a={}),this.befores.push([a,b]),this},after:function(a){return this.bind("event-context-after",
a)},around:function(a){return this.arounds.push(a),this},onComplete:function(a){return this._onComplete=a,this},isRunning:function(){return this._running},helpers:function(a){return b.extend(this.context_prototype.prototype,a),this},helper:function(a,b){return this.context_prototype.prototype[a]=b,this},run:function(e){if(this.isRunning())return!1;var f=this;return b.each(this.listeners.toHash(),function(a,d){b.each(d,function(b,c){f._listen(a,c)})}),this.trigger("run",{start_url:e}),this._running=
!0,this.last_location=null,!/\#(.+)/.test(this.getLocation())&&"undefined"!=typeof e&&this.setLocation(e),this._checkLocation(),this._location_proxy.bind(),this.bind("location-changed",function(){f._checkLocation()}),this.bind("submit",function(d){return a.targetIsThisWindow(d)?!1===f._checkFormSubmission(b(d.target).closest("form"))?d.preventDefault():!1:!0}),b(d).bind("unload",function(){f.unload()}),this.trigger("changed")},unload:function(){if(!this.isRunning())return!1;var a=this;return this.trigger("unload"),
this._location_proxy.unbind(),this.$element().unbind("submit").removeClass(a.eventNamespace()),b.each(this.listeners.toHash(),function(d,e){b.each(e,function(b,c){a._unlisten(d,c)})}),this._running=!1,this},destroy:function(){return this.unload(),delete a.apps[this.element_selector],this},bindToAllEvents:function(a){var d=this;return b.each(this.APP_EVENTS,function(b,c){d.bind(c,a)}),b.each(this.listeners.keys(!0),function(e,f){-1==b.inArray(f,d.APP_EVENTS)&&d.bind(f,a)}),this},routablePath:function(a){return a.replace(g,
"")},lookupRoute:function(a,b){var c=!1,d=0,e,f;if("undefined"!=typeof this.routes[a])for(e=this.routes[a].length;d<e;d++)if(f=this.routes[a][d],this.routablePath(b).match(f.path)){c=f;break}return c},runRoute:function(a,d,e,f){var g=this,h=this.lookupRoute(a,d),k,m,n,p,I,q,D;this.debug&&this.log("runRoute",[a,d].join(" "));this.trigger("run-route",{verb:a,path:d,params:e});"undefined"==typeof e&&(e={});b.extend(e,this._parseQueryString(d));if(h){this.trigger("route-found",{route:h});null!==(q=h.path.exec(this.routablePath(d)))&&
(q.shift(),b.each(q,function(a,b){h.param_names[a]?e[h.param_names[a]]=l(b):(e.splat||(e.splat=[]),e.splat.push(l(b)))}));k=new this.context_prototype(this,a,d,e,f);f=this.arounds.slice(0);n=this.befores.slice(0);I=[k];e.splat&&(I=I.concat(e.splat));m=function(){for(var a,b,c;0<n.length;)if(p=n.shift(),g.contextMatchesOptions(k,p[0])&&(a=p[1].apply(k,[k]),!1===a))return!1;return g.last_route=h,k.trigger("event-context-before",{context:k}),"function"==typeof h.callback&&(h.callback=[h.callback]),h.callback&&
h.callback.length&&(b=-1,c=function(){b++;h.callback[b]?a=h.callback[b].apply(k,I):g._onComplete&&typeof("function"===g._onComplete)&&g._onComplete(k)},I.push(c),c()),k.trigger("event-context-after",{context:k}),a};b.each(f.reverse(),function(a,b){var c=m;m=function(){return b.apply(k,[c])}});try{D=m()}catch(M){this.error(["500 Error",a,d].join(" "),M)}return D}return this.notFound(a,d)},contextMatchesOptions:function(a,d,e){if("string"==typeof d||"[object RegExp]"===Object.prototype.toString.call(d))d=
{path:d};"undefined"==typeof e&&(e=!0);if(b.isEmptyObject(d))return!0;if(m(d.path)){var f,g,h,k;f=[];g=0;for(k=d.path.length;g<k;g+=1)h=b.extend({},d,{path:d.path[g]}),f.push(this.contextMatchesOptions(a,h));a=-1<b.inArray(!0,f)?!0:!1;return e?a:!a}if(d.only)return this.contextMatchesOptions(a,d.only,!0);if(d.except)return this.contextMatchesOptions(a,d.except,!1);g=f=!0;return d.path&&("[object RegExp]"===Object.prototype.toString.call(d.path)||(d.path=RegExp(d.path.toString()+"$")),f=d.path.test(a.path)),
d.verb&&("string"==typeof d.verb?g=d.verb===a.verb:g=-1<d.verb.indexOf(a.verb)),e?g&&f:!g||!f},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(a){return this._location_proxy.setLocation(a)},swap:function(a,b){var c=this.$element().html(a);return k(b)&&b(a),c},templateCache:function(a,b){return"undefined"!=typeof b?q[a]=b:q[a]},clearTemplateCache:function(){return q={}},notFound:function(a,b){var c=this.error(["404 Not Found",a,b].join(" "));return"get"===a?c:
!0},error:function(a,b){b||(b=Error());b.message=[a,b.message].join(" ");this.trigger("error",{message:b.message,error:b});if(this.raise_errors)throw b;this.log(b.message,b)},_checkLocation:function(){var a,b;a=this.getLocation();this.last_location&&"get"==this.last_location[0]&&this.last_location[1]==a||(this.last_location=["get",a],b=this.runRoute("get",a));return b},_getFormVerb:function(a){a=b(a);var d,e;e=a.find('input[name="_method"]');0<e.length&&(d=e.val());d||(d=a[0].getAttribute("method"));
d&&""!==d||(d="get");return b.trim(d.toString().toLowerCase())},_checkFormSubmission:function(a){var d,e,f,g,h;return this.trigger("check-form-submission",{form:a}),d=b(a),e=d.attr("action")||"",f=this._getFormVerb(d),this.debug&&this.log("_checkFormSubmission",d,e,f),"get"===f?(g=this._serializeFormParams(d),""!==g&&(e+="?"+g),this.setLocation(e),h=!1):(g=b.extend({},this._parseFormParams(d)),h=this.runRoute(f,e,g,a.get(0))),"undefined"==typeof h?!1:h},_serializeFormParams:function(a){var b="";a=
a.serializeArray();var c;if(0<a.length)for(b=this._encodeFormPair(a[0].name,a[0].value),c=1;c<a.length;c++)b=b+"&"+this._encodeFormPair(a[c].name,a[c].value);return b},_encodeFormPair:function(a,b){return n(a)+"="+n(b)},_parseFormParams:function(a){var b={};a=a.serializeArray();var c;for(c=0;c<a.length;c++)b=this._parseParamPair(b,a[c].name,a[c].value);return b},_parseQueryString:function(a){var b={},c,d;if((a=a.match(g))&&a[1])for(a=a[1].split("&"),d=0;d<a.length;d++)c=a[d].split("="),b=this._parseParamPair(b,
l(c[0]),l(c[1]||""));return b},_parseParamPair:function(a,b,c){return"undefined"!=typeof a[b]?m(a[b])?a[b].push(c):a[b]=[a[b],c]:a[b]=c,a},_listen:function(a,b){return this.$element().bind([a,this.eventNamespace()].join("."),b)},_unlisten:function(a,b){return this.$element().unbind([a,this.eventNamespace()].join("."),b)}}),a.RenderContext=function(a){this.event_context=a;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=!1},a.RenderContext.prototype=b.extend({},
a.Object.prototype,{then:function(a){if(!k(a)){if(!("string"==typeof a&&a in this.event_context))return this;var b=this.event_context[a];a=function(a){return b.apply(this.event_context,[a])}}var c=this;return this.waiting?this.callbacks.push(a):(this.wait(),d.setTimeout(function(){var b=a.apply(c,[c.content,c.previous_content]);!1!==b&&c.next(b)},0)),this},wait:function(){this.waiting=!0},next:function(a){this.waiting=!1;"undefined"!=typeof a&&(this.previous_content=this.content,this.content=a);0<
this.callbacks.length&&this.then(this.callbacks.shift())},load:function(a,d,e){var f=this;return this.then(function(){var g,h,l;k(d)?(e=d,d={}):d=b.extend({},d);e&&this.then(e);if("string"==typeof a)return l=a.match(/\.json$/)||d.json,g=l?!0===d.cache:!1!==d.cache,f.next_engine=f.event_context.engineFor(a),delete d.cache,delete d.json,d.engine&&(f.next_engine=d.engine,delete d.engine),g&&(h=this.event_context.app.templateCache(a))?h:(this.wait(),b.ajax(b.extend({url:a,data:{},dataType:l?"json":"text",
type:"get",success:function(b){g&&f.event_context.app.templateCache(a,b);f.next(b)}},d)),!1);if(a.nodeType)return a.innerHTML;if(a.selector)return f.next_engine=a.attr("data-engine"),!1===d.clone?a.remove()[0].innerHTML.toString():a[0].innerHTML.toString()})},loadPartials:function(a){var b;if(a)for(b in this.partials=this.partials||{},a)(function(b,c){b.load(a[c]).then(function(a){this.partials[c]=a})})(this,b);return this},render:function(a,b,c,d){return k(a)&&!b?this.then(a):(k(b)?(d=c,c=b,b=null):
c&&!k(c)&&(d=c,c=null),this.loadPartials(d).load(a).interpolate(b,a).then(c))},partial:function(a,b,c,d){return k(c)?this.render(a,b,d).swap(c):k(b)?this.render(a,{},c).swap(b):this.render(a,b,c).swap()},send:function(){var a=this,b=h(arguments),c=b.shift();return m(b[0])&&(b=b[0]),this.then(function(d){return b.push(function(b){a.next(b)}),a.wait(),c.apply(c,b),!1})},collect:function(a,d,e){var f=this,g=function(){k(a)&&(d=a,a=this.content);var e=[],g=!1;return b.each(a,function(a,b){var c=d.apply(f,
[a,b]);return c.jquery&&1==c.length&&(c=c[0],g=!0),e.push(c),c}),g?e:e.join("")};return e?g():this.then(g)},renderEach:function(a,d,e,f){return m(d)&&(f=e,e=d,d=null),this.load(a).then(function(g){var h=this;e||(e=m(this.previous_content)?this.previous_content:[]);if(!f)return this.collect(e,function(b,c){var e={},f=this.next_engine||a;return d?e[d]=c:e=c,this.event_context.interpolate(g,e,f)},!0);b.each(e,function(b,c){var e={},k=this.next_engine||a;d?e[d]=c:e=c;f(c,h.event_context.interpolate(g,
e,k))})})},interpolate:function(a,b,c){var d=this;return this.then(function(e,f){!a&&f&&(a=f);this.next_engine&&(b=this.next_engine,this.next_engine=!1);var g=d.event_context.interpolate(e,a,b,this.partials);return c?f+g:g})},swap:function(a){return this.then(function(b){return this.event_context.swap(b,a),b}).trigger("changed",{})},appendTo:function(a){return this.then(function(d){b(a).append(d)}).trigger("changed",{})},prependTo:function(a){return this.then(function(d){b(a).prepend(d)}).trigger("changed",
{})},replace:function(a){return this.then(function(d){b(a).html(d)}).trigger("changed",{})},trigger:function(a,b){return this.then(function(c){return"undefined"==typeof b&&(b={content:c}),this.event_context.trigger(a,b),c})}}),a.EventContext=function(b,c,d,e,f){this.app=b;this.verb=c;this.path=d;this.params=new a.Object(e);this.target=f},a.EventContext.prototype=b.extend({},a.Object.prototype,{$element:function(){return this.app.$element(h(arguments).shift())},engineFor:function(a){var b;if(k(a))return a;
a=(a||this.app.template_engine).toString();if(b=a.match(/\.([^\.\?\#]+)$/))a=b[1];return a&&k(this[a])?this[a]:this.app.template_engine?this.engineFor(this.app.template_engine):function(a,b){return a}},interpolate:function(a,b,c,d){return this.engineFor(c).apply(this,[a,b,d])},render:function(b,c,d,e){return(new a.RenderContext(this)).render(b,c,d,e)},renderEach:function(b,c,d,e){return(new a.RenderContext(this)).renderEach(b,c,d,e)},load:function(b,c,d){return(new a.RenderContext(this)).load(b,c,
d)},loadPartials:function(b){return(new a.RenderContext(this)).loadPartials(b)},partial:function(b,c,d,e){return(new a.RenderContext(this)).partial(b,c,d,e)},send:function(){var b=new a.RenderContext(this);return b.send.apply(b,arguments)},redirect:function(){var a;a=h(arguments);var d=this.app.getLocation(),e=a.length;if(1<e){for(var f=0,g=[],k=[],l={},m=!1;f<e;f++)"string"==typeof a[f]?g.push(a[f]):(b.extend(l,a[f]),m=!0);a=g.join("/");if(m){for(var n in l)k.push(this.app._encodeFormPair(n,l[n]));
a+="?"+k.join("&")}}else a=a[0];this.trigger("redirect",{to:a});this.app.last_location=[this.verb,this.path];this.app.setLocation(a);RegExp(a).test(d)&&this.app.trigger("location-changed")},trigger:function(a,b){return"undefined"==typeof b&&(b={}),b.context||(b.context=this),this.app.trigger(a,b)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(a,b){return this.app.swap(a,b)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(a){return b.parseJSON(a)},
toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}}),a})})(jQuery,window);
(function(){(function(b){var d=this||(0,eval)("this"),c=d.document,a=d.navigator,e=d.jQuery,g=d.JSON;(function(a){"function"===typeof define&&define.amd?define(["exports","require"],a):"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?a(module.exports||exports):a(d.ko={})})(function(h,k){function m(a,b){return null===a||typeof a in q?a===b:!1}function l(a,c){var d;return function(){d||(d=setTimeout(function(){d=b;a()},c))}}function n(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function p(a,b,c,d){f.d[a]={init:function(a,e,g,h,k){var l,m;f.w(function(){var g=f.a.c(e()),h=!c!==!g,n=!m;if(n||b||h!==l)n&&f.Z.oa()&&(m=f.a.la(f.e.childNodes(a),!0)),h?(n||f.e.T(a,f.a.la(m)),f.Ja(d?d(k,g):k,a)):f.e.ma(a),l=h},null,{q:a});return{controlsDescendantBindings:!0}}};f.h.ka[a]=!1;f.e.R[a]=!0}var f="undefined"!==typeof h?h:{};f.b=function(a,b){for(var c=a.split("."),d=f,e=0;e<c.length-1;e++)d=d[c[e]];d[c[c.length-1]]=b};f.D=function(a,b,c){a[b]=c};f.version="3.3.0";
f.b("version",f.version);f.a=function(){function h(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function k(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function l(a,b){a.__proto__=b;return a}function m(a,b,c,d){var e=a[b].match(r)||[];f.a.o(c.match(r),function(a){f.a.ga(e,a,d)});a[b]=e.join(" ")}var n={__proto__:[]}instanceof Array,p={},q={};p[a&&/Firefox\/2/i.test(a.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];p.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");
h(p,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)q[b[c]]=a});var F={propertychange:!0},I=c&&function(){for(var a=3,d=c.createElement("div"),e=d.getElementsByTagName("i");d.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",e[0];);return 4<a?a:b}(),r=/\S+/g;return{Bb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},m:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,
b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},vb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d))return a[d];return null},ya:function(a,b){var c=f.a.m(a,b);0<c?a.splice(c,1):0===c&&a.shift()},wb:function(a){a=a||[];for(var b=[],c=0,d=a.length;c<d;c++)0>f.a.m(b,a[c])&&b.push(a[c]);return b},Ka:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)c.push(b(a[d],d));return c},xa:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);
return c},ia:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},ga:function(a,b,c){var d=f.a.m(f.a.cb(a),b);0>d?c&&a.push(b):c||a.splice(d,1)},za:n,extend:k,Fa:l,Ga:n?l:k,A:h,pa:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},Ra:function(a){for(;a.firstChild;)f.removeNode(a.firstChild)},Jb:function(a){a=f.a.O(a);for(var b=(a[0]&&a[0].ownerDocument||c).createElement("div"),d=0,e=a.length;d<
e;d++)b.appendChild(f.S(a[d]));return b},la:function(a,b){for(var c=0,d=a.length,e=[];c<d;c++){var g=a[c].cloneNode(!0);e.push(b?f.S(g):g)}return e},T:function(a,b){f.a.Ra(a);if(b)for(var c=0,d=b.length;c<d;c++)a.appendChild(b[c])},Qb:function(a,b){var c=a.nodeType?[a]:a;if(0<c.length){for(var d=c[0],e=d.parentNode,g=0,h=b.length;g<h;g++)e.insertBefore(b[g],d);g=0;for(h=c.length;g<h;g++)f.removeNode(c[g])}},na:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==
b;)a.splice(0,1);if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)if(a.push(c),c=c.nextSibling,!c)return;a.push(d)}}return a},Sb:function(a,b){7>I?a.setAttribute("selected",b):a.selected=b},ib:function(a){return null===a||a===b?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Dc:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},jc:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?
a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Qa:function(a){return f.a.jc(a,a.ownerDocument.documentElement)},tb:function(a){return!!f.a.vb(a,f.a.Qa)},v:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(a,b,c){var d=I&&F[b];if(!d&&e)e(a).bind(b,c);else if(d||"function"!=typeof a.addEventListener)if("undefined"!=typeof a.attachEvent){var g=function(b){c.call(a,b)},h="on"+b;a.attachEvent(h,g);f.a.C.fa(a,
function(){a.detachEvent(h,g)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else a.addEventListener(b,c,!1)},qa:function(a,b){if(!a||!a.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var g;"input"===f.a.v(a)&&a.type&&"click"==b.toLowerCase()?(g=a.type,g="checkbox"==g||"radio"==g):g=!1;if(e&&!g)e(a).trigger(b);else if("function"==typeof c.createEvent)if("function"==typeof a.dispatchEvent)g=c.createEvent(q[b]||"HTMLEvents"),g.initEvent(b,
!0,!0,d,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(g);else throw Error("The supplied element doesn't support dispatchEvent");else if(g&&a.click)a.click();else if("undefined"!=typeof a.fireEvent)a.fireEvent("on"+b);else throw Error("Browser doesn't support triggering events");},c:function(a){return f.F(a)?a():a},cb:function(a){return f.F(a)?a.B():a},Ia:function(a,b,c){var d;b&&("object"===typeof a.classList?(d=a.classList[c?"add":"remove"],f.a.o(b.match(r),function(b){d.call(a.classList,b)})):"string"===
typeof a.className.baseVal?m(a.className,"baseVal",b,c):m(a,"className",b,c))},Ha:function(a,c){var d=f.a.c(c);if(null===d||d===b)d="";var e=f.e.firstChild(a);!e||3!=e.nodeType||f.e.nextSibling(e)?f.e.T(a,[a.ownerDocument.createTextNode(d)]):e.data=d;f.a.mc(a)},Rb:function(a,b){a.name=b;if(7>=I)try{a.mergeAttributes(c.createElement("<input name='"+a.name+"'/>"),!1)}catch(d){}},mc:function(a){9<=I&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},kc:function(a){if(I){var b=a.style.width;
a.style.width=0;a.style.width=b}},Bc:function(a,b){a=f.a.c(a);b=f.a.c(b);for(var c=[],d=a;d<=b;d++)c.push(d);return c},O:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},Hc:6===I,Ic:7===I,M:I,Db:function(a,b){for(var c=f.a.O(a.getElementsByTagName("input")).concat(f.a.O(a.getElementsByTagName("textarea"))),d="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},e=[],g=c.length-1;0<=g;g--)d(c[g])&&e.push(c[g]);return e},yc:function(a){return"string"==
typeof a&&(a=f.a.ib(a))?g&&g.parse?g.parse(a):(new Function("return "+a))():null},jb:function(a,b,c){if(!g||!g.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return g.stringify(f.a.c(a),b,c)},zc:function(a,b,d){d=d||{};var e=d.params||{},g=d.includeFields||this.Bb,k=a;if("object"==typeof a&&"form"===f.a.v(a))for(var k=a.action,
l=g.length-1;0<=l;l--)for(var m=f.a.Db(a,g[l]),n=m.length-1;0<=n;n--)e[m[n].name]=m[n].value;b=f.a.c(b);var p=c.createElement("form");p.style.display="none";p.action=k;p.method="post";for(var w in b)a=c.createElement("input"),a.type="hidden",a.name=w,a.value=f.a.jb(f.a.c(b[w])),p.appendChild(a);h(e,function(a,b){var d=c.createElement("input");d.type="hidden";d.name=a;d.value=b;p.appendChild(d)});c.body.appendChild(p);d.submitter?d.submitter(p):p.submit();setTimeout(function(){p.parentNode.removeChild(p)},
0)}}}();f.b("utils",f.a);f.b("utils.arrayForEach",f.a.o);f.b("utils.arrayFirst",f.a.vb);f.b("utils.arrayFilter",f.a.xa);f.b("utils.arrayGetDistinctValues",f.a.wb);f.b("utils.arrayIndexOf",f.a.m);f.b("utils.arrayMap",f.a.Ka);f.b("utils.arrayPushAll",f.a.ia);f.b("utils.arrayRemoveItem",f.a.ya);f.b("utils.extend",f.a.extend);f.b("utils.fieldsIncludedWithJsonPost",f.a.Bb);f.b("utils.getFormFields",f.a.Db);f.b("utils.peekObservable",f.a.cb);f.b("utils.postJson",f.a.zc);f.b("utils.parseJson",f.a.yc);f.b("utils.registerEventHandler",
f.a.n);f.b("utils.stringifyJson",f.a.jb);f.b("utils.range",f.a.Bc);f.b("utils.toggleDomNodeCssClass",f.a.Ia);f.b("utils.triggerEvent",f.a.qa);f.b("utils.unwrapObservable",f.a.c);f.b("utils.objectForEach",f.a.A);f.b("utils.addOrRemoveItem",f.a.ga);f.b("utils.setTextContent",f.a.Ha);f.b("unwrap",f.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=
c.slice(0);d.push.apply(d,arguments);return b.apply(a,d)}});f.a.f=new function(){function a(f,g){var h=f[d];if(!h||"null"===h||!e[h]){if(!g)return b;h=f[d]="ko"+c++;e[h]={}}return e[h]}var c=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===b?b:e[d]},set:function(c,d,e){if(e!==b||a(c,!1)!==b)a(c,!0)[d]=e},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},I:function(){return c++ +d}}};f.b("utils.domData",f.a.f);f.b("utils.domData.clear",f.a.f.clear);
f.a.C=new function(){function a(c,e){var g=f.a.f.get(c,d);g===b&&e&&(g=[],f.a.f.set(c,d,g));return g}function c(b){var d=a(b,!1);if(d)for(var d=d.slice(0),e=0;e<d.length;e++)d[e](b);f.a.f.clear(b);f.a.C.cleanExternalData(b);if(h[b.nodeType])for(d=b.firstChild;b=d;)d=b.nextSibling,8===b.nodeType&&c(b)}var d=f.a.f.I(),g={1:!0,8:!0,9:!0},h={1:!0,9:!0};return{fa:function(b,c){if("function"!=typeof c)throw Error("Callback must be a function");a(b,!0).push(c)},Pb:function(c,e){var g=a(c,!1);g&&(f.a.ya(g,
e),0==g.length&&f.a.f.set(c,d,b))},S:function(a){if(g[a.nodeType]&&(c(a),h[a.nodeType])){var b=[];f.a.ia(b,a.getElementsByTagName("*"));for(var d=0,e=b.length;d<e;d++)c(b[d])}return a},removeNode:function(a){f.S(a);a.parentNode&&a.parentNode.removeChild(a)},cleanExternalData:function(a){e&&"function"==typeof e.cleanData&&e.cleanData([a])}}};f.S=f.a.C.S;f.removeNode=f.a.C.removeNode;f.b("cleanNode",f.S);f.b("removeNode",f.removeNode);f.b("utils.domNodeDisposal",f.a.C);f.b("utils.domNodeDisposal.addDisposeCallback",
f.a.C.fa);f.b("utils.domNodeDisposal.removeDisposeCallback",f.a.C.Pb);(function(){f.a.ca=function(a,b){var g;if(e)if(e.parseHTML)g=e.parseHTML(a,b)||[];else{if((g=e.clean([a],b))&&g[0]){for(var h=g[0];h.parentNode&&11!==h.parentNode.nodeType;)h=h.parentNode;h.parentNode&&h.parentNode.removeChild(h)}}else{(h=b)||(h=c);g=h.parentWindow||h.defaultView||d;var k=f.a.ib(a).toLowerCase(),h=h.createElement("div"),k=k.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!k.indexOf("<tr")&&[2,"<table><tbody>",
"</tbody></table>"]||(!k.indexOf("<td")||!k.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],l="ignored<div>"+k[1]+a+k[2]+"</div>";for("function"==typeof g.innerShiv?h.appendChild(g.innerShiv(l)):h.innerHTML=l;k[0]--;)h=h.lastChild;g=f.a.O(h.lastChild.childNodes)}return g};f.a.gb=function(a,c){f.a.Ra(a);c=f.a.c(c);if(null!==c&&c!==b)if("string"!=typeof c&&(c=c.toString()),e)e(a).html(c);else for(var d=f.a.ca(c,a.ownerDocument),g=0;g<d.length;g++)a.appendChild(d[g])}})();
f.b("utils.parseHtmlFragment",f.a.ca);f.b("utils.setHtml",f.a.gb);f.H=function(){function a(b,c){if(b)if(8==b.nodeType){var d=f.H.Lb(b.nodeValue);null!=d&&c.push({ic:b,wc:d})}else if(1==b.nodeType)for(var d=0,e=b.childNodes,g=e.length;d<g;d++)a(e[d],c)}var c={};return{$a:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);
c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},Wb:function(a,d){var e=c[a];if(e===b)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return e.apply(null,d||[]),!0}finally{delete c[a]}},Xb:function(b,c){var d=[];a(b,d);for(var e=0,g=d.length;e<g;e++){var h=d[e].ic,k=[h];c&&f.a.ia(k,c);f.H.Wb(d[e].wc,k);h.nodeValue="";h.parentNode&&h.parentNode.removeChild(h)}},Lb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();f.b("memoization",f.H);
f.b("memoization.memoize",f.H.$a);f.b("memoization.unmemoize",f.H.Wb);f.b("memoization.parseMemoText",f.H.Lb);f.b("memoization.unmemoizeDomNodeAndDescendants",f.H.Xb);f.Sa={throttle:function(a,b){a.throttleEvaluation=b;var c=null;return f.j({read:a,write:function(d){clearTimeout(c);c=setTimeout(function(){a(d)},b)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?n:l;a.Za(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer=
"always"==b?null:m}};var q={undefined:1,"boolean":1,number:1,string:1};f.b("extenders",f.Sa);f.Ub=function(a,b,c){this.da=a;this.La=b;this.hc=c;this.Gb=!1;f.D(this,"dispose",this.p)};f.Ub.prototype.p=function(){this.Gb=!0;this.hc()};f.Q=function(){f.a.Ga(this,f.Q.fn);this.G={};this.rb=1};var r={U:function(a,b,c){var d=this;c=c||"change";var e=new f.Ub(d,b?a.bind(b):a,function(){f.a.ya(d.G[c],e);d.ua&&d.ua(c)});d.ja&&d.ja(c);d.G[c]||(d.G[c]=[]);d.G[c].push(e);return e},notifySubscribers:function(a,
b){b=b||"change";"change"===b&&this.Yb();if(this.Ba(b))try{f.k.xb();for(var c=this.G[b].slice(0),d=0,e;e=c[d];++d)e.Gb||e.La(a)}finally{f.k.end()}},Aa:function(){return this.rb},pc:function(a){return this.Aa()!==a},Yb:function(){++this.rb},Za:function(a){var b=this,c=f.F(b),d,e,g;b.ta||(b.ta=b.notifySubscribers,b.notifySubscribers=function(a,c){c&&"change"!==c?"beforeChange"===c?b.pb(a):b.ta(a,c):b.qb(a)});var h=a(function(){c&&g===b&&(g=b());d=!1;b.Wa(e,g)&&b.ta(e=g)});b.qb=function(a){d=!0;g=a;
h()};b.pb=function(a){d||(e=a,b.ta(a,"beforeChange"))}},Ba:function(a){return this.G[a]&&this.G[a].length},nc:function(a){if(a)return this.G[a]&&this.G[a].length||0;var b=0;f.a.A(this.G,function(a,c){b+=c.length});return b},Wa:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(a){var b=this;a&&f.a.A(a,function(a,c){var d=f.Sa[a];"function"==typeof d&&(b=d(b,c)||b)});return b}};f.D(r,"subscribe",r.U);f.D(r,"extend",r.extend);f.D(r,"getSubscriptionsCount",r.nc);
f.a.za&&f.a.Fa(r,Function.prototype);f.Q.fn=r;f.Hb=function(a){return null!=a&&"function"==typeof a.U&&"function"==typeof a.notifySubscribers};f.b("subscribable",f.Q);f.b("isSubscribable",f.Hb);f.Z=f.k=function(){function a(b){c.push(d);d=b}function b(){d=c.pop()}var c=[],d,e=0;return{xb:a,end:b,Ob:function(a){if(d){if(!f.Hb(a))throw Error("Only subscribable things can act as dependencies");d.La(a,a.ac||(a.ac=++e))}},u:function(c,d,e){try{return a(),c.apply(d,e||[])}finally{b()}},oa:function(){if(d)return d.w.oa()},
Ca:function(){if(d)return d.Ca}}}();f.b("computedContext",f.Z);f.b("computedContext.getDependenciesCount",f.Z.oa);f.b("computedContext.isInitial",f.Z.Ca);f.b("computedContext.isSleeping",f.Z.Jc);f.b("ignoreDependencies",f.Gc=f.k.u);f.r=function(a){function b(){if(0<arguments.length)return b.Wa(c,arguments[0])&&(b.X(),c=arguments[0],b.W()),this;f.k.Ob(b);return c}var c=a;f.Q.call(b);f.a.Ga(b,f.r.fn);b.B=function(){return c};b.W=function(){b.notifySubscribers(c)};b.X=function(){b.notifySubscribers(c,
"beforeChange")};f.D(b,"peek",b.B);f.D(b,"valueHasMutated",b.W);f.D(b,"valueWillMutate",b.X);return b};f.r.fn={equalityComparer:m};var u=f.r.Ac="__ko_proto__";f.r.fn[u]=f.r;f.a.za&&f.a.Fa(f.r.fn,f.Q.fn);f.Ta=function(a,c){return null===a||a===b||a[u]===b?!1:a[u]===c?!0:f.Ta(a[u],c)};f.F=function(a){return f.Ta(a,f.r)};f.Da=function(a){return"function"==typeof a&&a[u]===f.r||"function"==typeof a&&a[u]===f.j&&a.qc?!0:!1};f.b("observable",f.r);f.b("isObservable",f.F);f.b("isWriteableObservable",f.Da);
f.b("isWritableObservable",f.Da);f.ba=function(a){a=a||[];if("object"!=typeof a||!("length"in a))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");a=f.r(a);f.a.Ga(a,f.ba.fn);return a.extend({trackArrayChanges:!0})};f.ba.fn={remove:function(a){for(var b=this.B(),c=[],d="function"!=typeof a||f.F(a)?function(b){return b===a}:a,e=0;e<b.length;e++){var g=b[e];d(g)&&(0===c.length&&this.X(),c.push(g),b.splice(e,1),e--)}c.length&&this.W();return c},
removeAll:function(a){if(a===b){var c=this.B(),d=c.slice(0);this.X();c.splice(0,c.length);this.W();return d}return a?this.remove(function(b){return 0<=f.a.m(a,b)}):[]},destroy:function(a){var b=this.B(),c="function"!=typeof a||f.F(a)?function(b){return b===a}:a;this.X();for(var d=b.length-1;0<=d;d--)c(b[d])&&(b[d]._destroy=!0);this.W()},destroyAll:function(a){return a===b?this.destroy(function(){return!0}):a?this.destroy(function(b){return 0<=f.a.m(a,b)}):[]},indexOf:function(a){var b=this();return f.a.m(b,
a)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.X(),this.B()[c]=b,this.W())}};f.a.o("pop push reverse shift sort splice unshift".split(" "),function(a){f.ba.fn[a]=function(){var b=this.B();this.X();this.yb(b,a,arguments);b=b[a].apply(b,arguments);this.W();return b}});f.a.o(["slice"],function(a){f.ba.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});f.a.za&&f.a.Fa(f.ba.fn,f.r.fn);f.b("observableArray",f.ba);f.Sa.trackArrayChanges=function(a){function b(){if(!c){c=!0;var h=
a.notifySubscribers;a.notifySubscribers=function(a,b){b&&"change"!==b||++g;return h.apply(this,arguments)};var k=[].concat(a.B()||[]);d=null;e=a.U(function(b){b=[].concat(b||[]);if(a.Ba("arrayChange")){var c;if(!d||1<g)d=f.a.Ma(k,b,{sparse:!0});c=d}k=b;d=null;g=0;c&&c.length&&a.notifySubscribers(c,"arrayChange")})}}if(!a.yb){var c=!1,d=null,e,g=0,h=a.ja,k=a.ua;a.ja=function(c){h&&h.call(a,c);"arrayChange"===c&&b()};a.ua=function(b){k&&k.call(a,b);"arrayChange"!==b||a.Ba("arrayChange")||(e.p(),c=!1)};
a.yb=function(a,b,e){function h(a,b,c){return k[k.length]={status:a,value:b,index:c}}if(c&&!g){var k=[],l=a.length,m=e.length,n=0;switch(b){case "push":n=l;case "unshift":for(b=0;b<m;b++)h("added",e[b],n+b);break;case "pop":n=l-1;case "shift":l&&h("deleted",a[n],n);break;case "splice":b=Math.min(Math.max(0,0>e[0]?l+e[0]:e[0]),l);for(var l=1===m?l:Math.min(b+(e[1]||0),l),m=b+m-2,n=Math.max(l,m),p=[],q=[],v=2;b<n;++b,++v)b<l&&q.push(h("deleted",a[b],b)),b<m&&p.push(h("added",e[v],b));f.a.Cb(q,p);break;
default:return}d=k}}}};f.w=f.j=function(a,c,d){function e(a,b,c){if(t&&b===m)throw Error("A 'pure' computed must not be called recursively");J[a]=c;c.sa=K++;c.ea=b.Aa()}function g(){var a,b;for(a in J)if(J.hasOwnProperty(a)&&(b=J[a],b.da.pc(b.ea)))return!0}function h(){!L&&J&&f.a.A(J,function(a,b){b.p&&b.p()});J=null;K=0;y=!0;L=O=!1}function k(){var a=m.throttleEvaluation;a&&0<=a?(clearTimeout(X),X=setTimeout(function(){l(!0)},a)):m.nb?m.nb():l(!0)}function l(a){if(!r&&!y){if(C&&C()){if(!u){Q();return}}else u=
!1;r=!0;try{var d=J,g=K,h=t?b:!K;f.k.xb({La:function(a,b){y||(g&&d[b]?(e(b,a,d[b]),delete d[b],--g):J[b]||e(b,a,L?{da:a}:a.U(k)))},w:m,Ca:h});J={};K=0;try{var n=c?s.call(c):s()}finally{f.k.end(),g&&!L&&f.a.A(d,function(a,b){b.p&&b.p()}),O=!1}m.Wa(q,n)&&(L||m.notifySubscribers(q,"beforeChange"),q=n,L?m.Yb():a&&m.notifySubscribers(q,void 0));h&&m.notifySubscribers(q,"awake")}finally{r=!1}K||Q()}}function m(){if(0<arguments.length){if("function"===typeof H)H.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}f.k.Ob(m);(O||L&&g())&&l();return q}function n(){(O&&!K||L&&g())&&l();return q}function p(){return O||0<K}var q,O=!0,r=!1,u=!1,y=!1,s=a,t=!1,L=!1;s&&"object"==typeof s?(d=s,s=d.read):(d=d||{},s||(s=d.read));if("function"!=typeof s)throw Error("Pass a function that returns the value of the ko.computed");var H=d.write,P=d.disposeWhenNodeIsRemoved||d.q||null,N=d.disposeWhen||d.Pa,C=N,Q=h,J={},K=0,X=null;c||(c=d.owner);f.Q.call(m);f.a.Ga(m,f.j.fn);m.B=n;m.oa=function(){return K};m.qc="function"===
typeof H;m.p=function(){Q()};m.$=p;var ea=m.Za;m.Za=function(a){ea.call(m,a);m.nb=function(){m.pb(q);O=!0;m.qb(m)}};d.pure?(L=t=!0,m.ja=function(a){if(!y&&L&&"change"==a){L=!1;if(O||g())J=null,K=0,O=!0,l();else{var b=[];f.a.A(J,function(a,c){b[c.sa]=a});f.a.o(b,function(a,b){var c=J[a],d=c.da.U(k);d.sa=b;d.ea=c.ea;J[a]=d})}y||m.notifySubscribers(q,"awake")}},m.ua=function(a){y||"change"!=a||m.Ba("change")||(f.a.A(J,function(a,b){b.p&&(J[a]={da:b.da,sa:b.sa,ea:b.ea},b.p())}),L=!0,m.notifySubscribers(b,
"asleep"))},m.bc=m.Aa,m.Aa=function(){L&&(O||g())&&l();return m.bc()}):d.deferEvaluation&&(m.ja=function(a){"change"!=a&&"beforeChange"!=a||n()});f.D(m,"peek",m.B);f.D(m,"dispose",m.p);f.D(m,"isActive",m.$);f.D(m,"getDependenciesCount",m.oa);P&&(u=!0,P.nodeType&&(C=function(){return!f.a.Qa(P)||N&&N()}));L||d.deferEvaluation||l();P&&p()&&P.nodeType&&(Q=function(){f.a.C.Pb(P,Q);h()},f.a.C.fa(P,Q));return m};f.sc=function(a){return f.Ta(a,f.j)};r=f.r.Ac;f.j[r]=f.r;f.j.fn={equalityComparer:m};f.j.fn[r]=
f.j;f.a.za&&f.a.Fa(f.j.fn,f.Q.fn);f.b("dependentObservable",f.j);f.b("computed",f.j);f.b("isComputed",f.sc);f.Nb=function(a,b){if("function"===typeof a)return f.w(a,b,{pure:!0});a=f.a.extend({},a);a.pure=!0;return f.w(a,b)};f.b("pureComputed",f.Nb);(function(){function a(e,f,g){g=g||new d;e=f(e);if("object"!=typeof e||null===e||e===b||e instanceof Date||e instanceof String||e instanceof Number||e instanceof Boolean)return e;var h=e instanceof Array?[]:{};g.save(e,h);c(e,function(c){var d=f(e[c]);
switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=d;break;case "object":case "undefined":var k=g.get(d);h[c]=k!==b?k:a(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var d=0;d<a.length;d++)b(d);"function"==typeof a.toJSON&&b("toJSON")}else for(d in a)b(d)}function d(){this.keys=[];this.mb=[]}f.Vb=function(b){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return a(b,function(a){for(var b=0;f.F(a)&&10>b;b++)a=
a();return a})};f.toJSON=function(a,b,c){a=f.Vb(a);return f.a.jb(a,b,c)};d.prototype={save:function(a,b){var c=f.a.m(this.keys,a);0<=c?this.mb[c]=b:(this.keys.push(a),this.mb.push(b))},get:function(a){a=f.a.m(this.keys,a);return 0<=a?this.mb[a]:b}}})();f.b("toJS",f.Vb);f.b("toJSON",f.toJSON);(function(){f.i={s:function(a){switch(f.a.v(a)){case "option":return!0===a.__ko__hasDomDataOptionValue__?f.a.f.get(a,f.d.options.ab):7>=f.a.M?a.getAttributeNode("value")&&a.getAttributeNode("value").specified?
a.value:a.text:a.value;case "select":return 0<=a.selectedIndex?f.i.s(a.options[a.selectedIndex]):b;default:return a.value}},Y:function(a,c,d){switch(f.a.v(a)){case "option":switch(typeof c){case "string":f.a.f.set(a,f.d.options.ab,b);"__ko__hasDomDataOptionValue__"in a&&delete a.__ko__hasDomDataOptionValue__;a.value=c;break;default:f.a.f.set(a,f.d.options.ab,c),a.__ko__hasDomDataOptionValue__=!0,a.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=b;for(var e=-1,g=0,h=a.options.length,
k;g<h;++g)if(k=f.i.s(a.options[g]),k==c||""==k&&c===b){e=g;break}if(d||0<=e||c===b&&1<a.size)a.selectedIndex=e;break;default:if(null===c||c===b)c="";a.value=c}}}})();f.b("selectExtensions",f.i);f.b("selectExtensions.readValue",f.i.s);f.b("selectExtensions.writeValue",f.i.Y);f.h=function(){function a(b){b=f.a.ib(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=[],h=b.match(d),k,l=[],m=0;if(h){h.push(",");for(var n=0,p;p=h[n];++n){var q=p.charCodeAt(0);if(44===q){if(0>=m){c.push(k&&l.length?{key:k,
value:l.join("")}:{unknown:k||l.join("")});k=m=0;l=[];continue}}else if(58===q){if(!m&&!k&&1===l.length){k=l.pop();continue}}else 47===q&&n&&1<p.length?(q=h[n-1].match(e))&&!g[q[0]]&&(b=b.substr(b.indexOf(p)+1),h=b.match(d),h.push(","),n=-1,p="/"):40===q||123===q||91===q?++m:41===q||125===q||93===q?--m:k||l.length||34!==q&&39!==q||(p=p.slice(1,-1));l.push(p)}}return c}var b=["true","false","null","undefined"],c=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,d=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]",
"g"),e=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},h={};return{ka:[],V:h,bb:a,Ea:function(d,e){function g(a,d){var e;if(!n){var p=f.getBindingHandler(a);if(p&&p.preprocess&&!(d=p.preprocess(d,a,g)))return;if(p=h[a])e=d,0<=f.a.m(b,e)?e=!1:(p=e.match(c),e=null===p?!1:p[1]?"Object("+p[1]+")"+p[2]:e),p=e;p&&l.push("'"+a+"':function(_z){"+e+"=_z}")}m&&(d="function(){return "+d+" }");k.push("'"+a+"':"+d)}e=e||{};var k=[],l=[],m=e.valueAccessors,n=e.bindingParams,p="string"===typeof d?a(d):d;
f.a.o(p,function(a){g(a.key||a.unknown,a.value)});l.length&&g("_ko_property_writers","{"+l.join(",")+" }");return k.join(",")},vc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},ra:function(a,b,c,d,e){if(a&&f.F(a))!f.Da(a)||e&&a.B()===d||a(d);else if((a=b.get("_ko_property_writers"))&&a[c])a[c](d)}}}();f.b("expressionRewriting",f.h);f.b("expressionRewriting.bindingRewriteValidators",f.h.ka);f.b("expressionRewriting.parseObjectLiteral",f.h.bb);f.b("expressionRewriting.preProcessBindings",
f.h.Ea);f.b("expressionRewriting._twoWayBindings",f.h.V);f.b("jsonExpressionRewriting",f.h);f.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",f.h.Ea);(function(){function a(b){return 8==b.nodeType&&h.test(g?b.text:b.nodeValue)}function b(a){return 8==a.nodeType&&k.test(g?a.text:a.nodeValue)}function d(c,e){for(var f=c,g=1,h=[];f=f.nextSibling;){if(b(f)&&(g--,0===g))return h;h.push(f);a(f)&&g++}if(!e)throw Error("Cannot find closing comment tag to match: "+c.nodeValue);return null}function e(a,
b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var g=c&&"\x3c!--test--\x3e"===c.createComment("test").text,h=g?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,k=g?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};f.e={R:{},childNodes:function(b){return a(b)?d(b):b.childNodes},ma:function(b){if(a(b)){b=f.e.childNodes(b);for(var c=0,d=b.length;c<d;c++)f.removeNode(b[c])}else f.a.Ra(b)},T:function(b,c){if(a(b)){f.e.ma(b);for(var d=b.nextSibling,
e=0,g=c.length;e<g;e++)d.parentNode.insertBefore(c[e],d)}else f.a.T(b,c)},Mb:function(b,c){a(b)?b.parentNode.insertBefore(c,b.nextSibling):b.firstChild?b.insertBefore(c,b.firstChild):b.appendChild(c)},Fb:function(b,c,d){d?a(b)?b.parentNode.insertBefore(c,d.nextSibling):d.nextSibling?b.insertBefore(c,d.nextSibling):b.appendChild(c):f.e.Mb(b,c)},firstChild:function(c){return a(c)?!c.nextSibling||b(c.nextSibling)?null:c.nextSibling:c.firstChild},nextSibling:function(c){a(c)&&(c=e(c));return c.nextSibling&&
b(c.nextSibling)?null:c.nextSibling},oc:a,Fc:function(a){return(a=(g?a.text:a.nodeValue).match(h))?a[1]:null},Kb:function(c){if(l[f.a.v(c)]){var d=c.firstChild;if(d){do if(1===d.nodeType){var g;g=d.firstChild;var h=null;if(g){do if(h)h.push(g);else if(a(g)){var k=e(g,!0);k?g=k:h=[g]}else b(g)&&(h=[g]);while(g=g.nextSibling)}if(g=h)for(h=d.nextSibling,k=0;k<g.length;k++)h?c.insertBefore(g[k],h):c.appendChild(g[k])}while(d=d.nextSibling)}}}}})();f.b("virtualElements",f.e);f.b("virtualElements.allowedBindings",
f.e.R);f.b("virtualElements.emptyNode",f.e.ma);f.b("virtualElements.insertAfter",f.e.Fb);f.b("virtualElements.prepend",f.e.Mb);f.b("virtualElements.setDomNodeChildren",f.e.T);(function(){f.L=function(){this.ec={}};f.a.extend(f.L.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return null!=a.getAttribute("data-bind")||f.g.getComponentNameForNode(a);case 8:return f.e.oc(a);default:return!1}},getBindings:function(a,b){var c=this.getBindingsString(a,b),c=c?this.parseBindingsString(c,
b,a):null;return f.g.sb(c,a,b,!1)},getBindingAccessors:function(a,b){var c=this.getBindingsString(a,b),c=c?this.parseBindingsString(c,b,a,{valueAccessors:!0}):null;return f.g.sb(c,a,b,!0)},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return f.e.Fc(a);default:return null}},parseBindingsString:function(a,b,c,d){try{var e=this.ec,g=a+(d&&d.valueAccessors||""),h;if(!(h=e[g])){var k,l="with($context){with($data||{}){return{"+f.h.Ea(a,d)+"}}}";k=new Function("$context",
"$element",l);h=e[g]=k}return h(b,c)}catch(m){throw m.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+m.message,m;}}});f.L.instance=new f.L})();f.b("bindingProvider",f.L);(function(){function a(b){return function(){return b}}function c(a){return a()}function g(a){return f.a.pa(f.k.u(a),function(b,c){return function(){return a()[c]}})}function h(a,b){return g(this.getBindings.bind(this,a,b))}function k(a,b,c){var d,e=f.e.firstChild(b),g=f.L.instance,h=g.preprocessNode;if(h){for(;d=
e;)e=f.e.nextSibling(d),h.call(g,d);e=f.e.firstChild(b)}for(;d=e;)e=f.e.nextSibling(d),l(a,d,c)}function l(a,b,c){var d=!0,e=1===b.nodeType;e&&f.e.Kb(b);if(e&&c||f.L.instance.nodeHasBindings(b))d=n(b,null,a,c).shouldBindDescendants;d&&!q[f.a.v(b)]&&k(a,b,!e)}function m(a){var b=[],c={},d=[];f.a.A(a,function G(e){if(!c[e]){var g=f.getBindingHandler(e);g&&(g.after&&(d.push(e),f.a.o(g.after,function(b){if(a[b]){if(-1!==f.a.m(d,b))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+
d.join(", "));G(b)}}),d.length--),b.push({key:e,Eb:g}));c[e]=!0}});return b}function n(a,d,e,g){var k=f.a.f.get(a,D);if(!d){if(k)throw Error("You cannot apply bindings multiple times to the same element.");f.a.f.set(a,D,!0)}!k&&g&&f.Tb(a,e);var l;if(d&&"function"!==typeof d)l=d;else{var p=f.L.instance,q=p.getBindingAccessors||h,r=f.j(function(){(l=d?d(e,a):q.call(p,a,e))&&e.K&&e.K();return l},null,{q:a});l&&r.$()||(r=null)}var w;if(l){var M=r?function(a){return function(){return c(r()[a])}}:function(a){return l[a]},
v=function(){return f.a.pa(r?r():l,c)};v.get=function(a){return l[a]&&c(M(a))};v.has=function(a){return a in l};g=m(l);f.a.o(g,function(c){var d=c.Eb.init,g=c.Eb.update,h=c.key;if(8===a.nodeType&&!f.e.R[h])throw Error("The binding '"+h+"' cannot be used with virtual elements");try{"function"==typeof d&&f.k.u(function(){var c=d(a,M(h),v,e.$data,e);if(c&&c.controlsDescendantBindings){if(w!==b)throw Error("Multiple bindings ("+w+" and "+h+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");
w=h}}),"function"==typeof g&&f.j(function(){g(a,M(h),v,e.$data,e)},null,{q:a})}catch(k){throw k.message='Unable to process binding "'+h+": "+l[h]+'"\nMessage: '+k.message,k;}})}return{shouldBindDescendants:w===b}}function p(a){return a&&a instanceof f.N?a:new f.N(a)}f.d={};var q={script:!0,textarea:!0};f.getBindingHandler=function(a){return f.d[a]};f.N=function(a,c,d,e){var g=this,h="function"==typeof a&&!f.F(a),k,l=f.j(function(){var b=h?a():a,k=f.a.c(b);c?(c.K&&c.K(),f.a.extend(g,c),l&&(g.K=l)):
(g.$parents=[],g.$root=k,g.ko=f);g.$rawData=b;g.$data=k;d&&(g[d]=k);e&&e(g,c,k);return g.$data},null,{Pa:function(){return k&&!f.a.tb(k)},q:!0});l.$()&&(g.K=l,l.equalityComparer=null,k=[],l.Zb=function(a){k.push(a);f.a.C.fa(a,function(a){f.a.ya(k,a);k.length||(l.p(),g.K=l=b)})})};f.N.prototype.createChildContext=function(a,b,c){return new f.N(a,this,b,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);c&&c(a)})};f.N.prototype.extend=
function(a){return new f.N(this.K||this.$data,this,null,function(b,c){b.$rawData=c.$rawData;f.a.extend(b,"function"==typeof a?a():a)})};var D=f.a.f.I(),r=f.a.f.I();f.Tb=function(a,b){if(2==arguments.length)f.a.f.set(a,r,b),b.K&&b.K.Zb(a);else return f.a.f.get(a,r)};f.va=function(a,b,c){1===a.nodeType&&f.e.Kb(a);return n(a,b,p(c),!0)};f.cc=function(b,c,d){d=p(d);return f.va(b,"function"===typeof c?g(c.bind(null,d,b)):f.a.pa(c,a),d)};f.Ja=function(a,b){1!==b.nodeType&&8!==b.nodeType||k(p(a),b,!0)};
f.ub=function(a,b){!e&&d.jQuery&&(e=d.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||d.document.body;l(p(a),b,!0)};f.Oa=function(a){switch(a.nodeType){case 1:case 8:var c=f.Tb(a);if(c)return c;if(a.parentNode)return f.Oa(a.parentNode)}return b};f.gc=function(a){return(a=f.Oa(a))?a.$data:b};f.b("bindingHandlers",f.d);f.b("applyBindings",f.ub);f.b("applyBindingsToDescendants",f.Ja);f.b("applyBindingAccessorsToNode",
f.va);f.b("applyBindingsToNode",f.cc);f.b("contextFor",f.Oa);f.b("dataFor",f.gc)})();(function(a){function b(d,h){var k=e.hasOwnProperty(d)?e[d]:a,l;k?k.U(h):(k=e[d]=new f.Q,k.U(h),c(d,function(a,b){var c=!(!b||!b.synchronous);g[d]={definition:a,tc:c};delete e[d];l||c?k.notifySubscribers(a):setTimeout(function(){k.notifySubscribers(a)},0)}),l=!0)}function c(a,b){d("getConfig",[a],function(c){c?d("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function d(b,c,e,g){g||(g=f.g.loaders.slice(0));
var h=g.shift();if(h){var k=h[b];if(k){var l=!1;if(k.apply(h,c.concat(function(a){l?e(null):null!==a?e(a):d(b,c,e,g)}))!==a&&(l=!0,!h.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else d(b,c,e,g)}else e(null)}var e={},g={};f.g={get:function(c,d){var e=g.hasOwnProperty(c)?g[c]:a;e?e.tc?f.k.u(function(){d(e.definition)}):setTimeout(function(){d(e.definition)},0):b(c,d)},zb:function(a){delete g[a]},ob:d};
f.g.loaders=[];f.b("components",f.g);f.b("components.get",f.g.get);f.b("components.clearCachedDefinition",f.g.zb)})();(function(){function a(b,c,d,e){function h(){0===--l&&e(k)}var k={},l=2,n=d.template;d=d.viewModel;n?g(c,n,function(a){f.g.ob("loadTemplate",[b,a],function(a){k.template=a;h()})}):h();d?g(c,d,function(a){f.g.ob("loadViewModel",[b,a],function(a){k[m]=a;h()})}):h()}function b(a,c,d){if("function"===typeof c)d(function(a){return new c(a)});else if("function"===typeof c[m])d(c[m]);else if("instance"in
c){var e=c.instance;d(function(){return e})}else"viewModel"in c?b(a,c.viewModel,d):a("Unknown viewModel value: "+c)}function e(a){switch(f.a.v(a)){case "script":return f.a.ca(a.text);case "textarea":return f.a.ca(a.value);case "template":if(d.DocumentFragment?a.content instanceof DocumentFragment:a.content&&11===a.content.nodeType)return f.a.la(a.content.childNodes)}return f.a.la(a.childNodes)}function g(a,b,c){"string"===typeof b.require?k||d.require?(k||d.require)([b.require],c):a("Uses require, but no AMD loader is present"):
c(b)}function h(a){return function(b){throw Error("Component '"+a+"': "+b);}}var l={};f.g.register=function(a,b){if(!b)throw Error("Invalid configuration for "+a);if(f.g.Xa(a))throw Error("Component "+a+" is already registered");l[a]=b};f.g.Xa=function(a){return a in l};f.g.Ec=function(a){delete l[a];f.g.zb(a)};f.g.Ab={getConfig:function(a,b){b(l.hasOwnProperty(a)?l[a]:null)},loadComponent:function(b,c,d){var e=h(b);g(e,c,function(c){a(b,e,c,d)})},loadTemplate:function(a,b,g){a=h(a);if("string"===
typeof b)g(f.a.ca(b));else if(b instanceof Array)g(b);else if(d.DocumentFragment?b instanceof DocumentFragment:b&&11===b.nodeType)g(f.a.O(b.childNodes));else if(b.element)if(b=b.element,d.HTMLElement?b instanceof HTMLElement:b&&b.tagName&&1===b.nodeType)g(e(b));else if("string"===typeof b){var k=c.getElementById(b);k?g(e(k)):a("Cannot find element with ID "+b)}else a("Unknown element type: "+b);else a("Unknown template value: "+b)},loadViewModel:function(a,c,d){b(h(a),c,d)}};var m="createViewModel";
f.b("components.register",f.g.register);f.b("components.isRegistered",f.g.Xa);f.b("components.unregister",f.g.Ec);f.b("components.defaultLoader",f.g.Ab);f.g.loaders.push(f.g.Ab);f.g.$b=l})();(function(){function a(c,d){var e=c.getAttribute("params");if(e){var e=b.parseBindingsString(e,d,c,{valueAccessors:!0,bindingParams:!0}),e=f.a.pa(e,function(a){return f.w(a,null,{q:c})}),g=f.a.pa(e,function(a){var b=a.B();return a.$()?f.w({read:function(){return f.a.c(a())},write:f.Da(b)&&function(b){a()(b)},
q:c}):b});g.hasOwnProperty("$raw")||(g.$raw=e);return g}return{$raw:{}}}f.g.getComponentNameForNode=function(a){a=f.a.v(a);return f.g.Xa(a)&&a};f.g.sb=function(b,c,d,e){if(1===c.nodeType){var g=f.g.getComponentNameForNode(c);if(g){b=b||{};if(b.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var h={name:g,params:a(c,d)};b.component=e?function(){return h}:h}}return b};var b=new f.L;9>f.a.M&&(f.g.register=function(a){return function(b){c.createElement(b);
return a.apply(this,arguments)}}(f.g.register),c.createDocumentFragment=function(a){return function(){var b=a(),c=f.g.$b,d;for(d in c)c.hasOwnProperty(d)&&b.createElement(d);return b}}(c.createDocumentFragment))})();(function(a){function b(a,c,d){c=c.template;if(!c)throw Error("Component '"+a+"' has no template");a=f.a.la(c);f.e.T(d,a)}function c(a,b,d,e){var f=a.createViewModel;return f?f.call(a,e,{element:b,templateNodes:d}):e}var d=0;f.d.component={init:function(e,g,h,k,l){function m(){var a=n&&
n.dispose;"function"===typeof a&&a.call(n);p=null}var n,p,q=f.a.O(f.e.childNodes(e));f.a.C.fa(e,m);f.w(function(){var h=f.a.c(g()),k,r;"string"===typeof h?k=h:(k=f.a.c(h.name),r=f.a.c(h.params));if(!k)throw Error("No component name specified");var E=p=++d;f.g.get(k,function(d){if(p===E){m();if(!d)throw Error("Unknown component '"+k+"'");b(k,d,e);var g=c(d,e,q,r);d=l.createChildContext(g,a,function(a){a.$component=g;a.$componentTemplateNodes=q});n=g;f.Ja(d,e)}})},null,{q:e});return{controlsDescendantBindings:!0}}};
f.e.R.component=!0})();var s={"class":"className","for":"htmlFor"};f.d.attr={update:function(a,c){var d=f.a.c(c())||{};f.a.A(d,function(c,d){d=f.a.c(d);var e=!1===d||null===d||d===b;e&&a.removeAttribute(c);8>=f.a.M&&c in s?(c=s[c],e?a.removeAttribute(c):a[c]=d):e||a.setAttribute(c,d.toString());"name"===c&&f.a.Rb(a,e?"":d.toString())})}};(function(){f.d.checked={after:["value","attr"],init:function(a,c,d){function e(){var b=a.checked,g=p?h():b;if(!f.Z.Ca()&&(!l||b)){var k=f.k.u(c);m?n!==g?(b&&(f.a.ga(k,
g,!0),f.a.ga(k,n,!1)),n=g):f.a.ga(k,g,b):f.h.ra(k,d,"checked",g,!0)}}function g(){var b=f.a.c(c());a.checked=m?0<=f.a.m(b,h()):k?b:h()===b}var h=f.Nb(function(){return d.has("checkedValue")?f.a.c(d.get("checkedValue")):d.has("value")?f.a.c(d.get("value")):a.value}),k="checkbox"==a.type,l="radio"==a.type;if(k||l){var m=k&&f.a.c(c())instanceof Array,n=m?h():b,p=l||m;l&&!a.name&&f.d.uniqueName.init(a,function(){return!0});f.w(e,null,{q:a});f.a.n(a,"click",e);f.w(g,null,{q:a})}}};f.h.V.checked=!0;f.d.checkedValue=
{update:function(a,b){a.value=f.a.c(b())}}})();f.d.css={update:function(a,b){var c=f.a.c(b());null!==c&&"object"==typeof c?f.a.A(c,function(b,c){c=f.a.c(c);f.a.Ia(a,b,c)}):(c=String(c||""),f.a.Ia(a,a.__ko__cssValue,!1),a.__ko__cssValue=c,f.a.Ia(a,c,!0))}};f.d.enable={update:function(a,b){var c=f.a.c(b());c&&a.disabled?a.removeAttribute("disabled"):c||a.disabled||(a.disabled=!0)}};f.d.disable={update:function(a,b){f.d.enable.update(a,function(){return!f.a.c(b())})}};f.d.event={init:function(a,b,c,
d,e){var g=b()||{};f.a.A(g,function(g){"string"==typeof g&&f.a.n(a,g,function(a){var h,k=b()[g];if(k){try{var l=f.a.O(arguments);d=e.$data;l.unshift(d);h=k.apply(d,l)}finally{!0!==h&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}!1===c.get(g+"Bubble")&&(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())}})})}};f.d.foreach={Ib:function(a){return function(){var b=a(),c=f.a.cb(b);if(!c||"number"==typeof c.length)return{foreach:b,templateEngine:f.P.Va};f.a.c(b);return{foreach:c.data,as:c.as,
includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,beforeMove:c.beforeMove,afterMove:c.afterMove,templateEngine:f.P.Va}}},init:function(a,b){return f.d.template.init(a,f.d.foreach.Ib(b))},update:function(a,b,c,d,e){return f.d.template.update(a,f.d.foreach.Ib(b),c,d,e)}};f.h.ka.foreach=!1;f.e.R.foreach=!0;f.d.hasfocus={init:function(a,b,c){function d(e){a.__ko_hasfocusUpdating=!0;var g=a.ownerDocument;if("activeElement"in g){var h;try{h=g.activeElement}catch(k){h=
g.body}e=h===a}g=b();f.h.ra(g,c,"hasfocus",e,!0);a.__ko_hasfocusLastValue=e;a.__ko_hasfocusUpdating=!1}var e=d.bind(null,!0),g=d.bind(null,!1);f.a.n(a,"focus",e);f.a.n(a,"focusin",e);f.a.n(a,"blur",g);f.a.n(a,"focusout",g)},update:function(a,b){var c=!!f.a.c(b());a.__ko_hasfocusUpdating||a.__ko_hasfocusLastValue===c||(c?a.focus():a.blur(),f.k.u(f.a.qa,null,[a,c?"focusin":"focusout"]))}};f.h.V.hasfocus=!0;f.d.hasFocus=f.d.hasfocus;f.h.V.hasFocus=!0;f.d.html={init:function(){return{controlsDescendantBindings:!0}},
update:function(a,b){f.a.gb(a,b())}};p("if");p("ifnot",!1,!0);p("with",!0,!1,function(a,b){return a.createChildContext(b)});var t={};f.d.options={init:function(a){if("select"!==f.a.v(a))throw Error("options binding applies only to SELECT elements");for(;0<a.length;)a.remove(0);return{controlsDescendantBindings:!0}},update:function(a,c,d){function e(){return f.a.xa(a.options,function(a){return a.selected})}function g(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function h(b,c){if(u&&
n)f.i.Y(a,f.a.c(d.get("value")),!0);else if(r.length){var e=0<=f.a.m(r,f.i.s(c[0]));f.a.Sb(c[0],e);u&&!e&&f.k.u(f.a.qa,null,[a,"change"])}}var k=a.multiple,l=0!=a.length&&k?a.scrollTop:null,m=f.a.c(c()),n=d.get("valueAllowUnset")&&d.has("value"),p=d.get("optionsIncludeDestroyed");c={};var q,r=[];n||(k?r=f.a.Ka(e(),f.i.s):0<=a.selectedIndex&&r.push(f.i.s(a.options[a.selectedIndex])));m&&("undefined"==typeof m.length&&(m=[m]),q=f.a.xa(m,function(a){return p||a===b||null===a||!f.a.c(a._destroy)}),d.has("optionsCaption")&&
(m=f.a.c(d.get("optionsCaption")),null!==m&&m!==b&&q.unshift(t)));var u=!1;c.beforeRemove=function(b){a.removeChild(b)};m=h;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(m=function(a,c){h(0,c);f.k.u(d.get("optionsAfterRender"),null,[c[0],a!==t?a:b])});f.a.fb(a,q,function(c,e,h){h.length&&(r=!n&&h[0].selected?[f.i.s(h[0])]:[],u=!0);e=a.ownerDocument.createElement("option");c===t?(f.a.Ha(e,d.get("optionsCaption")),f.i.Y(e,b)):(h=g(c,d.get("optionsValue"),c),f.i.Y(e,f.a.c(h)),
c=g(c,d.get("optionsText"),h),f.a.Ha(e,c));return[e]},c,m);f.k.u(function(){n?f.i.Y(a,f.a.c(d.get("value")),!0):(k?r.length&&e().length<r.length:r.length&&0<=a.selectedIndex?f.i.s(a.options[a.selectedIndex])!==r[0]:r.length||0<=a.selectedIndex)&&f.a.qa(a,"change")});f.a.kc(a);l&&20<Math.abs(l-a.scrollTop)&&(a.scrollTop=l)}};f.d.options.ab=f.a.f.I();f.d.selectedOptions={after:["options","foreach"],init:function(a,b,c){f.a.n(a,"change",function(){var d=b(),e=[];f.a.o(a.getElementsByTagName("option"),
function(a){a.selected&&e.push(f.i.s(a))});f.h.ra(d,c,"selectedOptions",e)})},update:function(a,b){if("select"!=f.a.v(a))throw Error("values binding applies only to SELECT elements");var c=f.a.c(b());c&&"number"==typeof c.length&&f.a.o(a.getElementsByTagName("option"),function(a){var b=0<=f.a.m(c,f.i.s(a));f.a.Sb(a,b)})}};f.h.V.selectedOptions=!0;f.d.style={update:function(a,c){var d=f.a.c(c()||{});f.a.A(d,function(c,d){d=f.a.c(d);if(null===d||d===b||!1===d)d="";a.style[c]=d})}};f.d.submit={init:function(a,
b,c,d,e){if("function"!=typeof b())throw Error("The value for a submit binding must be a function");f.a.n(a,"submit",function(c){var d,f=b();try{d=f.call(e.$data,a)}finally{!0!==d&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}})}};f.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){f.a.Ha(a,b())}};f.e.R.text=!0;(function(){if(d&&d.navigator)var a=function(a){if(a)return parseFloat(a[1])},c=d.opera&&d.opera.version&&parseInt(d.opera.version()),e=d.navigator.userAgent,
g=a(e.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),h=a(e.match(/Firefox\/([^ ]*)/));if(10>f.a.M)var k=f.a.f.I(),l=f.a.f.I(),m=function(a){var b=this.activeElement;(b=b&&f.a.f.get(b,l))&&b(a)},n=function(a,b){var c=a.ownerDocument;f.a.f.get(c,k)||(f.a.f.set(c,k,!0),f.a.n(c,"selectionchange",m));f.a.f.set(a,l,b)};f.d.textInput={init:function(a,d,e){function k(b,c){f.a.n(a,b,c)}function l(){var c=f.a.c(d());if(null===c||c===b)c="";w!==b&&c===w?setTimeout(l,4):a.value!==c&&(q=c,a.value=c)}function m(){r||
(w=a.value,r=setTimeout(p,4))}function p(){clearTimeout(r);w=r=b;var c=a.value;q!==c&&(q=c,f.h.ra(d(),e,"textInput",c))}var q=a.value,r,w;10>f.a.M?(k("propertychange",function(a){"value"===a.propertyName&&p()}),8==f.a.M&&(k("keyup",p),k("keydown",p)),8<=f.a.M&&(n(a,p),k("dragend",m))):(k("input",p),5>g&&"textarea"===f.a.v(a)?(k("keydown",m),k("paste",m),k("cut",m)):11>c?k("keydown",m):4>h&&(k("DOMAutoComplete",p),k("dragdrop",p),k("drop",p)));k("change",p);f.w(l,null,{q:a})}};f.h.V.textInput=!0;f.d.textinput=
{preprocess:function(a,b,c){c("textInput",a)}}})();f.d.uniqueName={init:function(a,b){if(b()){var c="ko_unique_"+ ++f.d.uniqueName.fc;f.a.Rb(a,c)}}};f.d.uniqueName.fc=0;f.d.value={after:["options","foreach"],init:function(a,b,c){if("input"!=a.tagName.toLowerCase()||"checkbox"!=a.type&&"radio"!=a.type){var d=["change"],e=c.get("valueUpdate"),g=!1,h=null;e&&("string"==typeof e&&(e=[e]),f.a.ia(d,e),d=f.a.wb(d));var k=function(){h=null;g=!1;var d=b(),e=f.i.s(a);f.h.ra(d,c,"value",e)};!f.a.M||"input"!=
a.tagName.toLowerCase()||"text"!=a.type||"off"==a.autocomplete||a.form&&"off"==a.form.autocomplete||-1!=f.a.m(d,"propertychange")||(f.a.n(a,"propertychange",function(){g=!0}),f.a.n(a,"focus",function(){g=!1}),f.a.n(a,"blur",function(){g&&k()}));f.a.o(d,function(b){var c=k;f.a.Dc(b,"after")&&(c=function(){h=f.i.s(a);setTimeout(k,0)},b=b.substring(5));f.a.n(a,b,c)});var l=function(){var d=f.a.c(b()),e=f.i.s(a);if(null!==h&&d===h)setTimeout(l,0);else if(d!==e)if("select"===f.a.v(a)){var g=c.get("valueAllowUnset"),
e=function(){f.i.Y(a,d,g)};e();g||d===f.i.s(a)?setTimeout(e,0):f.k.u(f.a.qa,null,[a,"change"])}else f.i.Y(a,d)};f.w(l,null,{q:a})}else f.va(a,{checkedValue:b})},update:function(){}};f.h.V.value=!0;f.d.visible={update:function(a,b){var c=f.a.c(b()),d="none"!=a.style.display;c&&!d?a.style.display="":!c&&d&&(a.style.display="none")}};(function(a){f.d[a]={init:function(b,c,d,e,g){return f.d.event.init.call(this,b,function(){var b={};b[a]=c();return b},d,e,g)}}})("click");f.J=function(){};f.J.prototype.renderTemplateSource=
function(){throw Error("Override renderTemplateSource");};f.J.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};f.J.prototype.makeTemplateSource=function(a,b){if("string"==typeof a){b=b||c;var d=b.getElementById(a);if(!d)throw Error("Cannot find template with ID "+a);return new f.t.l(d)}if(1==a.nodeType||8==a.nodeType)return new f.t.ha(a);throw Error("Unknown template type: "+a);};f.J.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,
d);return this.renderTemplateSource(a,b,c,d)};f.J.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};f.J.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());a.text(b);a.data("isRewritten",!0)};f.b("templateEngine",f.J);f.kb=function(){function a(b,c,d,e){b=f.h.bb(b);for(var g=f.h.ka,h=0;h<b.length;h++){var k=b[h].key;if(g.hasOwnProperty(k)){var l=g[k];if("function"===typeof l){if(k=
l(b[h].value))throw Error(k);}else if(!l)throw Error("This template engine does not support the '"+k+"' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+f.h.Ea(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return e.createJavaScriptEvaluatorBlock(d)+c}var b=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,c=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{lc:function(a,
b,c){b.isTemplateRewritten(a,c)||b.rewriteTemplate(a,function(a){return f.kb.xc(a,b)},c)},xc:function(d,e){return d.replace(b,function(b,c,d,f,g){return a(g,c,d,e)}).replace(c,function(b,c){return a(c,"\x3c!-- ko --\x3e","#comment",e)})},dc:function(a,b){return f.H.$a(function(c,d){var e=c.nextSibling;e&&e.nodeName.toLowerCase()===b&&f.va(e,a,d)})}}}();f.b("__tr_ambtns",f.kb.dc);(function(){f.t={};f.t.l=function(a){this.l=a};f.t.l.prototype.text=function(){var a=f.a.v(this.l),a="script"===a?"text":
"textarea"===a?"value":"innerHTML";if(0==arguments.length)return this.l[a];var b=arguments[0];"innerHTML"===a?f.a.gb(this.l,b):this.l[a]=b};var a=f.a.f.I()+"_";f.t.l.prototype.data=function(b){if(1===arguments.length)return f.a.f.get(this.l,a+b);f.a.f.set(this.l,a+b,arguments[1])};var c=f.a.f.I();f.t.ha=function(a){this.l=a};f.t.ha.prototype=new f.t.l;f.t.ha.prototype.text=function(){if(0==arguments.length){var a=f.a.f.get(this.l,c)||{};a.lb===b&&a.Na&&(a.lb=a.Na.innerHTML);return a.lb}f.a.f.set(this.l,
c,{lb:arguments[0]})};f.t.l.prototype.nodes=function(){if(0==arguments.length)return(f.a.f.get(this.l,c)||{}).Na;f.a.f.set(this.l,c,{Na:arguments[0]})};f.b("templateSources",f.t);f.b("templateSources.domElement",f.t.l);f.b("templateSources.anonymousTemplate",f.t.ha)})();(function(){function a(b,c,d){var e;for(c=f.e.nextSibling(c);b&&(e=b)!==c;)b=f.e.nextSibling(e),d(e,b)}function c(b,d){if(b.length){var e=b[0],g=b[b.length-1],h=e.parentNode,k=f.L.instance,l=k.preprocessNode;if(l){a(e,g,function(a,
b){var c=a.previousSibling,d=l.call(k,a);d&&(a===e&&(e=d[0]||b),a===g&&(g=d[d.length-1]||c))});b.length=0;if(!e)return;e===g?b.push(e):(b.push(e,g),f.a.na(b,h))}a(e,g,function(a){1!==a.nodeType&&8!==a.nodeType||f.ub(d,a)});a(e,g,function(a){1!==a.nodeType&&8!==a.nodeType||f.H.Xb(a,[d])});f.a.na(b,h)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(a,b,h,k,l){l=l||{};var m=(a&&d(a)||h||{}).ownerDocument,n=l.templateEngine||g;f.kb.lc(h,n,m);h=n.renderTemplate(h,k,l,m);if("number"!=
typeof h.length||0<h.length&&"number"!=typeof h[0].nodeType)throw Error("Template engine must return an array of DOM nodes");m=!1;switch(b){case "replaceChildren":f.e.T(a,h);m=!0;break;case "replaceNode":f.a.Qb(a,h);m=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+b);}m&&(c(h,k),l.afterRender&&f.k.u(l.afterRender,null,[h,k.$data]));return h}var g;f.hb=function(a){if(a!=b&&!(a instanceof f.J))throw Error("templateEngine must inherit from ko.templateEngine");g=a};
f.eb=function(a,c,h,k,l){h=h||{};if((h.templateEngine||g)==b)throw Error("Set a template engine before calling renderTemplate");l=l||"replaceChildren";if(k){var m=d(k);return f.j(function(){var b=c&&c instanceof f.N?c:new f.N(f.a.c(c)),g=f.F(a)?a():"function"===typeof a?a(b.$data,b):a,b=e(k,l,g,b,h);"replaceNode"==l&&(k=b,m=d(k))},null,{Pa:function(){return!m||!f.a.Qa(m)},q:m&&"replaceNode"==l?m.parentNode:m})}return f.H.$a(function(b){f.eb(a,c,h,b,"replaceNode")})};f.Cc=function(a,d,g,h,k){function l(a,
b){c(b,n);g.afterRender&&g.afterRender(b,a);n=null}function m(b,c){n=k.createChildContext(b,g.as,function(a){a.$index=c});var d=f.F(a)?a():"function"===typeof a?a(b,n):a;return e(null,"ignoreTargetNode",d,n,g)}var n;return f.j(function(){var a=f.a.c(d)||[];"undefined"==typeof a.length&&(a=[a]);a=f.a.xa(a,function(a){return g.includeDestroyed||a===b||null===a||!f.a.c(a._destroy)});f.k.u(f.a.fb,null,[h,a,m,g,l])},null,{q:h})};var h=f.a.f.I();f.d.template={init:function(a,b){var c=f.a.c(b());if("string"==
typeof c||c.name)f.e.ma(a);else{if("nodes"in c){if(c=c.nodes||[],f.F(c))throw Error('The "nodes" option must be a plain, non-observable array.');}else c=f.e.childNodes(a);c=f.a.Jb(c);(new f.t.ha(a)).nodes(c)}return{controlsDescendantBindings:!0}},update:function(a,c,d,e,g){var k=c(),l;c=f.a.c(k);d=!0;e=null;"string"==typeof c?c={}:(k=c.name,"if"in c&&(d=f.a.c(c["if"])),d&&"ifnot"in c&&(d=!f.a.c(c.ifnot)),l=f.a.c(c.data));"foreach"in c?e=f.Cc(k||a,d&&c.foreach||[],c,a,g):d?(g="data"in c?g.createChildContext(l,
c.as):g,e=f.eb(k||a,g,c,a)):f.e.ma(a);g=e;(l=f.a.f.get(a,h))&&"function"==typeof l.p&&l.p();f.a.f.set(a,h,g&&g.$()?g:b)}};f.h.ka.template=function(a){a=f.h.bb(a);return 1==a.length&&a[0].unknown||f.h.vc(a,"name")?null:"This template engine does not support anonymous templates nested within its templates"};f.e.R.template=!0})();f.b("setTemplateEngine",f.hb);f.b("renderTemplate",f.eb);f.a.Cb=function(a,b,c){if(a.length&&b.length){var d,e,f,g,h;for(d=e=0;(!c||d<c)&&(g=a[e]);++e){for(f=0;h=b[f];++f)if(g.value===
h.value){g.moved=h.index;h.moved=g.index;b.splice(f,1);d=f=0;break}d+=f}}};f.a.Ma=function(){function a(b,c,d,e,g){var h=Math.min,k=Math.max,l=[],m,n=b.length,p,q=c.length,r=q-n||1,u=n+q+1,s,t,v;for(m=0;m<=n;m++)for(t=s,l.push(s=[]),v=h(q,m+r),p=k(0,m-1);p<=v;p++)s[p]=p?m?b[m-1]===c[p-1]?t[p-1]:h(t[p]||u,s[p-1]||u)+1:p+1:m+1;h=[];k=[];r=[];m=n;for(p=q;m||p;)q=l[m][p]-1,p&&q===l[m][p-1]?k.push(h[h.length]={status:d,value:c[--p],index:p}):m&&q===l[m-1][p]?r.push(h[h.length]={status:e,value:b[--m],index:m}):
(--p,--m,g.sparse||h.push({status:"retained",value:c[p]}));f.a.Cb(k,r,10*n);return h.reverse()}return function(b,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};b=b||[];c=c||[];return b.length<=c.length?a(b,c,"added","deleted",d):a(c,b,"deleted","added",d)}}();f.b("utils.compareArrays",f.a.Ma);(function(){function a(c,d,e,g,h){var k=[],l=f.j(function(){var a=d(e,h,f.a.na(k,c))||[];0<k.length&&(f.a.Qb(k,a),g&&f.k.u(g,null,[e,a,h]));k.length=0;f.a.ia(k,a)},null,{q:c,Pa:function(){return!f.a.tb(k)}});
return{aa:k,j:l.$()?l:b}}var c=f.a.f.I();f.a.fb=function(d,e,g,h,k){function l(a,b){H=p[b];t!==b&&(L[a]=H);H.Ua(t++);f.a.na(H.aa,d);u.push(H);G.push(H)}function m(a,b){if(a)for(var c=0,d=b.length;c<d;c++)b[c]&&f.a.o(b[c].aa,function(d){a(d,c,b[c].wa)})}e=e||[];h=h||{};var n=f.a.f.get(d,c)===b,p=f.a.f.get(d,c)||[],q=f.a.Ka(p,function(a){return a.wa}),r=f.a.Ma(q,e,h.dontLimitMoves),u=[],s=0,t=0,T=[],G=[];e=[];for(var L=[],q=[],H,P=0,N,C;N=r[P];P++)switch(C=N.moved,N.status){case "deleted":C===b&&(H=
p[s],H.j&&H.j.p(),T.push.apply(T,f.a.na(H.aa,d)),h.beforeRemove&&(e[P]=H,G.push(H)));s++;break;case "retained":l(P,s++);break;case "added":C!==b?l(P,C):(H={wa:N.value,Ua:f.r(t++)},u.push(H),G.push(H),n||(q[P]=H))}m(h.beforeMove,L);f.a.o(T,h.beforeRemove?f.S:f.removeNode);for(var P=0,n=f.e.firstChild(d),Q;H=G[P];P++){H.aa||f.a.extend(H,a(d,g,H.wa,k,H.Ua));for(s=0;r=H.aa[s];n=r.nextSibling,Q=r,s++)r!==n&&f.e.Fb(d,r,Q);!H.rc&&k&&(k(H.wa,H.aa,H.Ua),H.rc=!0)}m(h.beforeRemove,e);m(h.afterMove,L);m(h.afterAdd,
q);f.a.f.set(d,c,u)}})();f.b("utils.setDomNodeChildrenFromArrayMapping",f.a.fb);f.P=function(){this.allowTemplateRewriting=!1};f.P.prototype=new f.J;f.P.prototype.renderTemplateSource=function(a,b,c,d){if(b=(9>f.a.M?0:a.nodes)?a.nodes():null)return f.a.O(b.cloneNode(!0).childNodes);a=a.text();return f.a.ca(a,d)};f.P.Va=new f.P;f.hb(f.P.Va);f.b("nativeTemplateEngine",f.P);(function(){f.Ya=function(){var a=this.uc=function(){if(!e||!e.tmpl)return 0;try{if(0<=e.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();
this.renderTemplateSource=function(b,d,f,g){g=g||c;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");h||(h=b.text()||"",h=e.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[d.$data];d=e.extend({koBindingContext:d},f.templateOptions);d=e.tmpl(h,b,d);d.appendTo(g.createElement("div"));e.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+
a+" })()) }}"};this.addTemplate=function(a,b){c.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(e.tmpl.tag.ko_code={open:"__.push($1 || '');"},e.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};f.Ya.prototype=new f.J;var a=new f.Ya;0<a.uc&&f.hb(a);f.b("jqueryTmplTemplateEngine",f.Ya)})()})})()})();
(function(b){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?module.exports=b(require("knockout")):"function"===typeof define&&define.amd?define(["knockout"],b):b(ko)})(function(b){function d(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]&&0<=a[c].toString().indexOf(b))return c}function c(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]===b)return c}function a(a,b,c,d){var e=a.subscribe(b,null,"dirty",!1,d),f=a.subscribe(c,null,"change",!1,d);return{dispose:function(){e.dispose();
f.dispose()},_target:a}}var e="object"===typeof global&&global?global:window;if(!b)throw Error("Deferred Updates requires Knockout");if("3.4.0"<=b.version)throw Error("This version of Deferred Updates supports Knockout version 3.3 and lower.");b.tasks=function(){function a(b){var c=0,d=0;k=k._next={_mark:!0};try{for(var p=b;p=p._next;)if(m=p,p._mark){if(p._next){if(5E3<=++d)throw Error("'Too much recursion' after processing "+c+" tasks.");k=k._next={_mark:!0}}}else p._done||(p._done=!0,p._func.apply(p.object,
p.args||[]),++c)}finally{if(b!==h)b._next=null,k=b;else{l=[];h._next=null;n=k=h;if(g)e[f](g);g=void 0}m=void 0}return c}function c(){if(!m)return a(h)}var d,f;e.setImmediate?(d="setImmediate",f="clearImmediate"):(d="setTimeout",f="clearTimeout");var g,h={},k=h,l=[],m,n=h,p={processImmediate:function(b,c,d){l.push(n);n=k;try{return b.apply(c,d||[])}finally{try{n._next&&a(n)}finally{n=l.pop()||h}}},processDelayed:function(a,b,f){2==arguments.length&&"object"==typeof b&&(f=b,b=f.distinct);var h;if(h=
b||void 0===b)a:{h=m||n;for(var p;p=h._next;h=p)if(p._func===a&&!p._done){h._next=p._next;h._next||(k=h);h=!0;break a}h=!1}p=f||{};p._func=a;k=k._next=p;l.length||g||(g=e[d](c));return!h},makeProcessedCallback:function(a){return function(){return p.processImmediate(a,this,arguments)}}};b.processDeferredBindingUpdatesForNode=b.processAllDeferredBindingUpdates=function(){for(var a=h;a=a._next;)a.node&&!a._done&&(a._done=!0,a._func.call())};b.processAllDeferredUpdates=c;b.evaluateAsynchronously=function(a,
b){return setTimeout(p.makeProcessedCallback(a),b)};return p}();var g=b.utils,h=g.objectForEach||function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])},k=g.arrayForEach,m={__proto__:[]}instanceof Array?function(a,b){a.__proto__=b;return a}:g.extend,l=function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]&&a[c][b])return a[c]}(b,"end"),n=d(l,".apply(")||"ignore",p=d(l,".push"),f=d(l,"Only subscribable"),q=l.isInitial?c(l,l.isInitial):"isInitial",r=b.computed,u=function(a,b){var c=[],d;for(d in a)a.hasOwnProperty(d)&&
a[d]===b&&c.push(d);return c}(b,r),s=c(r.fn,r),t=b.computed(function(){}),v=c(t,t.peek)||"peek",x=c(t,t.isActive)||"isActive",w=c(t,t.getDependenciesCount),z=c(t,!1),B=c(t,t.dispose),A="disposeWhenNodeIsRemoved",E="disposeWhen";if("hasWriteFunction"!=z){var t=r.toString(),F;if(F=t.match(/.\.disposeWhenNodeIsRemoved\s*\|\|\s*.\.([^|\s,]+)/))A=F[1];if(t=t.match(/.\.disposeWhen\s*\|\|\s*.\.([^|\s,]+)/))E=t[1]}var I=d(g,"documentElement)")||d(g,"ocument)"),t=b.subscribable.fn;F=d(t,".bind(");var U=d(t,
"notifySubscribers"),D=(new b.subscribable).subscribe(),M=D.constructor.prototype,O=c(M,D.dispose);D.dispose();var D=null,V,ca;U&&b.extenders.rateLimit&&(D=(new b.subscribable).extend({rateLimit:1}),D[U]=null,ca=d(D,"=!0")||"_rateLimitedChange",V=d(D,'"beforeChange")')||"_rateLimitedBeforeChange",D=null);var y=new b.subscribable,D=c(y,1),T,G,L;D&&(T=d(t,"return this."+D),G=d(t,"++this."+D),L=d(t,"return this."+T+"()"));var y=null,H,P;b.pureComputed&&(y=b.pureComputed(function(){}),y[s]=null,H=d(y,
D?'"awake"':"!1,")||"beforeSubscriptionAdd",P=d(y,D?'"asleep"':"()||")||"afterSubscriptionRemove",y=null);var N=[],C,Q=0;l[p]=function(a){N.push(C);C=a};l.end=function(){C=N.pop()};l[f]=function(a){if(C){if(!b.isSubscribable(a))throw Error("Only subscribable things can act as dependencies");C.callback(a,a._id||(a._id=++Q))}};b.ignoreDependencies=l[n]=function(a,b,c){try{return l[p](),a.apply(b,c||[])}finally{l.end()}};l[w]=l.getDependenciesCount=function(){if(C)return C.computed.getDependenciesCount()};
l[q]=l.isInitial=function(){if(C)return C.isInitial};var J=t[F];t[F]=t.subscribe=function(a,c,d,e,f){d=d||"change";if(f)"change"==d&&(this.dependents=this.dependents||[],this.dependents.push(f));else{var g=c?a.bind(c):a;a="change"==d&&b.isObservable(this)?function(a){Z.deferUpdates&&!1!==h.deferUpdates||h.deferUpdates?b.tasks.processDelayed(g,{args:[a]}):g(a)}:g}var h=J.call(this,a,null,d);h._target=this;h.event=d;h.dependent=f;h.deferUpdates=e;return h};var K=t.notifySubscribers,X;t.notifySubscribers=
function(a,b){if("change"===b||"dirty"===b||void 0===b)if(X)X.push([this,a,b]);else try{if(X=[],K.call(this,a,b),X.length)for(var c=0,d;d=X[c];c++)Function.prototype.call.apply(K,d)}finally{X=null}else K.call(this,a,b)};t.getDependents=function(){return this.dependents?[].concat(this.dependents):[]};var ea=M[O];M[O]=M.dispose=function(){ea.call(this);this.dependent&&"change"==this.event&&g.arrayRemoveItem(this._target.dependents,this.dependent)};var Z=function(c,d,e){function n(b){return b[s]===Z?
a(b,O,u,y):b.subscribe(u,null,"change",!1,y)}function q(a,b,c){if(ia&&b===y)throw Error("A 'pure' computed must not be called recursively");W[a]=c;c._order=aa++;c._version=T&&b[T]()}function r(){if(!T)return!0;var a,b;for(a in W)if(W.hasOwnProperty(a)&&(b=W[a],b._target[L](b._version)))return!0}function D(){!Y&&W&&h(W,function(a,b){b.dispose&&b.dispose()});W=null;aa=0;fa=!0;Y=J=R=!1}function M(a,c){var d="dirty"==c,e=d&&!J&&!R;d?J=!0:R=!0;(d=y.throttleEvaluation)&&0<=d?(clearTimeout(ja),ja=b.evaluateAsynchronously(t,
d)):y._evalRateLimited?y._evalRateLimited():Z.deferUpdates&&!1!==y.deferUpdates||y.deferUpdates?e=b.tasks.processDelayed(t,{node:da}):R&&(t(),e=!1);e&&y.notifySubscribers&&(y.notifySubscribers(K,"dirty"),!J&&d&&clearTimeout(ja))}function u(a){J||R?R=!0:M(a,"change")}function O(a){M(a,"dirty")}function t(){F(!0)}function F(a){if(!N)if(!R&&a)J=R,y.equalityComparer&&y.equalityComparer(K,X)||(X=K,y.notifySubscribers(K,void 0));else{var b;a:if(fa)b=!0;else{if(ka&&ka()){if(!Q){ga();R=!1;b=!0;break a}}else Q=
!1;b=void 0}if(!b){N=!0;try{var c=W,e=aa;b=ia?void 0:!aa;l[p]({callback:function(a,b){fa||(e&&c[b]?(q(b,a,c[b]),delete c[b],--e):W[b]||q(b,a,Y?{_target:a}:n(a)))},computed:y,isInitial:b});W={};aa=0;try{var f=d?ba.call(d):ba()}finally{l.end(),e&&!Y&&h(c,function(a,b){b.dispose&&b.dispose()}),J=R=!1}if(!y.equalityComparer||!y.equalityComparer(K,f))if(Y||y.notifySubscribers(K,"beforeChange"),K=f,y._latestValue=K,Y){if(G)y[G]()}else a&&(X=K,y.notifySubscribers(K,void 0));b&&(X=K,y.notifySubscribers(K,
"awake"))}finally{N=!1}aa||ga()}}}function y(){if(0<arguments.length){if("function"===typeof la){var a=y.deferUpdates;y.deferUpdates=!1;try{la.apply(d,arguments)}finally{y.deferUpdates=a}}else throw Error('Cannot write a value to a ko.computed unless you specify a "write" option. If you wish to read the current value, don\'t pass any parameters.');return this}l[f](y);(R||J||Y&&r())&&F();return K}function ea(){(R&&!aa||Y&&r())&&F();return K}function C(){return R||J||0<aa}var K,X,J=!1,R=!0,N=!1,Q=!1,
fa=!1,ba=c,ia=!1,Y=!1;ba&&"object"==typeof ba?(e=ba,ba=e.read):(e=e||{},ba||(ba=e.read));if("function"!=typeof ba)throw Error("Pass a function that returns the value of the ko.computed");var ha,la=e.write,da=e[A]||e.disposeWhenNodeIsRemoved||null,ma=e[E]||e.disposeWhen,ka=ma,ga=D,W={},aa=0,na=[],ja=null;d||(d=e.owner);b.subscribable.call(y);m(y,Z.fn);y[v]=y.peek=ea;y[w]=y.getDependenciesCount=function(){return aa};y[z]=y.hasWriteFunction="function"===typeof la;y[B]=y.dispose=function(){ga()};y[x]=
y.isActive=C;y.activeWhen=function(a){ha||(ha=b.computed(function(){N=!a();!N&&R&&M(void 0,"change")}),ha.deferUpdates=!1,na.push(ha))};y.getDependencies=function(){var a=[];h(W,function(b,c){a.push(c._target)});return a};if(U){var oa=y[U];y[U]=function(a){oa.call(y,a);y._evalRateLimited=function(){J=R=!1;y[V](K);R=!0;y[ca](y)}}}H&&(e.pure?(Y=ia=!0,y[H]=function(a){if(!fa&&Y&&"change"==a){Y=!1;if(R||r())W=null,aa=0,R=!0,F();else{var b=[];h(W,function(a,c){b[c._order]=a});k(b,function(a,b){var c=W[a],
d=n(c._target);d._order=b;d._version=c._version;W[a]=d})}fa||(y.notifySubscribers(K,"awake"),X=K)}},y[P]=function(a){fa||a&&"change"!=a||y.getSubscriptionsCount("change")||(h(W,function(a,b){b.dispose&&(W[a]={_target:b._target,_order:b._order,_version:b._version},b.dispose())}),Y=!0,y.notifySubscribers(void 0,"asleep"),X=void 0)},T&&(y._originalGetVersion=y[T],y[T]=function(){Y&&(R||r())&&F();return y._originalGetVersion()})):e.deferEvaluation&&(y[H]=function(a){"change"!=a&&"beforeChange"!=a||ea()}));
da&&(Q=!0,da.nodeType&&(ka=function(){return!g[I](da)||ma&&ma()}));Y||e.deferEvaluation||F();da&&C()&&da.nodeType&&(ga=function(){g.domNodeDisposal.removeDisposeCallback(da,ga);D()},g.domNodeDisposal.addDisposeCallback(da,ga));return y};Z[s]=r[s];Z.fn=r.fn;Z.fn[s]=Z;Z.deferUpdates=!0;k(u,function(a){b[a]=Z});r=t=null;b.extenders.throttle=function(a,c){if(b.isWriteableObservable(a)){var d=null;return b.computed({read:a,write:function(e){clearTimeout(d);d=b.evaluateAsynchronously(function(){a(e)},c)}})}a.throttleEvaluation=
c;return a};b.extenders.deferred=function(a,b){a.deferUpdates=b};return b});
(function(b){"function"===typeof define&&define.amd?define(["knockout","jquery","jquery.ui.sortable"],b):b(window.ko,jQuery)})(function(b,d){var c=b.utils.unwrapObservable,a=b.utils.domData.get,e=b.utils.domData.set,g=function(c,d){b.utils.arrayForEach(c,function(b){1===b.nodeType&&(e(b,"ko_sortItem",d),e(b,"ko_parentList",a(b.parentNode,"ko_sortList")))})},h=function(a,d){var e={},h=c(a())||{},f;h.data?(e[d]=h.data,e.name=h.template):e[d]=a();b.utils.arrayForEach("afterAdd afterRender as beforeRemove includeDestroyed templateEngine templateOptions".split(" "),
function(a){e[a]=h[a]||b.bindingHandlers.sortable[a]});"foreach"===d&&(e.afterRender?(f=e.afterRender,e.afterRender=function(a,b){g.call(b,a,b);f.call(b,a,b)}):e.afterRender=g);return e},k=function(a,b){var d=c(b);if(d)for(var e=0;e<a;e++)d[e]&&c(d[e]._destroy)&&a++;return a};b.bindingHandlers.sortable={init:function(g,l,n,p,f){var q=d(g),r=c(l())||{},u=h(l,"foreach"),s={},t,v;q.contents().each(function(){this&&1!==this.nodeType&&g.removeChild(this)});d.extend(!0,s,b.bindingHandlers.sortable);r.options&&
s.options&&(b.utils.extend(s.options,r.options),delete r.options);b.utils.extend(s,r);s.connectClass&&(b.isObservable(s.allowDrop)||"function"==typeof s.allowDrop)?b.computed({read:function(){var a=c(s.allowDrop),a="function"==typeof a?a.call(this,u.foreach):a;b.utils.toggleDomNodeCssClass(g,s.connectClass,a)},disposeWhenNodeIsRemoved:g},this):b.utils.toggleDomNodeCssClass(g,s.connectClass,s.allowDrop);b.bindingHandlers.template.init(g,function(){return u},n,p,f);t=s.options.start;v=s.options.update;
var x=setTimeout(function(){var f;q.sortable(b.utils.extend(s.options,{start:function(a,c){var d=c.item[0];e(d,"ko_sourceIndex",b.utils.arrayIndexOf(c.item.parent().children(),d));c.item.find("input:focus").change();t&&t.apply(this,arguments)},receive:function(b,c){if(f=a(c.item[0],"ko_dragItem"))f.clone&&(f=f.clone()),s.dragged&&(f=s.dragged.call(this,f,b,c)||f)},update:function(c,g){var h,l,m,n,p,q=g.item[0];h=g.item.parent()[0];var r=a(q,"ko_sortItem")||f;f=null;if(r&&(this===h||d.contains(this,
h))){h=a(q,"ko_parentList");m=a(q,"ko_sourceIndex");l=a(q.parentNode,"ko_sortList");n=b.utils.arrayIndexOf(g.item.parent().children(),q);u.includeDestroyed||(m=k(m,h),n=k(n,l));if(s.beforeMove||s.afterMove)p={item:r,sourceParent:h,sourceParentNode:h&&g.sender||q.parentNode,sourceIndex:m,targetParent:l,targetIndex:n,cancelDrop:!1},s.beforeMove&&s.beforeMove.call(this,p,c,g);h?d(h===l?this:g.sender).sortable("cancel"):d(q).remove();if(p&&p.cancelDrop)return;0<=n&&(h&&(h.splice(m,1),b.processAllDeferredBindingUpdates&&
b.processAllDeferredBindingUpdates()),l.splice(n,0,r));e(q,"ko_sortItem",null);b.processAllDeferredBindingUpdates&&b.processAllDeferredBindingUpdates();s.afterMove&&s.afterMove.call(this,p,c,g)}v&&v.apply(this,arguments)},connectWith:s.connectClass?"."+s.connectClass:!1}));void 0!==s.isEnabled&&b.computed({read:function(){q.sortable(c(s.isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:g})},0);b.utils.domNodeDisposal.addDisposeCallback(g,function(){(q.data("ui-sortable")||q.data("sortable"))&&
q.sortable("destroy");clearTimeout(x)});return{controlsDescendantBindings:!0}},update:function(a,c,d,g,f){var k=h(c,"foreach");e(a,"ko_sortList",k.foreach);b.bindingHandlers.template.update(a,function(){return k},d,g,f)},connectClass:"ko_container",allowDrop:!0,afterMove:null,beforeMove:null,options:{}};b.bindingHandlers.draggable={init:function(a,g,k,p,f){var q=c(g())||{},r=q.options||{},u=b.utils.extend({},b.bindingHandlers.draggable.options),s=h(g,"data");g=q.connectClass||b.bindingHandlers.draggable.connectClass;
var t=void 0!==q.isEnabled?q.isEnabled:b.bindingHandlers.draggable.isEnabled,q=q.data||q;e(a,"ko_dragItem",q);b.utils.extend(u,r);u.connectToSortable=g?"."+g:!1;d(a).draggable(u);void 0!==t&&b.computed({read:function(){d(a).draggable(c(t)?"enable":"disable")},disposeWhenNodeIsRemoved:a});return b.bindingHandlers.template.init(a,function(){return s},k,p,f)},update:function(a,c,d,e,f){var g=h(c,"data");return b.bindingHandlers.template.update(a,function(){return g},d,e,f)},connectClass:b.bindingHandlers.sortable.connectClass,
options:{helper:"clone"}}});
(function(b){"function"===typeof define&&define.amd?define(["knockout"],b):b(window.ko)})(function(b){if(!b.virtualElements)throw Error("Repeat requires at least Knockout 2.1");var d=b.bindingFlags||{},c=b.utils.unwrapObservable,a="__ko_proto__";if("3.0.0"<=b.version){var e=b.bindingProvider.instance,g=e.preprocessNode;e.preprocessNode=function(a){var b,c;g&&(b=g.call(this,a))||1!==a.nodeType||!(c=a.getAttribute("data-bind"))||!/^\s*repeat\s*:/.test(c)||(b=document.createComment("ko "+c),c=document.createComment("/ko"),
a.parentNode.insertBefore(b,a),a.parentNode.insertBefore(c,a.nextSibling),a.removeAttribute("data-bind"),b=[b,a,c]);return b}}b.virtualElements.allowedBindings.repeat=!0;b.bindingHandlers.repeat={flags:d.contentBind|d.canUseVirtual,init:function(d,e,g,l,n){if((g=c(e()))&&"object"==typeof g&&!("length"in g))var p=g.index,f=g.item,q=g.step,r=g.reverse,u=g.bind,s=g.init,t=g.update;var p=p||"$index",f=f||b.bindingHandlers.repeat.itemName||"$item",q=q||1,r=r||!1,v=d.parentNode,x;if(8==d.nodeType){g=b.utils.arrayFilter(b.virtualElements.childNodes(d),
function(a){return 1==a.nodeType});if(1!==g.length)throw Error("Repeat binding requires a single element to repeat");b.virtualElements.emptyNode(d);x=r?d:d.nextSibling;d=g[0]}else g=d.getAttribute("data-bind"),b.cleanNode(d),d.removeAttribute("data-bind"),x=document.createComment("ko_repeatplaceholder "+g),v.replaceChild(x,d);u||(u=d.getAttribute("data-repeat-bind"))&&d.removeAttribute("data-repeat-bind");var w=d.cloneNode(!0);"string"==typeof u&&(w.setAttribute("data-bind",u),u=null);var z=0,B=b.observable(),
A,E;s&&s(v);return{controlsDescendantBindings:!0,subscribable:b.computed(function(){function d(e){var f=function(a){var d=A[e];if(!arguments.length)return B(),c(d);b.isObservable(d)?d(a):E&&E.splice?E.splice(e,1,a):A[e]=a;return this};f[a]=b.observable;return f}function g(a,b,c){return A?function(){return u.call(n.$data,a,b,c)}:function(){return u.call(n.$data,b,c)}}var h=e(),l=c(h),m=0;l&&"object"==typeof l?("length"in l?(A=l,m=A.length):("foreach"in l&&((A=c(h=l.foreach))&&"object"==typeof A&&"length"in
A?m=A.length||0:(m=A||0,A=null)),"count"in l&&(m=c(l.count)||m),"limit"in l&&(m=Math.min(m,c(l.limit))||m)),E=A&&b.isObservable(h)?h:null):m=l||0;for(;z>m;z-=q)b.removeNode(r?x.nextSibling:x.previousSibling);for(B.notifySubscribers();z<m;z+=q){h=w.cloneNode(!0);v.insertBefore(h,r?x.nextSibling:x);h.setAttribute("data-repeat-index",z);A&&"$data"==f?l=n.createChildContext(d(z)):(l=n.extend(),A&&(l[f]=d(z)));l[p]=z;if(u)var s=b.applyBindingsToNode(h,g(l[f],z,l),l,!0),V=s&&s.shouldBindDescendants;(!u||
s&&!1!==V)&&b.applyBindings(l,h)}t&&t(v)},null,{disposeWhenNodeIsRemoved:x})}}}});
!function(b,d){"function"==typeof define&&define.amd?define(["knockout"],function(c){d.call(b,window,document,c)}):d.call(b,window,document,ko)}(this,function(b,d,c){var a={deepExtend:function(b,c){for(var d in c)c[d]&&c[d].constructor&&c[d].constructor===Object?(b[d]=b[d]||{},a.deepExtend(b[d],c[d])):b[d]=c[d];return b}},e=function(e){var g=this;return g.opts={value:c.observable(),current:new Date,deselectable:!0,showCalendar:!0,showToday:!0,showTime:!0,showNow:!0,militaryTime:!1,min:null,max:null,
autoclose:!0,strings:{months:"January February March April May June July August September October November December".split(" "),days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),time:["AM","PM"]}},a.deepExtend(g.opts,e),g.opts.showCalendar||g.opts.showTime?(g.constants={daysInWeek:7,dayStringLength:2},g.utils={date:{normalize:function(a){a=new Date(a.getTime());return a.setHours(0,0,0,0),a},isSame:function(a,b){return a&&b?a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()&&
a.getFullYear()==b.getFullYear():!1},isSameMonth:function(a,b){return a&&b?a.getMonth()==b.getMonth():!1},isWeekend:function(a){return a?0===a.getDay()||a.getDay()==g.constants.daysInWeek-1:!1},isWithinMinMaxDateRange:function(a){return a?g.opts.min||g.opts.max?g.opts.min&&g.utils.date.normalize(g.opts.min)>a?!1:g.opts.max&&g.utils.date.normalize(g.opts.max)<a?!1:!0:!0:!1}},time:{handleSuffixCheck:function(a){var b=a.getHours();return 12<=b?b-=12:12>b&&(b+=12),a.setHours(b)},checkMinTimeRange:function(a){if(!a||
!g.value()||!g.opts.min&&!g.opts.max)return!1;var b=new Date(g.value());return"hours"===a.type?b.setHours(b.getHours()-1):"minutes"===a.type?b.setMinutes(b.getMinutes()-1):"suffix"===a.type&&(b=g.utils.time.handleSuffixCheck(b)),g.opts.max&&g.opts.max<b?!0:g.opts.min&&g.opts.min>b?!0:!1},checkMaxTimeRange:function(a){if(!a||!g.value()||!g.opts.min&&!g.opts.max)return!1;var b=new Date(g.value());return"hours"===a.type?b.setHours(b.getHours()+1):"minutes"===a.type?b.setMinutes(b.getMinutes()+1):"suffix"===
a.type&&(b=new Date(g.utils.time.handleSuffixCheck(b))),g.opts.min&&g.opts.min>b?!0:g.opts.max&&g.opts.max<b?!0:!1}},strings:{pad:function(a){return 10>a?"0"+a:a}},element:{offset:function(a){a=a.getBoundingClientRect();var c=d.documentElement;return{top:a.top+b.pageYOffset-c.clientTop,left:a.left+b.pageXOffset-c.clientLeft}},height:function(a){return a.offsetHeight},isDescendant:function(a,b){for(var c=b.parentNode;null!==c;){if(c==a)return!0;c=c.parentNode}return!1}}},g.current=c.observable(g.opts.current||
new Date),c.isObservable(g.opts.value)?(g.value=g.opts.value,g.opts.showToday&&!g.utils.date.isWithinMinMaxDateRange(g.utils.date.normalize(new Date))&&(g.opts.showToday=!1),g.opts.showNow&&(g.opts.min&&g.opts.min>=new Date||g.opts.max&&g.opts.max<=new Date)&&(g.opts.showNow=!1),g.calendar={select:function(a){return g.opts.deselectable&&g.utils.date.isSame(g.value(),a)?g.value(null):(g.value(g.opts.min&&g.utils.date.isSame(a,g.opts.min)?new Date(g.opts.min):new Date(a)),void(g.input()&&g.opts.autoclose&&
g.visible(!1)))},selectToday:function(){var a=g.utils.date.normalize(new Date);g.calendar.select(a);g.current(a)},next:function(){var a=g.current();a.setDate(1);a.setMonth(a.getMonth()+1);g.current(new Date(a))},prev:function(){var a=g.current();a.setDate(1);a.setMonth(a.getMonth()-1);g.current(new Date(a))},sheet:c.computed(function(){var a=g.utils.date.normalize(g.current());a.setDate(1);a.setDate(a.getDate()-a.getDay());for(var b=[],c=0,d=!1,e=!1,h=!1;b[c]||(b[c]=[]),b[c].length!==g.constants.daysInWeek&&
(b[c].push(new Date(a.getTime())),a.setDate(a.getDate()+1)),a.getMonth()==g.current().getMonth()&&(d=!0),d&&a.getMonth()!==g.current().getMonth()&&(e=!0),e&&b[c].length==g.constants.daysInWeek&&(h=!0),!e||!h;)b[c].length==g.constants.daysInWeek&&c++;return b})},g.time={next:function(a){return g.value()?void g.value(new Date(a.set(a.get()+1))):g.time.selectNow()},prev:function(a){return g.value()?void g.value(new Date(a.set(a.get()-1))):g.time.selectNow()},selectNow:function(){var a=new Date;g.value(a);
g.current(a);g.input()&&g.opts.autoclose&&g.visible(!1)},sheet:c.observableArray([{type:"hours",get:function(){return g.value().getHours()},set:function(a){return g.value().setHours(a)}},{type:"minutes",get:function(){return g.value().getMinutes()},set:function(a){return g.value().setMinutes(a)}}]),text:function(a){if(!g.value())return"-";switch(a.type){case "suffix":return a.get()?g.opts.strings.time[1]:g.opts.strings.time[0];case "hours":return a=a.get(),!g.opts.militaryTime&&(12<a||0===a)&&(a-=
12),Math.abs(a);default:return g.utils.strings.pad(a.get())}}},g.opts.militaryTime||g.time.sheet.push({type:"suffix",get:function(){return g.value()&&12>g.value().getHours()?0:1},set:function(){var a=g.value().getHours();return 12<=a?a-=12:12>a&&(a+=12),g.value().setHours(a)}}),g.input=c.observable(!1),void(g.visible=c.observable(!0))):console.error("value must be an observable")):console.error("Silly goose, what are you using ko-%s for?","calendar")},g=function(a,b){var g,l=new e(b);if("INPUT"==
a.tagName){var n=d.createElement("div");n.innerHTML='<div class="ko-calendar" data-bind="with: $data, visible: (opts.showCalendar || opts.showTime) && visible(), attr: { \'data-opts\': JSON.stringify(opts) } ">            \x3c!-- ko if: opts.showCalendar --\x3e            <table data-bind="css: { selected: value } " class="calendar-sheet">                <thead>                    <tr class="month-header">                        <th>                            <a href="#" data-bind="click: calendar.prev" class="prev">&laquo;</a>                        </th>                        <th data-bind="attr: { colspan: constants.daysInWeek - 2 } ">                            <b data-bind="text: opts.strings.months[current().getMonth()] + \' \' + current().getFullYear()"></b>                        </th>                        <th>                            <a href="#" data-bind="click: calendar.next" class="next">&raquo;</a>                        </th>                    </tr>                    <tr data-bind="foreach: opts.strings.days">                        <th data-bind="text: $data.substring(0, $parents[1].constants.dayStringLength)"></th>                    </tr>                </thead>                <tbody data-bind="foreach: calendar.sheet">                    <tr class="week" data-bind="foreach: $data">                        <td class="day" data-bind="css: { weekend: $parents[1].utils.date.isWeekend($data), today: $parents[1].utils.date.isSame(new Date(), $data), inactive: !($parents[1].utils.date.isSameMonth($parents[1].current(), $data)), outofrange: !($parents[1].utils.date.isWithinMinMaxDateRange($data)) } ">                            <a href="javascript:;" data-bind="text: $data.getDate(), attr: { title: $data }, click: $parents[1].calendar.select, css: { active: $parents[1].utils.date.isSame($parents[1].value(), $data) } "></a>                        </td>                    </tr>                </tbody>                \x3c!-- ko if: opts.showToday --\x3e                    <tfoot>                        <tr>                            <td data-bind="attr: { colspan: constants.daysInWeek } ">                                <a href="javascript:;" data-bind="click: calendar.selectToday">Today</a>                            </td>                        </tr>                    </tfoot>                \x3c!-- /ko --\x3e            </table>            \x3c!-- /ko --\x3e            \x3c!-- ko if: opts.showTime --\x3e            <table class="time-sheet">                <tbody>                    <tr data-bind="foreach: time.sheet">                        <td data-bind="css: { outofrange: $parent.utils.time.checkMaxTimeRange($data) }">                            <a href="#" class="up" data-bind="click: $parent.time.next"></a>                        </td>                    </tr>                    <tr data-bind="foreach: time.sheet">                        <td data-bind="css: { colon: $index() === 0, inactive: !$parent.value() }, text: $parent.time.text($data)"></td>                    </tr>                    <tr data-bind="foreach: time.sheet">                        <td data-bind="css: { outofrange: $parent.utils.time.checkMinTimeRange($data) }">                            <a href="#" class="down" data-bind="click: $parent.time.prev"></a>                        </td>                    </tr>                </tbody>                \x3c!-- ko if: opts.showNow --\x3e                    <tfoot>                        <tr>                            <td data-bind="attr: { colspan: time.sheet().length } ">                                <a href="javascript:;" data-bind="click: time.selectNow">Now</a>                            </td>                        </tr>                    </tfoot>                \x3c!-- /ko --\x3e            </table>            \x3c!-- /ko --\x3e        </div>';
g=n.children[0];d.body.appendChild(g);l.input(!0);l.visible(!1);c.utils.registerEventHandler(a,"focus",function(){var b=l.utils.element.offset(a),c=l.utils.element.height(a);g.style.position="absolute";g.style.top=b.top+c+5+"px";g.style.left=b.left+"px";l.visible(!0)});c.utils.registerEventHandler(a,"keydown",function(a){9==a.which&&l.visible(!1)});c.utils.registerEventHandler(d,"mousedown",function(b){b.target==a||b.target==g||l.utils.element.isDescendant(g,b.target)?a.focus():l.visible(!1)})}else a.innerHTML=
'<div class="ko-calendar" data-bind="with: $data, visible: (opts.showCalendar || opts.showTime) && visible(), attr: { \'data-opts\': JSON.stringify(opts) } ">            \x3c!-- ko if: opts.showCalendar --\x3e            <table data-bind="css: { selected: value } " class="calendar-sheet">                <thead>                    <tr class="month-header">                        <th>                            <a href="#" data-bind="click: calendar.prev" class="prev">&laquo;</a>                        </th>                        <th data-bind="attr: { colspan: constants.daysInWeek - 2 } ">                            <b data-bind="text: opts.strings.months[current().getMonth()] + \' \' + current().getFullYear()"></b>                        </th>                        <th>                            <a href="#" data-bind="click: calendar.next" class="next">&raquo;</a>                        </th>                    </tr>                    <tr data-bind="foreach: opts.strings.days">                        <th data-bind="text: $data.substring(0, $parents[1].constants.dayStringLength)"></th>                    </tr>                </thead>                <tbody data-bind="foreach: calendar.sheet">                    <tr class="week" data-bind="foreach: $data">                        <td class="day" data-bind="css: { weekend: $parents[1].utils.date.isWeekend($data), today: $parents[1].utils.date.isSame(new Date(), $data), inactive: !($parents[1].utils.date.isSameMonth($parents[1].current(), $data)), outofrange: !($parents[1].utils.date.isWithinMinMaxDateRange($data)) } ">                            <a href="javascript:;" data-bind="text: $data.getDate(), attr: { title: $data }, click: $parents[1].calendar.select, css: { active: $parents[1].utils.date.isSame($parents[1].value(), $data) } "></a>                        </td>                    </tr>                </tbody>                \x3c!-- ko if: opts.showToday --\x3e                    <tfoot>                        <tr>                            <td data-bind="attr: { colspan: constants.daysInWeek } ">                                <a href="javascript:;" data-bind="click: calendar.selectToday">Today</a>                            </td>                        </tr>                    </tfoot>                \x3c!-- /ko --\x3e            </table>            \x3c!-- /ko --\x3e            \x3c!-- ko if: opts.showTime --\x3e            <table class="time-sheet">                <tbody>                    <tr data-bind="foreach: time.sheet">                        <td data-bind="css: { outofrange: $parent.utils.time.checkMaxTimeRange($data) }">                            <a href="#" class="up" data-bind="click: $parent.time.next"></a>                        </td>                    </tr>                    <tr data-bind="foreach: time.sheet">                        <td data-bind="css: { colon: $index() === 0, inactive: !$parent.value() }, text: $parent.time.text($data)"></td>                    </tr>                    <tr data-bind="foreach: time.sheet">                        <td data-bind="css: { outofrange: $parent.utils.time.checkMinTimeRange($data) }">                            <a href="#" class="down" data-bind="click: $parent.time.prev"></a>                        </td>                    </tr>                </tbody>                \x3c!-- ko if: opts.showNow --\x3e                    <tfoot>                        <tr>                            <td data-bind="attr: { colspan: time.sheet().length } ">                                <a href="javascript:;" data-bind="click: time.selectNow">Now</a>                            </td>                        </tr>                    </tfoot>                \x3c!-- /ko --\x3e            </table>            \x3c!-- /ko --\x3e        </div>',
g=a.children[0];c.applyBindings(l,g)};c.components.register("calendar",{viewModel:e,template:'<div class="ko-calendar" data-bind="with: $data, visible: (opts.showCalendar || opts.showTime) && visible(), attr: { \'data-opts\': JSON.stringify(opts) } ">            \x3c!-- ko if: opts.showCalendar --\x3e            <table data-bind="css: { selected: value } " class="calendar-sheet">                <thead>                    <tr class="month-header">                        <th>                            <a href="#" data-bind="click: calendar.prev" class="prev">&laquo;</a>                        </th>                        <th data-bind="attr: { colspan: constants.daysInWeek - 2 } ">                            <b data-bind="text: opts.strings.months[current().getMonth()] + \' \' + current().getFullYear()"></b>                        </th>                        <th>                            <a href="#" data-bind="click: calendar.next" class="next">&raquo;</a>                        </th>                    </tr>                    <tr data-bind="foreach: opts.strings.days">                        <th data-bind="text: $data.substring(0, $parents[1].constants.dayStringLength)"></th>                    </tr>                </thead>                <tbody data-bind="foreach: calendar.sheet">                    <tr class="week" data-bind="foreach: $data">                        <td class="day" data-bind="css: { weekend: $parents[1].utils.date.isWeekend($data), today: $parents[1].utils.date.isSame(new Date(), $data), inactive: !($parents[1].utils.date.isSameMonth($parents[1].current(), $data)), outofrange: !($parents[1].utils.date.isWithinMinMaxDateRange($data)) } ">                            <a href="javascript:;" data-bind="text: $data.getDate(), attr: { title: $data }, click: $parents[1].calendar.select, css: { active: $parents[1].utils.date.isSame($parents[1].value(), $data) } "></a>                        </td>                    </tr>                </tbody>                \x3c!-- ko if: opts.showToday --\x3e                    <tfoot>                        <tr>                            <td data-bind="attr: { colspan: constants.daysInWeek } ">                                <a href="javascript:;" data-bind="click: calendar.selectToday">Today</a>                            </td>                        </tr>                    </tfoot>                \x3c!-- /ko --\x3e            </table>            \x3c!-- /ko --\x3e            \x3c!-- ko if: opts.showTime --\x3e            <table class="time-sheet">                <tbody>                    <tr data-bind="foreach: time.sheet">                        <td data-bind="css: { outofrange: $parent.utils.time.checkMaxTimeRange($data) }">                            <a href="#" class="up" data-bind="click: $parent.time.next"></a>                        </td>                    </tr>                    <tr data-bind="foreach: time.sheet">                        <td data-bind="css: { colon: $index() === 0, inactive: !$parent.value() }, text: $parent.time.text($data)"></td>                    </tr>                    <tr data-bind="foreach: time.sheet">                        <td data-bind="css: { outofrange: $parent.utils.time.checkMinTimeRange($data) }">                            <a href="#" class="down" data-bind="click: $parent.time.prev"></a>                        </td>                    </tr>                </tbody>                \x3c!-- ko if: opts.showNow --\x3e                    <tfoot>                        <tr>                            <td data-bind="attr: { colspan: time.sheet().length } ">                                <a href="javascript:;" data-bind="click: time.selectNow">Now</a>                            </td>                        </tr>                    </tfoot>                \x3c!-- /ko --\x3e            </table>            \x3c!-- /ko --\x3e        </div>'});
c.bindingHandlers.calendar={init:function(a,b){return g(a,c.unwrap(b())),{controlsDescendantBindings:!0}}};c.calendar=g});
(function(){var b="undefined"!==typeof module&&module.exports,d="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,c=function(){var a,b,c=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],d=0;b=c.length;for(var m={};d<b;d++)if((a=c[d])&&a[1]in document){d=0;for(b=a.length;d<b;d++)m[c[0][d]]=a[d];return m}return!1}(),a={request:function(a){var b=c.requestFullscreen;a=a||document.documentElement;if(/5\.1[\.\d]* Safari/.test(navigator.userAgent))a[b]();
else a[b](d&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[c.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(){},onerror:function(){},raw:c};c?(Object.defineProperties(a,{isFullscreen:{get:function(){return!!document[c.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[c.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[c.fullscreenEnabled]}}}),document.addEventListener(c.fullscreenchange,
function(b){a.onchange.call(a,b)}),document.addEventListener(c.fullscreenerror,function(b){a.onerror.call(a,b)}),b?module.exports=a:window.screenfull=a):b?module.exports=!1:window.screenfull=!1})();
window.whatInput=function(){function b(){window.clearTimeout(x);a(event);n=!0;x=window.setTimeout(function(){n=!1},650)}function d(b){n||a(b)}function c(b){window.clearTimeout(x);a(b)}function a(a){var b=a.keyCode?a.keyCode:a.which,c=u[a.type];"pointer"===c&&(c="number"===typeof a.pointerType?v[a.pointerType]:"pen"===a.pointerType?"touch":a.pointerType);if(p!==c){var d=a.target||a.srcElement;a=d.nodeName.toLowerCase();d="input"===a?d.getAttribute("type"):null;!l.hasAttribute("data-whatinput-formtyping")&&
p&&"keyboard"===c&&"tab"!==t[b]&&("textarea"===a||"select"===a||"input"===a&&0>f.indexOf(d))||-1<r.indexOf(b)||e(c)}"keyboard"===c&&-1===m.indexOf(t[b])&&t[b]&&m.push(t[b])}function e(a){p=a;l.setAttribute("data-whatinput",p);-1===s.indexOf(p)&&s.push(p)}function g(a){a=m.indexOf(t[a.keyCode?a.keyCode:a.which]);-1!==a&&m.splice(a,1)}function h(){l=document.body;window.PointerEvent?(l.addEventListener("pointerdown",d),l.addEventListener("pointermove",d)):window.MSPointerEvent?(l.addEventListener("MSPointerDown",
d),l.addEventListener("MSPointerMove",d)):(l.addEventListener("mousedown",d),l.addEventListener("mousemove",d),"ontouchstart"in window&&l.addEventListener("touchstart",b));l.addEventListener(q,d);l.addEventListener("keydown",c);l.addEventListener("keyup",c);document.addEventListener("keyup",g)}function k(){return q="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}var m=[],l,n=!1,p=null,f="button checkbox file image radio reset submit".split(" "),
q=k(),r=[16,17,18,91,93],u={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"};u[k()]="mouse";var s=[],t={9:"tab",13:"enter",16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"},v={2:"touch",3:"touch",4:"mouse"},x;"addEventListener"in window&&Array.prototype.indexOf&&(document.body?h():document.addEventListener("DOMContentLoaded",h));return{ask:function(){return p},
keys:function(){return m},types:function(){return s},set:e}}();
(function(b,d){"function"===typeof define&&define.amd&&!0===define.amd.dust?define("dust.core",[],d):"object"===typeof exports?module.exports=d():b.dust=d()})(this,function(){function b(a,b){if(a){if("function"===typeof a&&a.template)return a.template;if(l.isTemplateFn(a))return a;if(!1!==b)return l.cache[a]}}function d(a,d,e){if(!a)return d.setError(Error("No template or template name provided to render"));var f=b(a,l.config.cache);return f?f(d,c.wrap(e,f.templateName)):l.onLoad?d.map(function(d){function f(a,
h){var k;if(a)return d.setError(a);k=b(h,!1)||b(g,l.config.cache);if(!k)if(l.compile)k=l.loadSource(l.compile(h,g));else return d.setError(Error("Dust compiler not available"));k(d,c.wrap(e,k.templateName)).end()}var g=a;if(3===l.onLoad.length)l.onLoad(g,e.options,f);else l.onLoad(g,f)}):d.setError(Error("Template Not Found: "+a))}function c(a,b,c,d,f){void 0===a||a instanceof e||(a=new e(a));this.stack=a;this.global=b;this.options=c;this.blocks=d;this.templateName=f}function a(a,b,c){return function(d){return a.push(d)._get(b,
c)}}function e(a,b,c,d){this.tail=b;this.isObject=a&&"object"===typeof a;this.head=a;this.index=c;this.of=d}function g(a){this.head=new k(this);this.callback=a;this.out=""}function h(){this.head=new k(this)}function k(a,b,c){this.root=a;this.next=b;this.data=[];this.flushable=!1;this.taps=c}function m(a,b){this.head=a;this.tail=b}var l={version:"2.7.2"},n=function(){};l.config={whitespace:!1,amd:!1,cjs:!1,cache:!0};l._aliases={write:"w",end:"e",map:"m",render:"r",reference:"f",section:"s",exists:"x",
notexists:"nx",block:"b",partial:"p",helper:"h"};(function(){var a={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4},b,c;"undefined"!==typeof console&&console.log?(b=console.log,c="function"===typeof b?function(){b.apply(console,arguments)}:function(){b(Array.prototype.slice.apply(arguments).join(" "))}):c=n;l.log=function(b,d){d=d||"INFO";a[d]>=a[l.debugLevel]&&c("[DUST:"+d+"]",b)};l.debugLevel="NONE";"undefined"!==typeof process&&process.env&&/\bdust\b/.test(process.env.DEBUG)&&(l.debugLevel="DEBUG")})();
l.helpers={};l.cache={};l.register=function(a,b){a&&(b.templateName=a,!1!==l.config.cache&&(l.cache[a]=b))};l.render=function(a,b,c){c=(new g(c)).head;try{d(a,c,b).end()}catch(e){c.setError(e)}};l.stream=function(a,b){var c=new h,e=c.head;l.nextTick(function(){try{d(a,e,b).end()}catch(c){e.setError(c)}});return c};l.loadSource=function(a){return eval(a)};l.isArray=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};l.nextTick=function(){return function(a){setTimeout(a,
0)}}();l.isEmpty=function(a){return 0===a?!1:l.isArray(a)&&!a.length?!0:!a};l.isEmptyObject=function(a){var b;if(null===a||void 0===a||0<a.length)return!1;for(b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0};l.isTemplateFn=function(a){return"function"===typeof a&&a.__dustBody};l.isThenable=function(a){return a&&"object"===typeof a&&"function"===typeof a.then};l.isStreamable=function(a){return a&&"function"===typeof a.on&&"function"===typeof a.pipe};l.filter=function(a,b,c,d){var e,
f,g,h;if(c)for(e=0,f=c.length;e<f;e++)g=c[e],g.length&&(h=l.filters[g],"s"===g?b=null:"function"===typeof h?a=h(a,d):l.log("Invalid filter `"+g+"`","WARN"));b&&(a=l.filters[b](a,d));return a};l.filters={h:function(a){return l.escapeHtml(a)},j:function(a){return l.escapeJs(a)},u:encodeURI,uc:encodeURIComponent,js:function(a){return l.escapeJSON(a)},jp:function(a){if(JSON)return JSON.parse(a);l.log("JSON is undefined; could not parse `"+a+"`","WARN");return a}};l.makeBase=l.context=function(a,b){return new c(void 0,
a,b)};c.wrap=function(a,b){return a instanceof c?a:new c(a,{},{},null,b)};c.prototype.get=function(a,b){"string"===typeof a&&("."===a[0]&&(b=!0,a=a.substr(1)),a=a.split("."));return this._get(b,a)};c.prototype._get=function(b,c){var d=this.stack||{},e=1,f,g,h,k;g=c[0];h=c.length;if(b&&0===h)k=d,d=d.head;else{if(b)d&&(d=d.head?d.head[g]:void 0);else{for(;d&&(!d.isObject||(k=d.head,f=d.head[g],void 0===f));)d=d.tail;d=void 0!==f?f:this.global&&this.global[g]}for(;d&&e<h;){if(l.isThenable(d))return d.then(a(this,
b,c.slice(e)));k=d;d=d[c[e]];e++}}if("function"===typeof d)return e=function(){try{return d.apply(k,arguments)}catch(a){throw l.log(a,"ERROR"),a;}},e.__dustBody=!!d.__dustBody,e;void 0===d&&l.log("Cannot find reference `{"+c.join(".")+"}` in template `"+this.getTemplateName()+"`","INFO");return d};c.prototype.getPath=function(a,b){return this._get(a,b)};c.prototype.push=function(a,b,c){return void 0===a?(l.log("Not pushing an undefined variable onto the context","INFO"),this):this.rebase(new e(a,
this.stack,b,c))};c.prototype.pop=function(){var a=this.current();this.stack=this.stack&&this.stack.tail;return a};c.prototype.rebase=function(a){return new c(a,this.global,this.options,this.blocks,this.getTemplateName())};c.prototype.clone=function(){var a=this.rebase();a.stack=this.stack;return a};c.prototype.current=function(){return this.stack&&this.stack.head};c.prototype.getBlock=function(a){var b,c,d;"function"===typeof a&&(a=a(new k,this).data.join(""));b=this.blocks;if(!b)return l.log("No blocks for context `"+
a+"` in template `"+this.getTemplateName()+"`","DEBUG"),!1;for(c=b.length;c--;)if(d=b[c][a])return d;l.log("Malformed template `"+this.getTemplateName()+"` was missing one or more blocks.");return!1};c.prototype.shiftBlocks=function(a){var b=this.blocks;return a?(a=b?b.concat([a]):[a],new c(this.stack,this.global,this.options,a,this.getTemplateName())):this};c.prototype.resolve=function(a){if("function"!==typeof a)return a;a=(new k).render(a,this);return a instanceof k?a.data.join(""):a};c.prototype.getTemplateName=
function(){return this.templateName};g.prototype.flush=function(){for(var a=this.head;a;){if(a.flushable)this.out+=a.data.join("");else{a.error&&(this.callback(a.error),l.log("Rendering failed with error `"+a.error+"`","ERROR"),this.flush=n);return}this.head=a=a.next}this.callback(null,this.out)};h.prototype.flush=function(){for(var a=this.head;a;){if(a.flushable)this.emit("data",a.data.join(""));else{a.error&&(this.emit("error",a.error),this.emit("end"),l.log("Streaming failed with error `"+a.error+
"`","ERROR"),this.flush=n);return}this.head=a=a.next}this.emit("end")};h.prototype.emit=function(a,b){var c=(this.events||{})[a]||[],d,e;if(!c.length)return l.log("Stream broadcasting, but no listeners for `"+a+"`","DEBUG"),!1;c=c.slice(0);d=0;for(e=c.length;d<e;d++)c[d](b);return!0};h.prototype.on=function(a,b){var c=this.events=this.events||{},c=c[a]=c[a]||[];"function"!==typeof b?l.log("No callback function provided for `"+a+"` event listener","WARN"):c.push(b);return this};h.prototype.pipe=function(a){if("function"!==
typeof a.write||"function"!==typeof a.end)return l.log("Incompatible stream passed to `pipe`","WARN"),this;var b=!1;"function"===typeof a.emit&&a.emit("pipe",this);if("function"===typeof a.on)a.on("error",function(){b=!0});return this.on("data",function(c){if(!b)try{a.write(c,"utf8")}catch(d){l.log(d,"ERROR")}}).on("end",function(){if(!b)try{a.end(),b=!0}catch(c){l.log(c,"ERROR")}})};k.prototype.write=function(a){var b=this.taps;b&&(a=b.go(a));this.data.push(a);return this};k.prototype.end=function(a){a&&
this.write(a);this.flushable=!0;this.root.flush();return this};k.prototype.map=function(a){var b=new k(this.root,this.next,this.taps),c=new k(this.root,b,this.taps);this.next=c;this.flushable=!0;try{a(c)}catch(d){l.log(d,"ERROR"),c.setError(d)}return b};k.prototype.tap=function(a){var b=this.taps;this.taps=b?b.push(a):new m(a);return this};k.prototype.untap=function(){this.taps=this.taps.tail;return this};k.prototype.render=function(a,b){return a(this,b)};k.prototype.reference=function(a,b,c,d){return"function"===
typeof a?(a=a.apply(b.current(),[this,b,null,{auto:c,filters:d}]),a instanceof k?a:this.reference(a,b,c,d)):l.isThenable(a)?this.await(a,b,null,c,d):l.isStreamable(a)?this.stream(a,b,null,c,d):l.isEmpty(a)?this:this.write(l.filter(a,c,d,b))};k.prototype.section=function(a,b,c,d){var e=c.block,f=c["else"],g=this;if("function"===typeof a&&!l.isTemplateFn(a)){try{a=a.apply(b.current(),[this,b,c,d])}catch(h){return l.log(h,"ERROR"),this.setError(h)}if(a instanceof k)return a}if(l.isEmptyObject(c))return g;
l.isEmptyObject(d)||(b=b.push(d));if(l.isArray(a)){if(e){c=a.length;if(0<c){d=b.stack&&b.stack.head||{};d.$len=c;for(f=0;f<c;f++)d.$idx=f,g=e(g,b.push(a[f],f,c));d.$idx=void 0;d.$len=void 0;return g}if(f)return f(this,b)}}else{if(l.isThenable(a))return this.await(a,b,c);if(l.isStreamable(a))return this.stream(a,b,c);if(!0===a){if(e)return e(this,b)}else if(a||0===a){if(e)return e(this,b.push(a))}else if(f)return f(this,b)}l.log("Section without corresponding key in template `"+b.getTemplateName()+
"`","DEBUG");return this};k.prototype.exists=function(a,b,c){var d=c.block;c=c["else"];if(!l.isEmpty(a)){if(d)return d(this,b);l.log("No block for exists check in template `"+b.getTemplateName()+"`","DEBUG")}else if(c)return c(this,b);return this};k.prototype.notexists=function(a,b,c){var d=c.block;c=c["else"];if(l.isEmpty(a)){if(d)return d(this,b);l.log("No block for not-exists check in template `"+b.getTemplateName()+"`","DEBUG")}else if(c)return c(this,b);return this};k.prototype.block=function(a,
b,c){return(a=a||c.block)?a(this,b):this};k.prototype.partial=function(a,b,c,e){var f;void 0===e&&(e=c,c=b);l.isEmptyObject(e)||(c=c.clone(),f=c.pop(),c=c.push(e).push(f));if(l.isTemplateFn(a))return this.capture(a,b,function(a,b){c.templateName=a;d(a,b,c).end()});c.templateName=a;return d(a,this,c)};k.prototype.helper=function(a,b,c,d,e){var f=d.filters,g;void 0===e&&(e="h");if(l.helpers[a])try{g=l.helpers[a](this,b,c,d);if(g instanceof k)return g;"string"===typeof f&&(f=f.split("|"));return l.isEmptyObject(c)?
this.reference(g,b,e,f):this.section(g,b,c,d)}catch(h){return l.log("Error in helper `"+a+"`: "+h.message,"ERROR"),this.setError(h)}else return l.log("Helper `"+a+"` does not exist","WARN"),this};k.prototype.await=function(a,b,c,d,e){return this.map(function(f){a.then(function(a){f=c?f.section(a,b,c):f.reference(a,b,d,e);f.end()},function(a){var d=c&&c.error;d?f.render(d,b.push(a)).end():(l.log("Unhandled promise rejection in `"+b.getTemplateName()+"`","INFO"),f.end())})})};k.prototype.stream=function(a,
b,c,d,e){var f=c&&c.block,g=c&&c.error;return this.map(function(h){var k=!1;a.on("data",function(a){k||(f?h=h.map(function(c){c.render(f,b.push(a)).end()}):c||(h=h.reference(a,b,d,e)))}).on("error",function(a){k||(g?h.render(g,b.push(a)):l.log("Unhandled stream error in `"+b.getTemplateName()+"`","INFO"),k||(k=!0,h.end()))}).on("end",function(){k||(k=!0,h.end())})})};k.prototype.capture=function(a,b,c){return this.map(function(d){var e=new g(function(a,b){a?d.setError(a):c(b,d)});a(e.head,b).end()})};
k.prototype.setError=function(a){this.error=a;this.root.flush();return this};for(var p in k.prototype)l._aliases[p]&&(k.prototype[l._aliases[p]]=k.prototype[p]);m.prototype.push=function(a){return new m(a,this)};m.prototype.go=function(a){for(var b=this;b;)a=b.head(a),b=b.tail;return a};var f=/[&<>"']/,q=/&/g,r=/</g,u=/>/g,s=/\"/g,t=/\'/g;l.escapeHtml=function(a){return"string"===typeof a||a&&"function"===typeof a.toString?("string"!==typeof a&&(a=a.toString()),f.test(a)?a.replace(q,"&amp;").replace(r,
"&lt;").replace(u,"&gt;").replace(s,"&quot;").replace(t,"&#39;"):a):a};var v=/\\/g,x=/\//g,w=/\r/g,z=/\u2028/g,B=/\u2029/g,A=/\n/g,E=/\f/g,F=/'/g,I=/"/g,U=/\t/g;l.escapeJs=function(a){return"string"===typeof a?a.replace(v,"\\\\").replace(x,"\\/").replace(I,'\\"').replace(F,"\\'").replace(w,"\\r").replace(z,"\\u2028").replace(B,"\\u2029").replace(A,"\\n").replace(E,"\\f").replace(U,"\\t"):a};l.escapeJSON=function(a){if(JSON)return JSON.stringify(a).replace(z,"\\u2028").replace(B,"\\u2029").replace(r,
"\\u003c");l.log("JSON is undefined; could not escape `"+a+"`","WARN");return a};return l});"function"===typeof define&&define.amd&&!0===define.amd.dust&&define(["require","dust.core"],function(b,d){d.onLoad=function(c,a){b([c],function(){a()})};return d});
(function(){var b=b||{},d={},c;if("undefined"!==typeof GLOBAL&&GLOBAL.global&&GLOBAL.process&&GLOBAL.process.env&&GLOBAL.process.pid&&GLOBAL.process.execPath){c=global.ZAP||{};var a=require("path"),e=a.dirname((module.parent||{}).filename);c.mannequinPath=a.resolve(__dirname,"../..")+"/";global.server=b.server=!0;global.opts=global.opts||{};global.ZAP=c;require("./ObjectId");require("./server")(d);module.exports=function(b,c){var d={};c&&_.each(c,function(b){var c=b.slice(0,1);if("."===c||"/"===c)b=
a.resolve(e,b);d[a.basename(b,".js")]=require(b)});return b(d)};require("./util");require("./subscriptions")}else c=window.ZAP||{},b.client=!0,b.opts=b.opts||{},window.global=window,global.ZAP=c,global.root=b,global.console=global.console||{log:function(a){return a}},global.__dirname="",global.exports={},global.module={exports:global.exports},global.require=function(a){if(!a)return require;if(/ZAP/.test(a))return function(a){return a({})}},require.resolve=function(){},require.cache=require.cache||
{}})();
var ObjectId=global.ObjectId=function(){var b=0,d=Math.floor(32767*Math.random()),c=Math.floor(16777216*Math.random()),a="undefined"!==typeof document?document:{cookie:""},e=function(){var b=a.cookie.split("; "),d;for(d in b){var e=b[d].split("="),g=parseInt(e[1],10);if("mongoMachineId"==e[0]&&g&&0<=g&&16777215>=g){c=g;break}}a.cookie="mongoMachineId="+c+";expires=Tue, 19 Jan 2038 05:00:00 GMT;path=/"};if("undefined"!=typeof localStorage)try{var g=parseInt(localStorage.mongoMachineId);0<=g&&16777215>=
g&&(c=Math.floor(localStorage.mongoMachineId));localStorage.mongoMachineId=c}catch(h){e()}else e();return function(){if(!(this instanceof ObjectId))return(new ObjectId(arguments[0],arguments[1],arguments[2],arguments[3])).toString();"object"==typeof arguments[0]?(this.timestamp=arguments[0].timestamp,this.machine=arguments[0].machine,this.pid=arguments[0].pid,this.increment=arguments[0].increment):"string"==typeof arguments[0]&&24==arguments[0].length?(this.timestamp=Number("0x"+arguments[0].substr(0,
8)),this.machine=Number("0x"+arguments[0].substr(8,6)),this.pid=Number("0x"+arguments[0].substr(14,4)),this.increment=Number("0x"+arguments[0].substr(18,6))):4==arguments.length&&null!=arguments[0]?(this.timestamp=arguments[0],this.machine=arguments[1],this.pid=arguments[2],this.increment=arguments[3]):(this.timestamp=Math.floor((new Date).valueOf()/1E3),this.machine=c,this.pid=d,this.increment=b++,16777215<b&&(b=0))}}();ObjectId.prototype.getDate=function(){return new Date(1E3*this.timestamp)};
ObjectId.prototype.toArray=function(){var b=this.toString(),d=[],c;for(c=0;12>c;c++)d[c]=parseInt(b.slice(2*c,2*c+2),16);return d};
ObjectId.prototype.toString=function(){if(void 0!==this.timestamp&&void 0!==this.machine&&void 0!==this.pid&&void 0!==this.increment){var b=this.timestamp.toString(16),d=this.machine.toString(16),c=this.pid.toString(16),a=this.increment.toString(16);return"00000000".substr(0,8-b.length)+b+"000000".substr(0,6-d.length)+d+"0000".substr(0,4-c.length)+c+"000000".substr(0,6-a.length)+a}};
module.exports=require("./ZAP")(function(){var b=ZAP.util||{};b.isString=function(a){return"string"===typeof a||a instanceof String};var d=/^(https?:|ftps?:|)?\/\//;b.isValidFileURL=function(a){return d.test(a)};b.isNotOnlyWhitespace=function(a){return b.isString(a)&&0<a.trim().length};b.validEmail=function(a){return void 0===a?!0:b.isString(a)&&3<=a.length&&254>=a.length&&!!a.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)};
b.validLen40Exact=function(a){return b.isString(a)&&40===a.length};b.validLen100=function(a){return b.isString(a)&&100>=a.length};b.validLen250=function(a){return b.isString(a)&&250>=a.length};b.validLen1000=function(a){return b.isString(a)&&1E3>=a.length};b.passwordIsTooWeak=function(a,b){b=b||{};a=a||"";var c=a.toLowerCase();return 8>a.length||c===(b.email||"").toLowerCase()||c===(b.firstName||"").toLowerCase()||c===(b.lastName||"").toLowerCase()||c===ZAP.util.makeFullName(b.firstName,b.lastName).toLowerCase()||
_.contains("12345678 password zaption1 zaption123 qwertyui azertyui abcd1234 iloveyou letmein1 trustno1 sunshine princess baseball football superman".split(" "),c)||/^(.)\1+$/.test(c)?!0:!1};b.toLowerAndTrim=function(a){return a?String(a).toLowerCase().trim():a};b.slice=Array.prototype.slice;b.has=Object.prototype.hasOwnProperty;b.regexEscape=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};b.zeroPad=function(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c};b.time=function(){return+(new Date).getTime()};
b.formatDateString=function(a){a=new Date(a);return"January February March April May June July August September October November December".split(" ")[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear()};b.formatUSD=function(a){return"$"+(a%100?(a/100).toFixed(2):a/100)};b.formatPlural=function(a,b,c){c||(c=b+"s");return 1===a?b:c};b.stripHTTP=function(a){return a.replace(/^(https?:\/\/)/i,"//")};b.getParams=function(a){a=a.split("&");if(""===a)a={};else{for(var b={},c=0;c<a.length;++c){var d=a[c].split("=");
2===d.length&&(b[d[0]]=decodeURIComponent(d[1].replace(/\+/g," ")))}a=b}return a};b.parseJSON=function(a,b){if(_.isObject(a))return a;try{a=JSON.parse(a)}catch(c){b&&b(c),a=null}if(a)return a};b.arraysEqual=function(a,b){if(!_.isArray(a)||!_.isArray(b)||a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.cleanArray=function(a){return _.isArray(a)?_.reject(a,function(a){return null===a||void 0===a}):[]};b.isID=function(a){return!a||null!==a&&"number"!==typeof a&&
12!==a.length&&24!==a.length||!/^[0-9a-fA-F]{24}$/.test(a)?!1:!0};b.toID=function(a){return a?"string"===typeof a&&b.isID(a)?new ObjectId(a):"object"!==typeof a?null:a:null};b.event=function(a){var c=b.event.events=b.event.events||{},d=Array.prototype.slice.call(arguments,1);c[a]=c[a]||[];_.each(c[a],function(a){a.apply({},d)});return{listen:function(b){c[a].push(b)}}};b.hookSort=function(a,b){if(!a||!b)return 0;a=a.i;b=b.i;return a<b?-1:a>b?1:0};b.hook=function(a,c,d){var h=b.hook,k=h.events=h.events||
{};c={fn:c,i:d||0};a=k[a]=k[a]||[];h.sort=h.sort||b.hookSort;a.push(c);a.sort(h.sort)};b.postHook=function(a,c,d){var h=b.hook,k=h.postHooks=h.postHooks||{};c={fn:c,i:d||0};a=k[a]=k[a]||[];h.sort=h.sort||b.hookSort;a.push(c);a.sort(h.sort)};b.defineHook=function(a,c){var d=b.hook,h=d.events=d.events||{},k=h[a]=h[a]||[],d=d.postHooks=d.postHooks||{},m=d[a]=d[a]||[];return function(){var a=-1,b={},d=function(){var f=Array.prototype.slice.call(arguments,0),g=k[++a]||{},h=g.fn||c;d.i=g.i;h!==c&&f.unshift(d);
h.apply(b,f);h===c&&m.forEach(function(a){a.fn.apply(b,f)})},f=Array.prototype.slice.call(arguments,0);return d.apply(b,f)}};b.getIndexedPath=function(a,c){if(!a||!ko.unwrap(a._parent)||!a._propName)return[];var d=a._propName,h=ko.unwrap(ko.unwrap(a._parent)[d]),k=d;if(Array.isArray(h))if(c)k=[d,a._id];else{for(var k=-1,m=0;m<h.length;m++)if(h[m]&&(h[m]===a||String(h[m]._id)===String(a._id))){k=m;break}k=[d,k]}return b.getIndexedPath(ko.unwrap(a._parent),c).concat(k)};b.pathEquals=function(a,b){a=
a||[];b=b||[];return a.length!==b.length?!1:0===_.difference(a,b).length};b.findLastUpdate=function(a,b){if(!a||!a.length||!b)return null;for(var c=a.length;c--;){var d=a[c];if(!("update"!==d.op&&"setArray"!==d.op||d.path&&d.path.length)&&d.data&&void 0!==d.data[b])return d.data[b]}return null};b.definedOr=function(a,b){return void 0===a?b:a};b.deMongoose=function(a){return a?_.isArray(a)?a.map(b.deMongoose):"function"===typeof a.toObject?a.toObject():a:a};b.isBasicValue=function(a){return"object"!==
typeof a||null===a||a instanceof Date||a instanceof ZAP.ObjectId||a instanceof String||a instanceof Number||a instanceof Boolean};ko.toJSON!==JSON.stringify&&(ko.toJS=function(a){if(b.isBasicValue(a))return a;var c;a&&"function"===typeof a.toJSON&&(a=a.toJSON());if(Array.isArray(a)){c=[];for(var d=a.length;d--;)c[d]=ko.toJS(a[d])}else if(!a||"object"!==typeof a&&"function"!==typeof a)c=a;else for(d in c={},a)a.hasOwnProperty(d)&&(c[d]=ko.toJS(a[d]));return c},ko.toJSON=JSON.stringify,ko.subscribable.fn.toJSON=
function(){for(var a=this,b=0;ko.isSubscribable(a)&&10>b;b++)a=a();return a});b.toJS=function(a){if(b.isBasicValue(a))return a;a&&"function"===typeof a.toObject&&(a=a.toObject());return a&&"function"===typeof a.toJSON?ko.toJS(a.toJSON()):ko.toJS(a)};b.stringify=function(a){a&&"function"===typeof a.toObject&&(a=a.toObject());a=JSON.stringify(a)||"";a=a.replace(/\u2028/g,"\\n").replace(/\u2029/g,"");return a=a.replace(/</g,"\\u003c").replace(/>/g,"\\u003e")};b.equalish=function(a,b){return a===b||!("object"!==
typeof a&&"function"!==typeof a||"object"!==typeof b&&"function"!==typeof b)&&null!==a&&null!==b&&("function"===typeof a.equals&&a.equals(b)||a.valueOf()===b.valueOf())?!0:!1};global.ISODate=b.ISODate=global.ISODate||function(a){return new Date(a)};b.inherit=function(a,c){function d(){this.constructor=a}for(var h in c)b.has.call(c,h)&&(a[h]=c[h]);d.prototype=c.prototype;a.prototype=new d;return a};b.reverseIndex=function(a,b){var c={};_.each(a,function(a,d){c[String(a[b])]=d});return c};b.makeRandomAccessKey=
function(a,c){a=a||6;for(var d="",h=c?"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ":"23456789abcdefghjkmnpqrstuvwxyz";d.length<a;)d+=h.charAt(Math.floor(Math.random()*h.length));return b.stringCensor(d,c)};b.stringCensor=function(a,c){if(root.server){var d=require("../../../../assets/js/utils/bad-words"),d=RegExp(d.join("|"),"gi");return a.replace(d,function(a){return b.makeRandomAccessKey(a.length,c)})}return a};b.makeFullName=function(a,b){a=(a||"").trim();b=(b||"").trim();return(a+
" "+b).trim()};b.fullNameToSplitNames=function(a){a=String(a);if(-1===a.indexOf(" ")){var b=a.replace(/([A-Z])/g," $1").trim(),c=b.split(" ");b!==a&&2<=c.length&&4>=c.length&&2<=_.first(c).length&&2<=_.last(c).length&&(a=c[0]+" "+c.slice(1).join(""))}b=a.split(" ");a=b[0];c=a.toLowerCase().replace(".","");3<=b.length&&("mr"===c||"ms"===c||"mrs"===c)&&(b=b.slice(1),a=b[0]);b=b.slice(1).join(" ");return{firstName:a,lastName:b}};b.getTimeUnitsFromSeconds=function(a){var b={hours:0,minutes:0,seconds:0,
ms:0};a=Math.round(1E3*a)/1E3;var c=Math.floor(a);b.ms=Math.round(1E3*(a-c));3600<=c&&(b.hours=Math.floor(c/3600),c-=3600*b.hours);60<=c&&(b.minutes=Math.floor(c/60),c-=60*b.minutes);b.seconds=c;return b};b.secondsToTimestamp=function(a,c){if(isNaN(a))return a+" - Error calculating";var d=b.getTimeUnitsFromSeconds(a),h=c?d.seconds:Math.round(d.seconds+d.ms/1E3);60<=h&&(h=0,d.minutes++,60<=d.minutes&&(d.minutes=0,d.hours++));h=0===d.hours?b.zeroPad(d.minutes,2)+":"+b.zeroPad(h,2):b.zeroPad(d.hours,
2)+":"+b.zeroPad(d.minutes,2)+":"+b.zeroPad(h,2);c&&(h+="."+b.zeroPad(d.ms,3));return h};b.timestampToSeconds=function(a){a=a.trim();if(!a)return 0;a=a.split(":").reverse();var b=0;if(1>a.length||3<a.length)return 0;for(var c=0,c=0;c<a.length;c++){var d=parseFloat(a[c],10);isNaN(d)&&(d=0);b+=d*Math.pow(60,c)}return b};b.secondsToDurationString=function(a,c){if(isNaN(a))return a+" - Error calculating";var d=b.getTimeUnitsFromSeconds(a),h="",k="";c&&(k+='<var count pluralize="'+d.seconds+'">');k+=d.seconds;
c&&(k+="</var>");k+=b.formatPlural(d.seconds," second");if(60>a)return k;if(3600>a)return c&&(h+='<var count pluralize="'+d.minutes+'">'),h+=d.minutes,c&&(h+="</var>"),h+=b.formatPlural(d.minutes," minute"),0!==d.seconds&&(h+=" and "+k),h;c&&(h+='<var count pluralize="'+d.hours+'">');h+=d.hours;c&&(h+="</var>");h+=b.formatPlural(d.hours," hour");0!==d.minutes&&(h+=" and ",c&&(h+='<var count pluralize="'+d.minutes+'">'),h+=d.minutes,c&&(h+="</var>"),h+=b.formatPlural(d.minutes," minute"));return h};
b.parseYouTubeURL=function(a){return(a=/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|watch\?.*&v=)([^#\&\?]*).*/i.exec(a))&&a[1]&&11===a[1].length?a[1]:null};b.parseVimeoURL=function(a){return(a=/.*(?:vimeo.com\/(?:[^\/]+\/review\/)?)(\d{1,9})/i.exec(a))&&a[1]?a[1]:null};b.userNeedsPostAuth=function(a){return!a||"student"===a.orgPosition||a.orgPosition&&a.orgType&&a.orgName?!1:!0};b.communityRestrictsItem=function(a,b,c){if("string"===typeof c){var d={};d[c]=!0;c=d}var k=b._acl||{read:[],write:[]},
m=[];_.each(c,function(a,b){a&&m.push(k["_communityRestrictions_"+b])});return _(m).some(function(b){return b?a?String(b.communityId)===String(ko.unwrap(a.primaryCommunity))?!1:b.membersOnly?!0:!_(ZAP.util.cleanArray(ko.unwrap(a.communities))).any(function(a){return a.enabled&&String(a.communityId)===String(b.communityId)}):!0:!1})};var c=function(a,c){if(!c)return{};var d=c._acl||{},h={read:!1,write:!1,owner:!1},k=function(b){return a?_.some(a.groups,function(a){return String(b.groupId)===String(a.groupId)&&
_.contains(b.role,a.role)}):!1},m=function(b){if(!d["_communityRestrictions_"+b])return!0;if(!a)return!1;var c=d["_communityRestrictions_"+b],e=!1;a.primaryCommunity&&(e=String(c.communityId)===String(a.primaryCommunity));a.communities&&!c.membersOnly&&a.communities.forEach(function(a){a.enabled&&(e=e||String(c.communityId)===String(a.communityId))});return e},l=function(d){return function(g){var f=!1;if("public"===g&&(a||c.open))f=!0;else if("admin"===g&&a&&a.isAdmin)f=!0;else{var h;h=a?String(g)===
String(a._id):!1;h?f=!0:g.groupId?f=k(g,d):g.communityId&&(f=a&&String(a.primaryCommunity)===String(g.communityId)?"admin"===g.role?!!a.isCommunityAdmin:g.role?g.role===a.role:!0:!1)}return f=f&&!b.communityRestrictsItem(a,c,d)}};_.each(d,function(a,b){h[b]=_.some(a,l(b))});c.owner&&a&&String(c.owner)===String(a._id)&&(h.owner=m("write"));return h};b.checkPermission=function(a,b,d){b||(b=[]);"string"===typeof b&&(b=[b]);for(var h=a?a.plan:"anon",k,m=0;m<b.length;m++)switch(b[m]){case "any":return!0;
case "viewer":if("anon"!==h)return!0;break;case "read-item":k=c(a,d);if(k.owner||k.read)return!0;break;case "write-item":k=c(a,d);if(k.owner||k.write)return!0;break;case "read-write-item":k=c(a,d);if(k.owner||k.read&&k.write)return!0;break;case "own-item":k=c(a,d);if(k.owner)return!0;break;default:if(h===b[m])return!0}return!1};b.checkAmplifyStorage=function(){return amplify?!!(amplify.store.localStorage||amplify.store.sessionStorage||amplify.store.globalStorage||amplify.store.userData):!1};b.track=
function(){return function(){}}();b.belongsToSameUser=function(a,b){var c=!b.user&&b.name===a.name&&b.fingerprint===a.fingerprint;return b.user&&b.user===a.user||c};b.getQueryVar=function(a){return decodeURI(window.location.search.replace(RegExp("^(?:.*[&\\?]"+encodeURI(a).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))};b.addVimeoSecurePrefix=function(a){return/vimeo.*\.com\//.test(a)&&!/(https)?\/\/i\./.test(a)?a.replace("//","//secure-"):a};b.calculateDrawingScale=function(a,b){return b?
(a.width/b.width+a.height/b.height)/2||1:1};b.findDeep=function(a,b){for(var c=b.split("."),d=0,k=c.length;d<k;++d){var m=c[d];if(m in a)a=a[m];else return}return a};b.round5=function(a){return 5*parseInt(a/5)};b.integerWithFloor=function(a,b){b=b?b:0;a=parseInt(a);return isNaN(a)?b:Math.max(a,b)};return ZAP.util=b});
module.exports=require("./ZAP")(function(){var b=ZAP.subscriptions||{};b.userSubscriptionStart=function(b,c){if(!b||!b.subscriptions)return!1;var a=new Date;b.subscriptions.forEach(function(b){if(!c||b.paid)b=new Date(b.start),b<a&&(a=b)});return a};b.getCurrentSubscriptionType=function(b){return(b=_.find(b.subscriptions,function(b){return b.paid&&!b.trial&&new Date(b.start)<new Date&&new Date(b.end)>new Date}))?b.type:null};b.userIsTeamManager=function(b){return b&&b.subscriptions?!!_.find(b.subscriptions,
function(b){return b.paid&&new Date(b.start)<new Date&&new Date(b.end)>new Date&&b.isTeamManager}):!1};b.userIsActiveTeamManager=function(b){return b&&b.subscriptions?!!_.find(b.subscriptions,function(b){return b.paid&&new Date(b.start)<new Date&&new Date(b.end)>new Date&&b.isTeamManager&&b.autorenew}):!1};b.userIsTeamMember=function(b){return b&&b.subscriptions?!!_.find(b.subscriptions,function(b){return b.paid&&new Date(b.start)<new Date&&new Date(b.end)>new Date&&b.teamManager}):!1};b.userHasActivePaidSubscription=
function(b){return b&&b.subscriptions?!!_.find(b.subscriptions,function(b){return b.paid&&b.autorenew&&!b.trial&&new Date(b.start)<new Date&&new Date(b.end)>new Date&&!b.isTeamManager}):!1};b.userHasCurrentPaidSubscription=function(b){return b&&b.subscriptions?!!_.find(b.subscriptions,function(b){return b.paid&&!b.trial&&new Date(b.start)<new Date&&new Date(b.end)>new Date&&!b.isTeamManager}):!1};b.userHasCurrentSubscription=function(b){return b&&b.subscriptions?!!_.find(b.subscriptions,function(b){return!b.trial&&
new Date(b.start)<new Date&&new Date(b.end)>new Date&&!b.isTeamManager}):!1};b.userHasCurrentCancelledSubscription=function(b){return b&&b.subscriptions?!!_.find(b.subscriptions,function(b){return b.paid&&!b.autorenew&&!b.trial&&new Date(b.start)<new Date&&new Date(b.end)>new Date}):!1};b.userHasPastSubscription=function(b){return b&&b.subscriptions?!!_.find(b.subscriptions,function(b){return b.paid&&!b.trial&&new Date(b.end)<new Date}):!1};b.calculateCreditForRemainingSubscription=function(b){if(!b||
!b.subscriptions)return!1;b=_.find(b.subscriptions,function(a){return a.paid&&!a.trial&&new Date(a.start)<new Date&&new Date(a.end)>new Date&&!a.isTeamManager&&a.cost});if(!b)return{amount:0};var c=moment.duration(moment(b.end).diff(new Date)).as("days");return{amount:parseInt(c*b.cost/365),stripeSubId:b.stripeSubId}};b.userLatestSubscriptionExpiration=function(b,c){if(!b||!b.subscriptions||0===b.subscriptions.length)return!1;var a=new Date(0);b.subscriptions.forEach(function(b){if(!c||b.paid)b=new Date(b.end),
b>a&&(a=b)});return a};b.userHasTakenTrial=function(b){return b&&b.subscriptions?!!_.find(b.subscriptions,function(b){return b.trial}):!1};b.userTrialIsInProgress=function(b){if(!b||!b.subscriptions)return!1;var c=!!_.find(b.subscriptions,function(a){return a.trial&&new Date(a.start)<new Date&&new Date(a.end)>new Date});b=_.find(b.subscriptions,function(a){return!a.trial&&new Date(a.end)>new Date})||b.primaryCommunity;return c&&!b};b.userTrialExpiration=function(b){if(!b||!b.subscriptions)return null;
var c=new Date;b.subscriptions.forEach(function(a){a.trial&&new Date(a.end)>c&&(c=new Date(a.end))});return c};b.userHasCurrentDelinquentSubscription=function(b){return b&&b.subscriptions?!!_.find(b.subscriptions,function(b){return b.paid&&b.delinquent&&new Date(b.start)<new Date&&new Date(b.end)>new Date}):!1};b.getUploadQuotas=function(){return{basic:0,pro:7200,proTrial:1800}};b.maxSecondsUpload=function(b,c){if(!b)return 0;var a=0;ZAP.subscriptions.activePlanForUser(b);a=ZAP.util.findDeep(c,"upload.timeLimit");
ZAP.subscriptions.userTrialIsInProgress(b)&&(a=ZAP.subscriptions.getUploadQuotas().proTrial);return a+(b.maxSecondsUpload||0)};b.secondsUploadRemaining=function(b,c){if(!b)return 0;var a=b.community;if(b.isAdmin)return 151200;if(a){var e=["instructor","instructional-designer","admin","other"],g=b.isCommunityAdmin,e=g||_.contains(e,b.orgPosition);if("Admins"===a.uploadPermissions&&!g||"Instructors"===a.uploadPermissions&&!e)return 0}if(a)return e=g=0,g=Math.max((a.maxSecondsUpload||0)-(a.secondsUploaded||
0),0),e=Math.max((a.maxUploadPerUser||a.maxSecondsUpload)-(b.secondsUploadedInCommunity||0),0),Math.min(g,e);g=a=0;a=ZAP.subscriptions.maxSecondsUpload(b,c);g=ZAP.subscriptions.userIsTeamMember(b)?b.team.secondsUploaded:b.secondsUploaded;return Math.max(a-(g||0),0)};b.uploadRemainingString=function(b,c){var a=ZAP.subscriptions.secondsUploadRemaining(b,c);return isNaN(a)?a+" - Error calculating":5>a?"No":ZAP.util.secondsToDurationString(a,!0)};b.isTestUser=function(b){return b?b.isTest||b.username&&
0===b.username.indexOf("test")||b.email&&0===b.email.indexOf("test"):!0};b.activePlanForUser=function(b){return b?b.community&&b.community.active?"viewer"!==b.role||b.isCommunityAdmin?b.community.orgType?b.community.orgType+".site":"pro":"viewer":(b=_.find(b.subscriptions,function(b){return new Date(b.start)<=new Date&&(new Date(b.end)>=new Date||new Date(b.end)>=new Date("June 29th, 2016"))&&!b.isTeamManager}))?b.type||"pro":"basic":""};b.checkAccount=function(b,c){var a="k12.individual k12.team highered.individual highered.team business.individual business.team".split(" ");
if(!b)return!1;var e=["viewer","basic","pro","site"],g=ZAP.subscriptions.activePlanForUser(b);_.contains(["k12.site","highered.site","business.site","other.site"],g)?g="site":_.contains(a,g)&&(g="pro");return e.indexOf(g)>=e.indexOf(c)};b.hasRestriction=function(b,c){return b?!!ZAP.util.findDeep(b,c):!1};b.userInCommunity=function(b,c,a){return b?String(b.primaryCommunity)===String(c)?!0:a?ZAP.util.cleanArray(b.communities).some(function(a){return a.enabled&&String(a.communityId)===String(c)}):!1:
!1};b.usersCurrentCost=function(b){return b&&b.subscriptions?_.find(b.subscriptions,function(b){return b.paid&&new Date(b.start)<new Date&&new Date(b.end)>new Date}).cost:0};return ZAP.subscriptions=b});
module.exports=require("ZAP")(function(){ZAP.ZaptionModel=function d(c,a,e,g){function h(a,e){a=a||{};e=e||{};var k,f;a instanceof h?k=a:(k=this,f=!0);k._isConstructing=!0;k._parent=ko.observable(e.parent||null);k._synced=!!e.preSynced||!1;k._instanceType=c;k._collectionName=g;k._id=ZAP.util.toID(a._id||a.id||new ObjectId);k._acl=a._acl||{read:[],write:[]};root.client&&(k._id=String(k._id));k._propName=e.propName||null;k._temporary=e.temporary||!1;k.unsavedChanges=ko.observableArray();k.pendingChanges=
ko.observableArray();k.recentSavedChanges=ko.observableArray();k._hasUnsavedChanges=ko.computed(function(){return 0<k.pendingChanges().length||0<k.unsavedChanges().length});k._lastSyncError=ko.observable(null);k._syncRetryPeriod=ko.observable(5E3);k._syncCallbacks=[];k._afterSync=function(a){k._syncCallbacks.push(a);ZAP.sync.saveChangesImmediately(k)};f&&(d.construct(h.schema,k,a),h._constructor&&h._constructor.call(k,a,h.schema),ZAP.util.defineHook(k._instanceType+".construct",function(){})(k));
delete k._isConstructing;for(var m in h.schema)if(k.hasOwnProperty(m)&&"function"===typeof k[m])k[m](k[m](),!0);return k}var k=e?e.schema||null:null;g=g||c.slice(0,1).toLowerCase()+c.slice(1)+"s";h._modelName=c;h._collectionName=g;h.schema=_.extend(a||{},k||{});h.methods=h.prototype=Object.create(e&&e.prototype||ZAP.ZaptionModel.prototype);h.extensions=[];h.prototype.constructor=h;h.pre=function(a,d){c&&ZAP.util.hook(c+"."+a,function(){var a=Array.prototype.slice.call(arguments),c=a[0],e=a[1];a[1]=
function(){c.apply(e,[e].concat(a.slice(2)))};return d.apply(e,a.slice(1))})};h.post=function(a,d){c&&ZAP.util.postHook(c+"."+a,function(){var a=Array.prototype.slice.call(arguments);return d.apply(a[0],a.slice(1))},1)};if(root.server){var m=require("async");h.preSave=function(){var a=[];h._aboutToSave=function(c,d){return m.reduce(a,c,function(a,c,d){c(a,d)},d)};return function(c){a.push(c)}}();h.postSave=function(){var a=[];h._saved=function(c,d){a.forEach(function(a){a(c,d)})};return function(c){a.push(c)}}()}h.methods.toJSON=
function(){var a={},c=ZAP[this._instanceType];if(!c)return console.log("Err: No Model toJSON!");_.each(this,function(d,e){"_acl"===e?a._acl=d:"_id"===e||"id"===e?a._id=d:c.schema[e]&&"none"!==c.schema[e].sync&&(ko.isObservable(d)&&(d=ko.utils.unwrapObservable(d)),_.isFunction(d)||(_.isArray(d)?(a[e]=[],_.each(d,function(c){!ZAP.util.isBasicValue(c)&&c.toJSON&&(c=c.toJSON());a[e].push(c)})):!ZAP.util.isBasicValue(d)&&d.toJSON?a[e]=d.toJSON():a[e]=d))});return a};h.methods._super=function(){return e};
h.registerExtension=function(a,c,d,e){if(_.has(h.extensions,a))throw Error('You have already registered an extension called "'+a+'" for model "'+h._modelName+'"');h.extensions[a]={name:a,definition:c,dependencies:d,hook:e}};h.loadExtensions=function(){var a=Array.prototype.slice.call(arguments),c;_.each(a,function(a){var d={};c=h.extensions[a];if(!c)throw Error('You are trying to load extension "'+a+'" for model "'+h._modelName+"\", but it doesn't exist");_.isArray(c.dependencies)&&h.loadExtensions.apply(this,
c.dependencies);if("function"!==typeof c.definition||c.hook)if("function"===typeof c.definition&&c.hook)h.pre(c.hook,c.definition);else if("object"===typeof c.definition)d[c.name]=c.definition,$.extend(h.schema,d);else throw Error('Cannot load extension "'+a+'" for model "'+h._modelName+'" because it is of unsupported type '+typeof c.definition);else h.methods[c.name]=c.definition})};h._super=function(){return e};h.statics={};return h};ZAP.ObjectId=ObjectId;ko.extenders.useNullInitial=!1;require("./construct")});
module.exports=require("ZAP")(function(){var b=function(a,b,c,d){b&&_.isFunction(b)&&b!==Boolean&&b!==Number&&b!==String&&b!==Array&&b!==Object&&void 0!==a&&null!==a&&(b===ObjectId?root.server?a=ZAP.util.toID(a):root.client&&(a=String(a)):b._modelName?a instanceof b?a._parent()||(a._parent(c),a._temporary=c._temporary,a._propName=d):a=new b(a,{parent:c,temporary:c._temporary,propName:d}):b._modelName||a instanceof b||(a=new b(a)));return a},d=function(a,c,g,h){h=h||{};_.has(h,"useNullInitial")||(h.useNullInitial=
ko.extenders.useNullInitial);_.each(a,function(a,d){if(_.isFunction(a)||_.isArray(a))a={type:a};if(_.isArray(a.type)){var l=a.type[0],n=[];l||(console.log("Err: No schema type for array"),l=function(a){return a});c[d]=ko.observableArray();_.each(g[d],function(a){n.push(b(a,l,c,d))});c[d](n);l._modelName?(c[d].subscribe(function(a){this.previous=a.slice(0)},c[d],"beforeChange",!1),c[d].subscribe(function(f){if(!c._isConstructing){var g=ko.utils.compareArrays(this.previous,f),h;_.each(g,function(g){if("added"===
g.status||"deleted"===g.status){var n=function(){"deleted"===g.status&&g.value._parent()===c&&g.value._propName===d?("none"!==a.sync&&ZAP.sync.addUnsavedChange(g.value,"pull",g.value._id),g.value._parent(void 0),g.value._synced=!1,g.value._propName=void 0):"added"===g.status&&(g.value=b(g.value,l,c,d,!1),f[g.index]._instanceType!==g.value._instanceType&&(h=!0),f[g.index]=g.value,g.value._parent(g.value._parent()||c),g.value._propName=g.value._propName||d,"none"!==a.sync&&g.value._parent()===c&&g.value._propName===
d&&ZAP.sync.addUnsavedChange(g.value,"push",g.value))};root.client?ZAP.util.defineHook(c._instanceType+".update."+d,function(){n()})(c,window.currentUser):n()}});if(h)c[d](f);this.previous=f.slice(0)}},c[d],void 0,!1)):(c[d].subscribe(function(a){this.previous=a.slice(0)},c[d],"beforeChange",!1),c[d].subscribe(function(f){var g=!1;f=f.map(function(a){var f=b(a,l,c,d);a!==f&&(g=!0);return f});if(!ZAP.util.arraysEqual(f,this.previous)){if(g)c[d](f);this.previous=f.slice();if("none"!==a.sync){var h=
{};h[d]=f;ZAP.sync.addUnsavedChange(c,"setArray",h)}}},c[d]))}else{var p=a.type,f=g[d];if(void 0===f||null===f)f=_.isFunction(a["default"])?a["default"]():a["default"];f=b(f,p,c,d);f=h.useNullInitial?"":f;c[d]=ko.observable(f).extend({zap:{obj:c,scheme:a,prop:d}});c[d].err=ko.observable()}});if(h.useNullInitial)return d(a,c,g,{useNullInitial:!1})},c=ZAP.util;ko.extenders.zap=function(a,c){var g=c.scheme,h=c.obj,k=c.prop,m=_.debounce(function(){var b={};b[k]=a();ZAP.sync.addUnsavedChange(h,"update",
b)},150),l=ko.computed({read:function(){var b;b=g.compute?g.compute.call(h):a();return g.get?g.get.call(h,b):b},write:function(c,e){if(g.compute)return g.set&&(c=g.set.call(h,c)),a;var f=a(),l;if(void 0===f||null===f)f=_.isFunction(g["default"])?g["default"]():g["default"];if(void 0===c||null===c)c=_.isFunction(g["default"])?g["default"]():g["default"];if(ZAP.util.equalish(c,f)&&!e)return a;l=d.schematics(a,c,f,g,h,k);c=l.val;g.set&&!ZAP.util.equalish(c,f)&&(c=g.set.call(h,c));c=b(c,g.type,h,k);if(!h._isConstructing){if(void 0!==
l.notify)return a.notifySubscribers(l.notify);if(!ZAP.util.equalish(c,f)){var r=function(){var b=(void 0===f||null===f||!1===f)&&(void 0===c||null===c||!1===c);"none"===g.sync||b||m();l.diff&&a.notifySubscribers(c)};root.client?ZAP.util.defineHook(h._instanceType+".update."+k,function(){r()})(h,window.currentUser):r()}}return a(c)},deferEvaluation:ko.extenders.useNullInitial?!1:!0});l(a());return l};d.schematics=function(a,b,d,h,k,m){var l,n,p;if(void 0!==b&&null!==b)if(h.type===Boolean)b=b?!0:!1;
else if(h.type===Number)b=parseFloat(+b),isNaN(b)&&(l=c.definedOr(l,d)),_.has(h,"max")&&h.max<b&&(l=c.definedOr(l,d)),_.has(h,"min")&&b<h.min&&(l=c.definedOr(l,d));else if(h.type===String||h.type===Array){if(h.type===String){var f=b=String(b);h.trim&&(b=b.replace(/^\s+/i,""),b=b.replace(/\s+$/i,""),f!==b&&(n=!0));h.lowercase&&(b=b.toLowerCase(),f!==b&&(n=!0));h.uppercase&&(b=b.toUpperCase(),f!==b&&(n=!0));h.match&&(h.match.test(b)||(l=c.definedOr(l,d)))}h.type===Array&&(_.isArray(b)||(b=_.isString(b)?
b.split(/\s*\,\s*/):[b]));_.has(h,"maxLen")&&h.maxLen<b.length&&(l=c.definedOr(l,d));_.has(h,"minLen")&&b.length<h.minLen&&(l=c.definedOr(l,d))}else h.type===ObjectId?root.server?(b=ZAP.util.toID(b))||(b=l=c.definedOr(l,d)):root.client&&(b=String(b),ZAP.util.isID(b)||(b=l=c.definedOr(l,d))):_.isFunction(h.type)&&h.type!==Object&&(b instanceof h.type||(b=new h.type(b)));void 0!==b&&null!==b||!h.required?void 0!==b&&null!==b&&(h["enum"]&&_.every(h["enum"],function(a){return a!==b})&&(l=c.definedOr(l,
d)),h.validate&&(_.isArray(h.validate)?_.every(h.validate,function(a){if(!_.isFunction(a))return!0;p=a.call(k,b);return!0!==p?!1:!0}):p=h.validate.call(k,b),!0!==p?(console.log(p),l=c.definedOr(l,d)):p=!1),h.immutable&&(a=a(),a!==h["default"]&&void 0!==a&&(l=c.definedOr(l,d)))):l=c.definedOr(l,d);!p&&k&&k[m]&&k[m].err&&k[m].err("");return{val:b,notify:l,diff:n}};return ZAP.ZaptionModel.construct=d});
module.exports=require("ZAP")(function(){ZAP.ElementAction=new ZAP.ZaptionModel("ElementAction",{criteria:Object,feedbackType:String,feedbackText:String,jumpType:String,jumpTarget:ZAP.ObjectId,jumpTargetTime:Number,isFallback:Boolean});ZAP.ElementAction.methods.appliesTo=function(){var b={"@eq":function(a,b){return String(a).toLowerCase()===String(b).toLowerCase()},"@ne":function(a,b){return String(a).toLowerCase()!==String(b).toLowerCase()},"@substr":function(a,b){return-1!==String(a).toLowerCase().indexOf(String(b).toLowerCase())},
"@nsubstr":function(a,b){return-1===String(a).toLowerCase().indexOf(String(b).toLowerCase())},"@any":function(a){return""!==String(a)},"@gt":function(a,b){return parseFloat(a)>parseFloat(b)},"@lt":function(a,b){return parseFloat(a)<parseFloat(b)},"@gte":function(a,b){return parseFloat(a)>=parseFloat(b)},"@lte":function(a,b){return parseFloat(a)<=parseFloat(b)},"@in":function(a,b){return _.some(b,function(b){return String(a)===String(b)})},"@nin":function(a,b){return!_.some(b,function(b){return String(a)===
String(b)})},"@contain":function(a,b){return _.some(a,function(a){return String(b)===String(a)})},"@ncontain":function(a,b){return!_.some(a,function(a){return String(b)===String(a)})}},d=function(a,c,d){for(var h in d)if(d.hasOwnProperty(h)&&!b[h](a[c],d[h]))return!1;return!0},c=function e(c,h,k){k||(k=c,c="@and");var m,l;for(l in k)if(k.hasOwnProperty(l)){if("@and"===l){if(!k[l].length)throw Error("Wrong usage of criteria in appliesTo");"undefined"===typeof m&&(m=!0);_.each(k[l],function(b){m=m&&
e(l,h,b)})}else if("@or"===l){if(!k[l].length)throw Error("Wrong usage of criteria in appliesTo");"undefined"===typeof m&&(m=!1);_.each(k[l],function(b){m=m||e(l,h,b)})}else m="object"===typeof k[l]?d(h,l,k[l]):b["@eq"](h[l],k[l]);if(!m&&"@and"===c)return!1;if(m&&"@or"===c)return!0}return"@and"===c?!0:!1};return function(b){return c("@and",b||{},this.criteria())}}();return ZAP.ElementAction});
module.exports=require("ZAP")(function(){ZAP.ElementAction.methods.hasBehavior=function(){var b=this.feedbackType()||this.feedbackText(),d=this.jumpType()&&this.jumpTarget();return b||d};ZAP.ElementAction.methods.getFeedbackForResponse=function(b,d){if(!this.feedbackType()&&!this.feedbackText())return null;var c=(this.feedbackType()||"None")+"FeedbackSlide",a="",e="",g=[];if("CheckBoxes"===b.elementType()){var c="CheckboxesFeedbackSlide",h=_.filter(b.actions(),function(a){return"Either"===a.feedbackType()}),
k=_.find(b.actions(),function(a){return"Correct"===a.feedbackType()});_.each(b.choices(),function(a){var c=a._id;a=_.contains(d?d.checked:[],c);var e=2;k&&_.each(k.criteria()["@and"],function(a){a.checked["@contain"]===c&&(e=1);a.checked["@ncontain"]===c&&(e=0)});var p;p=0===e?"incorrect-icon-checkboxes":"correct-icon-checkboxes";var f=_.find(h,function(a){return a.criteria().choice===c});g.push({choiceText:_.find(b.choices(),function(a){return a._id===c}).text(),feedbackIcon:p,feedbackText:f?f.feedbackText():
"",checked:a})})}"Correct"===this.feedbackType()&&(a="ico-correct-slide slide-icon",e="Correct");"Incorrect"===this.feedbackType()&&(a="ico-incorrect-slide slide-icon",e="Incorrect");return{tpl:c,data:{feedbackText:this.feedbackText()||"",prompt:b.prompt(),feedbacks:g,resultTitle:e,resultIcon:a,feedbackType:this.feedbackType()||"None",points:b.points()}}};ZAP.ElementAction.methods.execute=function(b,d,c){var a=this,e=function h(){d.off("play",h);a.jumpType()&&a.jumpTarget()?"Clip"===a.jumpType()?
d.goToPosition(a.jumpTarget(),a.jumpTargetTime()):"Element"===a.jumpType()&&d.goToElement(a.jumpTarget()):d.dequeueElement(b);d.playUnlessBlocked()};a.feedbackType()||a.feedbackText()?(c=a.getFeedbackForResponse(b,c),dust.render(c.tpl,c.data,function(a,c){var m=b.options().overlay,l=ko.contextFor(m[0]);b.options().overlay=$(c);"MainBox"===b.space()&&(b.options().overlay.find("button").addClass("light"),b.options().overlay.on("click",function(a){a.stopPropagation()}));m.replaceWith(b.options().overlay);
ko.applyBindings(l,b.options().overlay[0]);m=b.options().overlay.find(".correctness-indicator");m.fadeIn("fast");m.siblings(".btn-continue").focus();$("#zaptionPlayerStatus").text(m.text()+". "+$(".feedback-text").text()+" Press enter to continue.");d.on("play",e)})):e()};ZAP.ElementAction.schema.maxFeedbackLength={compute:function(){var b=this._parent();return b&&"TourElement"===b._instanceType?"MainBox"===b.space()?450:200:0},sync:"none"}});
module.exports=require("ZAP")(function(){ZAP.ElementResponse=new ZAP.ZaptionModel("ElementResponse",{tour:ZAP.ObjectId,element:ZAP.ObjectId,presentation:ZAP.ObjectId,name:{type:String,"default":"Anonymous"},user:ZAP.ObjectId,fingerprint:{type:String,maxLen:64},ip:String,username:String,email:String,datePosted:{type:Date,"default":Date.now},text:String,number:Number,drawingJSON:String,choice:ZAP.ObjectId,checked:[ZAP.ObjectId],inTime:Number});ZAP.ElementResponse.schema.replies=[ZAP.ElementResponse];
return ZAP.ElementResponse});module.exports=require("ZAP")(function(){ZAP.MultiChoiceChoice=new ZAP.ZaptionModel("MultiChoiceChoice",{text:String});return ZAP.MultiChoiceChoice});
module.exports=require("ZAP")(function(){ZAP.MultiChoiceChoice.schema.hasActionWithBehavior={compute:function(){var b=this;if(!b._parent())return!1;var d=_.find(b._parent().actions(),function(c){return c.criteria()&&c.criteria().choice===b._id});return d&&d.hasBehavior()},sync:"none"};ZAP.MultiChoiceChoice.schema.isCorrectChoice={compute:function(){var b=this;if(!b._parent())return!1;var d=_.find(b._parent().actions(),function(c){return c.criteria().choice===b._id});return d&&d.feedbackType&&"Correct"===
d.feedbackType()},sync:"none"}});
module.exports=require("ZAP")(function(){ZAP.TourElement=new ZAP.ZaptionModel("TourElement",{clip:{type:ZAP.ObjectId,ref:"Clip"},dateCreated:{type:Date,"default":Date.now},elementType:{type:String,"enum":"TextScreen ImageScreen Drawing Video TextResponse NumResponse DrawnResponse Discussion CheckBoxes MultipleChoice Replay Transcript Group Jump".split(" "),required:!0},elementSubtype:{type:String,"enum":["Thumbs"]},space:{type:String,"enum":["Sidebar","MainBox"]},inTime:{type:Number,min:0},outTime:{type:Number,
min:0},presentationId:{type:String},stopVideo:{type:Boolean,"default":!1},removeAfter:{type:Number},points:{type:Number,"default":1,set:ZAP.util.integerWithFloor},actions:[ZAP.ElementAction],text:{type:String,"default":""},backgroundColor:{type:String,"enum":["black","semitransparent","transparent"],"default":"semitransparent"},imageURL:{type:String},imageDesc:{type:String},imageLeft:{type:Number,"default":0},imageTop:{type:Number,"default":0},imageWidth:{type:Number},imageHeight:{type:Number},drawingJSON:{type:String},
videoType:String,videoLocation:String,videoDuration:Number,videoInTime:Number,videoOutTime:Number,videoArchivePartner:String,prompt:{type:String,"default":""},name:{type:String},hideCommentsUntil:{type:Date},hideTimestamps:{type:Boolean},choices:[ZAP.MultiChoiceChoice],pauseAtEnd:Boolean,transcript:{type:ZAP.ObjectId,ref:"Transcript"},children:[ZAP.TourElement],targetType:{type:String},target:{type:ZAP.ObjectId},targetTime:{type:Number}});ZAP.TourElement.schema.children=[ZAP.TourElement];return ZAP.TourElement});
module.exports=require("ZAP")(function(){amplify.request.define("postDiscussionComment","ajax",{url:"/ajax/tours/{tourId}/elements/{elId}/discussion/comments",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("deleteDiscussionComment","ajax",{url:"/ajax/tours/{tourId}/elements/{elId}/discussion/comments/{commentId}",dataType:"json",type:"DELETE",decoder:"zsend"});ZAP.TourElement.schema.active={type:Boolean,sync:"none"};ZAP.TourElement.schema.options={type:Object,sync:"none"};ZAP.TourElement.schema.activeChild=
{type:Object,sync:"none"};ZAP.TourElement.schema.comments={type:[ZAP.ElementResponse],sync:"none"};ZAP.TourElement.schema.response={type:Object,sync:"none"};ZAP.TourElement.schema.responses={type:[Object],sync:"none"};ZAP.TourElement.schema.initialResponse={type:Object,"default":"",sync:"none"};ZAP.TourElement.schema.initialResponses={type:[Object],"default":"",sync:"none"};ZAP.TourElement.schema.presentationResponses={type:[Object],sync:"none"};ZAP.TourElement.schema.responseIsDirty={compute:function(){return"CheckBoxes"===
this.elementType()?this.initialResponses().join(",")!==this.responses().join(","):"DrawnResponse"===this.elementType()?this.initialResponse()!==this.response()&&(!window.fabric||this.response()!==fabric.Canvas.EMPTY_JSON):String(this.initialResponse())!==String(this.response()||"")},sync:"none"};ZAP.TourElement.methods.calculateImageLeft=function(){if("ImageScreen"!==this.elementType())return null;if(!this.imageLeft())return 0;var b="MainBox"===this.space()?6.19:3.16;return this.imageLeft()/b};ZAP.TourElement.methods.calculateImageTop=
function(){return"ImageScreen"!==this.elementType()?null:this.imageTop()?this.imageTop()/3.48:0};ZAP.TourElement.methods.calculateImageWidth=function(){if("ImageScreen"!==this.elementType())return null;var b="MainBox"===this.space()?6.19:3.16;return this.imageWidth()/b};ZAP.TourElement.methods.calculateImageHeight=function(){return"ImageScreen"!==this.elementType()?null:this.imageHeight()/3.48};ZAP.TourElement.methods.saveResponseLocally=function(b,d){var c="CheckBoxes"===this.elementType()?this.responses():
this.response();c&&amplify.store("ZPElementResponse/"+this._id+"/"+b+"/"+d,{response:c,dateStored:Date.now()},{expires:15552E6})};ZAP.TourElement.methods.canContinuePastResponse=function(b,d){var c=this;if("view"!==b.playerMode||!c.isResponseElement()||"Discussion"===c.elementType())return d(!0);var a=b.viewModel.tour().responsesRequired(),e=c.responseIsDirty(),g=!c.response()&&!c.responses().length,h=c.initialResponse()||c.initialResponses().length;if(!e&&!g)return d(!0);if(a&&!h)return ZAP.showAlert("You must submit a response to continue."),
d(!1);a={confirmText:"Yes",confirmAction:function(){"CheckBoxes"===c.elementType()?c.responses(c.initialResponses().slice()):c.response(c.initialResponse()||"");return d(!0,!0)},cancelAction:function(){return d(!1,!0)}};a.prompt=h?"You changed your response but you didn't submit it. Are you sure you want to discard your new response?":"You're about to continue playing without submitting your response. Are you sure?";ZAP.showConfirmation(a);b.videoPause()};ZAP.TourElement.methods.restoreResponseFromLocal=
function(b,d){for(var c=this;"Tour"!==c._instanceType&&c._parent();)c=c._parent();if("Tour"===c._instanceType){var a=amplify.store("ZPElementResponse/"+this._id+"/"+b+"/"+d),c=a&&a.dateStored>c.dateUpdated().getTime()?a.response:"";"CheckBoxes"===this.elementType()?(this.responses(c||[]),this.initialResponses((c||[]).slice())):(this.response(c),this.initialResponse(c))}};ZAP.TourElement.schema.behavior={compute:function(){return this.stopVideo()?"Stop":"Continue"},sync:"none"};ZAP.TourElement.schema.duration=
{compute:function(){return this.stopVideo()?0.01:this.outTime()-this.inTime()},sync:"none"};ZAP.TourElement.schema.effectiveOutTime={compute:function(){return this.inTime()+this.duration()},sync:"none"};ZAP.TourElement.schema.isResponseElement={compute:function(){return _("TextResponse NumResponse DrawnResponse CheckBoxes MultipleChoice Discussion".split(" ")).contains(this.elementType())},sync:"none"};ZAP.TourElement.schema.displayType={compute:function(){switch(this.elementType()){case "TextScreen":return"Text Slide";
case "ImageScreen":return"Image Slide";case "Drawing":return"Drawing";case "Video":return"Video";case "TextResponse":return"Open Response";case "Discussion":return"Discussion";case "NumResponse":return"Numerical Response";case "DrawnResponse":return"Drawn Response";case "CheckBoxes":return"Check Boxes";case "MultipleChoice":return"Multiple Choice";case "Replay":return"Replay";case "Transcript":return"Transcript";case "Group":return"Element Group";case "Jump":return"Jump"}},sync:"none"};ZAP.TourElement.schema.displayClass=
{compute:function(){switch(this.elementType()){case "TextScreen":return"text-screen-element";case "ImageScreen":return"image-screen-element";case "Drawing":return"drawing-element";case "Video":return"video-element";case "TextResponse":return"text-response-element";case "Discussion":return"discussion-element";case "NumResponse":return"num-response-element";case "DrawnResponse":return"drawn-response-element";case "CheckBoxes":return"check-box-element";case "MultipleChoice":return"multi-choice-element";
case "Replay":return"replay-element";case "Transcript":return"transcript-element";case "Group":return"group-element";case "Jump":return"jump-element"}},sync:"none"};ZAP.TourElement.schema.activeChildIndex={compute:function(){return this.activeChild()?this.children.indexOf(this.activeChild()):-1},sync:"none"};ZAP.TourElement.schema.childElementStatus={compute:function(){if(this._parent()&&"TourElement"===this._parent()._instanceType&&"Group"===this._parent().elementType()&&0<this._parent().children().length){var b=
_.find(this._parent().children(),function(b){return b.active()}),b=this._parent().children.indexOf(b),d=this._parent().children.indexOf(this);if(b>d)return"finished";if(b===d)return"active";if(b<d)return"unfinished"}else return"Unfinished"},sync:"none"};ZAP.TourElement.schema.filteredChildren={compute:function(){return this._parent()&&"function"===typeof this._parent().elementsFilter&&"function"===typeof this._parent().elementsFilter()?this.children().filter(this._parent().elementsFilter()):this.children()},
sync:"none"};ZAP.TourElement.schema.plainTextPrompt={compute:function(){var b=function(b){b=b.replace(/<br>/g," ").replace(/<\/p><p>/g,"</p> <p>");return S(b).stripTags().decodeHTMLEntities().s};return this.prompt()?b(this.prompt()):this.text()?b(this.text()):this.imageDesc()?this.imageDesc():""},sync:"none"};ZAP.TourElement.schema.backgroundColorCode={compute:function(){if("Sidebar"===this.space()||"Drawing"===this.elementType()||"DrawnResponse"===this.elementType())return"transparent";switch(this.backgroundColor()){case "black":return"#000";
case "semitransparent":return"rgba(0, 0, 0, 0.7)";case "transparent":return"transparent";default:return"rgba(0, 0, 0, 0.7)"}},sync:"none"};ZAP.TourElement.schema.videoClip={compute:function(){return"Video"===this.elementType()&&this.videoLocation()&&this.videoType()?new ZAP.Clip({videoType:this.videoType(),videoLocation:this.videoLocation(),videoDuration:this.videoDuration(),archivePartner:this.videoArchivePartner(),inTime:this.videoInTime()||0,outTime:this.videoOutTime()||this.videoDuration()}):
null},sync:"none"};ZAP.TourElement.methods.sortComments=function(){this.comments().sort(function(b,d){return b.inTime()!==d.inTime()?b.inTime()-d.inTime():b.datePosted().getTime()-d.datePosted().getTime()})};ZAP.TourElement.methods.containsElement=function(b){return"Group"!==this.elementType()?!1:_.contains(this.children(),b)};ZAP.TourElement.methods.addDiscussionComment=function(b,d,c){var a=this,e;if(c){var g=_.find(a.comments(),function(a){return a._id===c});if(!d._id||!_.find(g.replies(),function(a){return a._id===
d._id}))return e=new ZAP.ElementResponse({id:d._id||(new ObjectId).toString(),user:d.user||window.currentUser&&window.currentUser._id||0,datePosted:d.datePosted||new Date,name:d.name||(b?b.viewModel.viewerName():"Anonymous"),text:d.text,presentation:d.presentation,replies:[]},{preSynced:!0,temporary:!0}),ko.tasks.processImmediate(function(){g.replies.push(e)}),e}else if(!d._id||!_.find(a.comments(),function(a){return a._id===d._id}))return e=new ZAP.ElementResponse({id:d._id||(new ObjectId).toString(),
tour:d.tour||b.viewModel.tour()._id,element:a._id,datePosted:d.datePosted||new Date,user:d.user||window.userId||0,name:d.name||(b?b.viewModel.viewerName():"Anonymous"),inTime:"number"===typeof d.inTime?d.inTime:b.currentTime(),text:d.text,presentation:d.presentation,replies:[]},{preSynced:!0,temporary:!0}),ko.tasks.processImmediate(function(){a.comments.push(e)}),e};ZAP.TourElement.methods.deleteDiscussionComment=function(b,d){var c=this;if("Discussion"!==c.elementType()||!b)return!1;for(var a=c._parent();a&&
"Tour"!==a._instanceType;)a=a._parent();var e;b._parent()&&"ElementResponse"===b._parent()._instanceType&&(e=b._parent()._id);d?e?b._parent().replies.remove(b):c.comments.remove(b):amplify.request({resourceId:"deleteDiscussionComment",data:{tourId:a._id,elId:c._id,commentId:b._id,masterCommentId:e},error:function(a){$("#deleteCommentWarning").on("reveal:closed",function(){$(this).remove()});$("#deleteCommentWarning").trigger("reveal:close");ZAP.showAlert(a.message)},success:function(){$("#deleteCommentWarning").on("reveal:closed",
function(){$(this).remove()});$("#deleteCommentWarning").trigger("reveal:close");e?b._parent().replies.remove(b):c.comments.remove(b)}})};ZAP.TourElement.methods.showDeleteCommentConfirmation=function(b,d){$("#deleteCommentWarning").remove();dust.render("tour-comment-delete-warning",{},function(c,a){var e=$(a);$(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||"body").append(e);ko.applyBindings(b.createChildContext(d),e[0]);e.reveal()})};ZAP.TourElement._constructor=
function(){var b=this;b.childElementStatus.deferUpdates=!1;b.duration.deferUpdates=!1;b.comments.subscribe(function(){b.sortComments()});b.sortComments();b.initialResponse(b.response());b.initialResponses(b.responses().slice());var d=function(){var c=b.inTime(),a=b.outTime();0.2>c&&(c=0);a<=c&&(a=c+0.5);b.stopVideo()?a=c+0.2:0.25>b.duration()&&(a=c+0.25);if(b._parent()&&"Tour"===b._parent()._instanceType)for(var d=b._parent().clips(),g=0;g<d.length;g++)if(d[g]._id===b.clip()){c>d[g].duration()&&(c=
d[g].duration()-0.5);a>d[g].duration()&&(a=d[g].duration());break}b.inTime(c);b.outTime(a)};b.stopVideo.subscribe(d);b.space.subscribe(function(c){if("Group"===b.elementType())for(var a=b.children(),d=a.length;d--;)a[d].space(c);b._parent()&&"TourElement"===b._parent()._instanceType&&b._parent().space(c)});b.inTime.subscribe(function(c){d();if("Group"===b.elementType())for(var a=b.children(),e=a.length;e--;)a[e].inTime(c)});b.outTime.subscribe(function(c){d();if("Group"===b.elementType())for(var a=
b.children(),e=a.length;e--;)a[e].outTime(c)});d()}});module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("canFilter",{compute:function(){var b=this.elementType();return _.contains(["TextResponse","NumResponse","Discussion","MultipleChoice","CheckBoxes"],b)},sync:"none"})});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("canGrade",{compute:function(){return this.actions()&&0!==this.actions().length?_.some(this.actions(),function(b){b=b.feedbackType();return"Correct"===b||"Incorrect"===b}):!1},sync:"none"})});module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("clearFilter",function(){this.filter("")},["filter"])});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("clearTimeFilter",function(){this.inTimeFilterStart(void 0);this.inTimeFilterEnd(void 0);this.loadResponses({reset:!0})},["inTimeFilterStart","inTimeFilterEnd","loadResponses"])});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("commentCounts",{compute:function(){if("Discussion"!==this.elementType())return{comments:0,replies:0};var b=0,d=0;this.comments().forEach(function(c){window.currentUser&&window.currentUser._id===c.user()?b++:window.fingerprint&&window.fingerprint===c.fingerprint()&&b++;c.replies().forEach(function(a){window.currentUser&&window.currentUser._id===a.user()?d++:window.fingerprint&&window.fingerprint===a.fingerprint()&&d++})});
return{comments:b,replies:d}},sync:"none"})});module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("correctChoices",{compute:function(){return this.canGrade()?_.flatten(_.filter(this.actions(),function(b){return"Correct"===b.feedbackType()}).map(function(b){return b.criteria()["@and"]?_.filter(b.criteria()["@and"],function(b){if(b.checked)return b.checked["@contain"]}).map(function(b){if(b.checked)return b.checked["@contain"]}):b.criteria().choice})):[]},sync:"none"},["canGrade"])});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("correctResponses",{compute:function(){if(!this.canGrade())return[];var b=this;return _.filter(b.responses(),function(d){return _.contains(b.correctChoices(),d.choice())})},sync:"none"},["canGrade","correctChoices","responses"])});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("incorrectChoices",{compute:function(){return this.canGrade()?_.filter(this.actions(),function(b){return"Incorrect"===b.feedbackType()}).map(function(b){return b.criteria().choice}):[]},sync:"none"},["canGrade"])});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("isCorrect",{compute:function(){if(this.canGrade()){if(!this.response())return!1;var b;"object"===typeof this.response()?b=this.response():("NumResponse"===this.elementType()&&(b={number:this.response()}),"TextResponse"===this.elementType()&&(b={text:this.response()}),"MultipleChoice"===this.elementType()&&(b={choice:this.response()}),"CheckBoxes"===this.elementType()&&(b={checked:this.responses()}));var d=_.find(this.actions(),
function(c){var a=c.feedbackType();return("Correct"===a||"Incorrect"===a)&&c.appliesTo(b)});return d&&"Correct"===d.feedbackType()}},sync:"none"},["canGrade"])});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("loadResponses",function(b){var d=this,c=d.responses;b&&b.reset&&c.removeAll();var a=c().length,e=["TextResponse","Discussion"],g=d.globalFilter()?d.globalFilter().filterString():"";d.loadingResponses()||a>=d.responseCount()&&(!b||!b.reset)||(0<a&&ZAP.util.track("Analytics loaded more responses for question",{tour:window.initialTour._id,totalResponses:d.responseCount(),loadStart:a}),d.loadingResponses(!0),amplify.request({resourceId:"getElementResponses",
data:{tourId:window.initialTour._id,elId:d._id,startIndex:a,globalFilter:g,filter:d.canFilter()?d.filter():"",filterChoice:d.canFilter()?d.filterChoice().join(","):"",replies:"Discussion"===d.elementType(),sortTime:"Discussion"===d.elementType(),words:_.contains(e,d.elementType()),inTimeStart:-1<d.inTimeFilterStart()?d.inTimeFilterStart():void 0,inTimeEnd:-1<d.inTimeFilterEnd()?d.inTimeFilterEnd():void 0},success:function(a){if(0<a.count){var b=a.results.map(function(a){return new ZAP.ElementResponse(a,
{temporary:!0})});c(c().concat(b))}d.lastResponseDate(a.lastDate);d.responseCount(a.count);d.repliesCount(a.replies||0);a.words&&d.words(a.words);d.loadingResponses(!1)},error:function(a){d.loadingResponses(!1);ZAP.showAlert("Failed to load responses: "+a.message)}}))},["loadingResponses","responseCount","lastResponseDate","repliesCount"])});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("filterChoice",{compute:function(){var b=this.elementType(),d=this.filter().toLowerCase(),c=function(a,b){var c=$("#choiceChart").data("chart");c&&c.series[0].data[a].select(!b,!1)},b=_.contains(["MultipleChoice","CheckBoxes"],b)?_.pluck(_.filter(this.choices(),function(a,b){var g=a.text().toLowerCase();(g=d.length&&-1<g.indexOf(d))&&c(b);return g||0===d.length}),"_id"):[];1!==b.length&&c(0,!0);return b},sync:"none"},["filter"])});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("responses",{type:[ZAP.ElementResponse],sync:"none"});ZAP.TourElement.registerExtension("loadingResponses",{type:Boolean,"default":!1,sync:"none"});ZAP.TourElement.registerExtension("filter",{type:String,"default":"",sync:"none"});ZAP.TourElement.registerExtension("inTimeFilterStart",{type:Number,sync:"none"});ZAP.TourElement.registerExtension("inTimeFilterEnd",{type:Number,sync:"none"});ZAP.TourElement.registerExtension("lastResponseDate",
{type:Date,sync:"none"});ZAP.TourElement.registerExtension("needsRefresh",{type:Boolean,sync:"none"});ZAP.TourElement.registerExtension("words",{type:[{word:String,count:Number}],sync:"none"});ZAP.TourElement.registerExtension("globalFilter",{type:Object,sync:"none"});ZAP.TourElement.registerExtension("responseCount",{type:Number,sync:"none"});ZAP.TourElement.registerExtension("repliesCount",{type:Number,sync:"none"});ZAP.TourElement.registerExtension("isChildElement",{type:Boolean,"default":!1,sync:"none"});
ZAP.TourElement.registerExtension("selectedResponse",{type:ZAP.ElementResponse,sync:"none"})});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("removeChoice",function(b){var d;if(this.choices){this.choices.remove(b);var c=_.find(this.actions(),function(a){return"Correct"===a.feedbackType()}),a=_.find(this.actions(),function(a){return"Incorrect"===a.feedbackType()});c&&(d=c.criteria(),d["@and"]=_.reject(d["@and"],function(a){return a.checked["@contain"]===b._id||a.checked["@ncontain"]===b._id}),0<d["@and"].length?(c.criteria({}),c.criteria(d)):this.actions.remove(c));
a&&(d=a.criteria(),d["@or"]=_.reject(d["@or"],function(a){return a.checked["@contain"]===b._id||a.checked["@ncontain"]===b._id}),0<d["@or"].length?(a.criteria({}),a.criteria(d)):this.actions.remove(a))}})});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("responseHtml",{compute:function(){var b="",d=this;if(d.isResponseElement()){switch(d.elementType()){case "CheckBoxes":d.responses().forEach(function(a){var c=_.find(d.choices(),function(b){return b._id===a});if(c){var h=d.choices().indexOf(c);b+='<span class="response-choice">'+"abcdef"[h]+"</span>"+_.escape(c.text())}});break;case "MultipleChoice":var c=_.find(d.choices(),function(a){return a._id===d.response()});if(c){var a=
d.choices().indexOf(c),c=_.escape(c.text());"Thumbs"===d.elementSubtype()?(b="Thumbs up"===c?b+'<span class="zi -thumbs-up-blue"><span class="_visually-hidden">':b+'<span class="zi -thumbs-down-blue"><span class="_visually-hidden">',b+=c+"</span></span>"):b+='<span class="response-choice" aria-hidden="true">'+"abcdef"[a]+"</span>"+c}break;case "Discussion":a=this.commentCounts();b=a.comments+" "+ZAP.util.formatPlural(a.comments," comment")+" and "+a.replies+" "+ZAP.util.formatPlural(a.replies," reply",
"replies");break;default:b=_.escape(d.response())||""}d.canGrade()&&(b=d.isCorrect()?b+'<span class="zi -check answer-information"><span class="_visually-hidden">, Correct Answer</span>':b+'<span class="zi -x-red answer-information"><span class="_visually-hidden">, Incorrect Answer</span>',b+="</span>")}0===b.length&&(b="<em>No Response</em>");return b},sync:"none"},["canGrade","commentCounts"])});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("sortedComments",{compute:function(){var b=this.comments().slice();this.hideTimestamps()?b.sort(function(b,c){return b.datePosted().getTime()-c.datePosted().getTime()}):b.sort(function(b,c){return b.inTime()-c.inTime()});return b},sync:"none"})});
module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("tooltipClassName",{compute:function(){var b=this.elementSubtype()||this.elementType();"Group"===b&&this.children()&&this.children()[0]&&(b=this.children()[0],b=b.elementSubtype()||b.elementType());return ZAP.elementMap.elementTypeToIcon(b)},sync:"none"})});module.exports=require("ZAP")(function(){ZAP.TourElement.registerExtension("visibleMarker",{compute:function(){return!_.contains(["Jump"],this.elementType())},sync:"none"})});
module.exports=require("ZAP")(function(){ZAP.AccessGrant=new ZAP.ZaptionModel("AccessGrant",{user:{type:ZAP.ObjectId,ref:"User"},group:{type:ZAP.ObjectId,ref:"Group"},permission:{type:String,"enum":["read","write","read-write"],"default":"read",required:!0},userName:{type:String},groupName:{type:String}});return ZAP.AccessGrant});module.exports=require("ZAP")(function(){ZAP.TranscriptEntry=new ZAP.ZaptionModel("TranscriptEntry",{inTime:Number,outTime:Number,text:String});return ZAP.TranscriptEntry});
module.exports=require("ZAP")(function(){ZAP.Transcript=new ZAP.ZaptionModel("Transcript",{owner:ZAP.ObjectId,video:ZAP.ObjectId,name:String,fileName:{type:String,"default":""},dateCreated:{type:Date,"default":Date.now},dateUpdated:{type:Date,"default":Date.now},enableSubtitles:{type:Boolean,"default":!0},startWithSubtitles:{type:Boolean,"default":!0},entries:[ZAP.TranscriptEntry]});return ZAP.Transcript});
module.exports=require("ZAP")(function(){ZAP.BrowseItem=new ZAP.ZaptionModel("BrowseItem",{owner:{type:ZAP.ObjectId,ref:"User",required:!0},grants:{type:[ZAP.AccessGrant],sync:"none"},name:{type:String,validate:[ZAP.util.validLen100,"len100"],"default":""},dateCreated:{type:Date,"default":Date.now},dateUpdated:{type:Date,"default":Date.now,set:Date.now},deleted:{type:Boolean,"default":!1,readOnly:!0,sync:"none"},thumbLocation:{type:String,"default":"",validate:ZAP.util.validLen1000},userUploaded:{type:Boolean,
"default":!1},name_lowercase:{type:String,set:ZAP.util.toLowerAndTrim,readOnly:!0}});return ZAP.BrowseItem});
module.exports=require("ZAP")(function(){ZAP.BrowseItem.schema.currentUserHasWritePermissions={compute:function(){return ZAP.util.checkPermission(window.currentUser,"write-item",this)},sync:"none"};ZAP.BrowseItem.schema.itemType={type:String,sync:"none"};ZAP.BrowseItem.schema.temporary={type:Boolean,sync:"none"};ZAP.BrowseItem.schema.thumbLocationFixed={compute:function(){return ZAP.util.addVimeoSecurePrefix(this.thumbLocation()||"")},sync:"none"};ZAP.BrowseItem.schema.ownerGrant={compute:function(){return new ZAP.AccessGrant({user:this.owner(),
userName:this.ownerName(),permission:"read-write"},{temporary:!0})},sync:"none"};ZAP.BrowseItem.methods.addGrant=function(b,d,c,a){var e=this;a||(a=function(a){a&&ZAP.showAlert(a)});d={itemType:e.itemType(),itemId:e._id,entity:{id:b,type:d},type:c};if(e._temporary)return a();amplify.request({resourceId:"addGrantUser",data:d,success:function(c){if(!c)return a();if(c=new ZAP.AccessGrant(c,{preSynced:!0})){var d=_.find(e.grants(),function(a){return String(a.user())===b||String(a.group())===b});d?d.permission(c.permission()):
e.grants.push(c)}a()},error:function(b){a(b.message)}})};ZAP.BrowseItem.methods.removeGrant=function(b){var d=this;d._temporary||amplify.request({resourceId:"removeGrant",data:{itemType:d.itemType(),itemId:d._id,entity:{id:b.user()||b.group(),type:b.user()?"user":"group"}},success:function(){d.grants.remove(b)},error:function(b){ZAP.showAlert(b.message)}})};ZAP.BrowseItem.methods.removeOwner=function(){this._temporary||(1>this.grants().filter(function(b){return!!b.user}).length?ZAP.showAlert("You can't remove this permission because it would leave this item without an owner."):
amplify.request({resourceId:"removeGrant",data:{itemType:this.itemType(),itemId:this._id,entity:{id:this.owner(),type:"user"}},success:function(){window.location.reload(!0)},error:function(b){ZAP.showAlert(b.message)}}))}});
module.exports=require("ZAP")(function(){ZAP.Clip=new ZAP.ZaptionModel("Clip",{video:{type:ZAP.ObjectId,ref:"Video"},inTime:{type:Number,"default":0,min:0,required:!0},outTime:{type:Number,"default":0,min:0},text:{type:String,"default":"",validate:ZAP.util.validLen250},thumbLocation:{type:String,"default":"",validate:ZAP.util.validLen1000},mute:{type:Boolean,"default":!1},videoType:{type:String,"default":"S3","enum":["S3","YouTube","Vimeo","MP4URL"],required:!0},archivePartner:{type:String},videoDuration:{type:Number,
"default":0},videoLocation:{type:String,required:!0},transcript:{type:ZAP.ObjectId,ref:"Transcript"}});return ZAP.Clip});
module.exports=require("ZAP")(function(){ZAP.Clip.schema.elements={type:[ZAP.TourElement],sync:"none"};ZAP.Clip.schema.transcriptObject={type:ZAP.Transcript,sync:"none"};ZAP.Clip.schema.duration={compute:function(){return this.outTime()-this.inTime()},sync:"none"};ZAP.Clip.schema.ks={type:String,sync:"none"};ZAP.Clip.schema.thumbLocationFixed={compute:function(){return ZAP.util.addVimeoSecurePrefix(this.thumbLocation()||"")},sync:"none"};ZAP.Clip.schema.startButtonType={compute:function(){return window.isiPad&&
"S3"===this.videoType()?"html5":window.isTablet&&"Vimeo"===this.videoType()?"vimeo":"standard"},sync:"none"};ZAP.Clip.methods.findElementById=function(b){return this.elements().filter(function(d){return d._id===b})[0]};ZAP.Clip.methods.loadTranscript=function(){var b=this;b.transcriptObject.peek()||!b.transcript.peek()||b._transcriptLoading||(b._transcriptLoading=!0,amplify.request({resourceId:"getTranscript",data:{tsId:b.transcript.peek()},error:function(){b._transcriptLoading=!1},success:function(d){b._transcriptLoading=
!1;b.transcriptObject(new ZAP.Transcript(d,{preSynced:!0}))}}))};ZAP.Clip.methods.loadKs=function(b){var d=this,c;switch(d.videoType()){case "BCAKaltura":c="tle";break;case "TLEKalturaKMC1":c="tlekmc1"}c?amplify.request({resourceId:"getKalturaSession",data:{id:d.videoLocation(),partner:c},error:function(){b(null);ZAP.showAlert("Kaltura session not permitted")},success:function(a){d._ksTimeout&&(window.clearTimeout(d._ksTimeout),d._ksTimeout=null);d.ks(a);d.ksLoaded=!0;d._ksTimeout=setTimeout(function(){d.ks(null);
d.ksLoaded=!1},864E5);b(a)}}):(d.ksLoaded=!0,b(null))};ZAP.Clip._constructor=function(){this.loadTranscript()}});
module.exports=require("ZAP")(function(){ZAP.Tour=new ZAP.ZaptionModel("Tour",{description:{type:String,"default":"",validate:ZAP.util.validLen1000},tags:{type:[String],"default":[]},preventNavigationForward:{type:Boolean,"default":!1},preventNavigation:{type:Boolean,"default":!1},lockPlaybackRate:{type:Boolean,"default":!1},responsesRequired:{type:Boolean,"default":!1},frameURL:{type:String,"default":"",validate:ZAP.util.validLen1000},clips:[ZAP.Clip],elements:[ZAP.TourElement],published:{type:Boolean,
"default":!1},whitelist:{type:Boolean,"default":!1},shortCode:{type:String,"default":function(){return ZAP.util.makeRandomAccessKey(7)}},noNameRequired:{type:Boolean,"default":!1,readOnly:!0},open:{type:Boolean,"default":!0},isSample:{type:Boolean,"default":!1},parentTour:{type:ZAP.ObjectId},callToAction:Object,datePublished:{type:Date},expireAt:{type:Date,readOnly:!0},editorsAllowed:{type:Boolean,"default":!1},filterBypass:Boolean,lastListing:{type:ZAP.ObjectId},lastListingDate:Date,completionPoints:{type:Number,
"default":0,set:ZAP.util.integerWithFloor},showPoints:Boolean,ownerName:{type:String,validate:ZAP.util.validLen100,readOnly:!0}},ZAP.BrowseItem,"tourItems");return ZAP.Tour});
module.exports=require("ZAP")(function(){ZAP.Tour.schema.itemType={type:String,"default":"tour",sync:"none"};ZAP.Tour.schema.totalDuration={compute:function(){return this.clips().reduce(function(b,d){return b+d.duration()},0)},sync:"none"};ZAP.Tour.schema.elementsFilter={type:Function,sync:"none"};ZAP.Tour.schema.filteredElements={compute:function(){return"function"!==typeof this.elementsFilter()?this.elements():this.elements().filter(this.elementsFilter())},sync:"none"};ZAP.Tour.schema.jsonPlaylist=
{compute:function(){for(var b=[],d=this.clips(),c=0;c<d.length;c++)b.push(d[c]);return b},sync:"none"};ZAP.Tour.pre("update.preventNavigationForward",function(b){this.preventNavigationForward()||this.preventNavigation(!1);b()});ZAP.Tour.pre("update.open",function(b){!this.open()&&this.whitelist()&&this.whitelist(!1);b()});ZAP.Tour.post("update.clips",_.debounce(function(){for(var b=this.clips().map(function(a){return String(a._id)}),d=this.elements().slice(),c=d.length;c--;)_.contains(b,String(d[c].clip()))||
d.splice(c,1);this.elements(d)}),50);ZAP.Tour.pre("construct",function(b){var d=this,c,a;d.filteredElements.deferUpdates=!1;d.itemType("tour");d.activeClip=ko.observable();d.currentTime=ko.observable(0);d.filteredElements.subscribe(function(b){for(c=0;c<d.clips().length;c++)a=d.clips()[c].elements(),a.length=0;var g=[];b.forEach(function(b){if(b){var c=_.find(d.clips(),function(a){return a._id===b.clip()});c?(a=c.elements(),a.push(b)):g.push(b)}else g.push(b)});_.each(d.clips(),function(a){var b=
a.elements();b.sort(function(a,b){return a.inTime()===b.inTime()?a.outTime()===b.outTime()?a.dateCreated()-b.dateCreated():a.outTime()-b.outTime():a.inTime()-b.inTime()});a.elements(b)});g.length&&d.elements.remove(function(a){return _(g).some(function(b){return b===a||b instanceof ZAP.ZaptionModel&&a instanceof ZAP.ZaptionModel&&b._id===a._id?!0:!1})});for(c=0;c<d.clips().length;c++)d.clips()[c].elements.notifySubscribers(d.clips()[c].elements());d.clips.notifySubscribers(d.clips())},d,void 0,!1);
d.save={};d.save.message=ko.computed(function(){return d._lastSyncError()?"Error saving lesson":d.pendingChanges().length||d.unsavedChanges().length?"Saving...":"Saved"});d.save.message.style=ko.computed(function(){return d._lastSyncError()?{color:"#f00",opacity:"1"}:d.pendingChanges().length||d.unsavedChanges().length?{color:"#424242",opacity:"1"}:{color:"#424242",opacity:"0.6"}});d._lastSyncError.subscribe(function(a){a&&!$(".zp-alert").hasClass("open")&&(navigator.onLine?ZAP.showAlert("Your lesson could not be saved due to a server error. Please wait a minute and try again."):
ZAP.showAlert("Your lesson could not be saved because you are offline. Please reconnect to the internet."))});d.elements.notifySubscribers(d.elements());b()});ZAP.Tour.pre("construct",function(b){var d=this;d.displaySkipRestrictions=ko.computed({read:function(){return d.preventNavigation()?"noSkips":d.preventNavigationForward()?"skipsForwardOnly":"allowSkips"},write:function(b){switch(b){case "noSkips":d.preventNavigation(!0);break;case "skipsForwardOnly":d.preventNavigation(!1);d.preventNavigationForward(!0);
break;case "allowSkips":d.preventNavigation(!1),d.preventNavigationForward(!1),d.responsesRequired(!1)}}});d.allowEditors=ko.computed({read:function(){return d.editorsAllowed()?"yes":"no"},write:function(b){d.editorsAllowed("yes"===b)}});d.requireLogin=ko.computed({read:function(){return d.open()?"anyone":d.whitelist()?"whitelist":"loggedin"},write:function(b){switch(b){case "loggedin":d.open(!1);d.whitelist(!1);break;case "anyone":d.open(!0);d.whitelist(!1);break;case "whitelist":d.open(!1),d.whitelist(!0)}}});
b()})});module.exports=require("ZAP")(function(){ZAP.Tour.registerExtension("addElementsToClips",function(b){var d=this;$.each(d.filteredElements(),function(b,a){var e=a.clip();if(e){for(var g=d.clips(),h,k=0,m=g.length;k<m&&(h=g[k],h._id!==e);k++)h=void 0;h&&h.elements.push(a)}return a});b()},[],"construct")});
module.exports=require("ZAP")(function(){ZAP.Tour.registerExtension("callToActionLink",{compute:function(){if(!this.callToAction())return"";var b=this.callToAction().coupon,d=this.callToAction().partner;return d?"/partners/"+d:b?"/reg/"+b:"/signup"+btoa(ZAP.util.stringify(_.extend(this.callToAction(),{tourId:this._id})))},sync:"none"})});
module.exports=require("ZAP")(function(){ZAP.Tour.registerExtension("hasInteractiveElements",{compute:function(){var b=function(d){return _.some(d,function(c){var a=c.elementType();return"Group"===a?b(c.children()):!_.contains("TextScreen ImageScreen Drawing Video Replay Transcript Jump".split(" "),a)})};return b(this.elements())},sync:"none"})});module.exports=require("ZAP")(function(){ZAP.Tour.registerExtension("activeClip",{type:Object,sync:"none"})});
module.exports=require("ZAP")(function(){ZAP.Tour.registerExtension("sidebarElements",{compute:function(){return this.filteredElements().filter(function(b){return"Sidebar"===b.space()})},sync:"none"})});module.exports=require("ZAP")(function(){ZAP.Tour.registerExtension("totalPoints",{compute:function(){var b=function(d){return _.reduce(d,function(c,a){return a.canGrade()?c+a.points():"Group"===a.elementType()?c+b(a.children()):c},0)};return b(this.elements())+this.completionPoints()},sync:"none"})});
module.exports=require("ZAP")(function(){ZAP.Tour.registerExtension("videoScreenElements",{compute:function(){return this.filteredElements().filter(function(b){return"MainBox"===b.space()})},sync:"none"})});
module.exports=require("ZAP")(function(){ZAP.Video=new ZAP.ZaptionModel("Video",{duration:{type:Number,"default":0,min:0},notes:{type:String,"default":""},encodeID:{type:String},encodeStatus:{type:String,"enum":["Uploading","Pending","Transcoding","Finished","Failed"],"default":"Pending"},videoType:{type:String,"default":"S3","enum":["S3","YouTube","Vimeo","MP4URL"]},transcript:{type:ZAP.ObjectId,ref:"Transcript"},videoLocation:{type:String},archivePartner:{type:String},ownerName:{type:String,validate:ZAP.util.validLen100,
readOnly:!0}},ZAP.BrowseItem,"videoItems");return ZAP.Video});
module.exports=require("ZAP")(function(){ZAP.Video.schema.itemType={type:String,"default":"video",sync:"none"};ZAP.Video.methods.updateVideo=function(){var b=this;if(!b._temporary){var d;switch(b.videoType()){case "S3":d="getVideo";break;case "YouTube":d="updateYouTubeVideo";break;default:return}amplify.request({resourceId:d,data:{videoId:b._id},success:function(c){c?(b.encodeStatus(c.encodeStatus),b.duration(c.duration),b.dateUpdated(new Date(c.dateUpdated))):b.encodeStatus("Failed")}})}};ZAP.Video.methods.checkIfTranscoding=
function(){"Transcoding"===this.encodeStatus()&&this.updateVideo()};ZAP.Video._constructor=function(){var b=this;setInterval(function(){b.checkIfTranscoding()},3E4);b.checkIfTranscoding()}});
module.exports=require("ZAP")(function(){ZAP.UserComment=new ZAP.ZaptionModel("UserComment",{user:{type:ZAP.ObjectId,required:!0},fullName:{type:String,required:!0},text:{type:String},dateCreated:{type:Date,"default":Date.now}});ZAP.TourListing=new ZAP.ZaptionModel("TourListing",{name:{type:String,validate:ZAP.util.validLen100},owner:{type:ZAP.ObjectId},description:{type:String},tour:{type:ZAP.Tour},dateCreated:{type:Date,"default":Date.now},dateModified:{type:Date,"default":Date.now},lastTourSnapshot:{type:Date,
"default":Date.now},cloneCanPublish:{type:Boolean,"default":!0},cloneCanEdit:{type:Boolean,"default":!0},cloneCanSend:{type:Boolean,"default":!0},cloneCanShare:{type:Boolean,"default":!0},cloneCanClone:{type:Boolean,"default":!0},tags:{type:[String],"default":[]},rating:{type:Number,"default":0},featured:{type:Boolean,"default":!1},communities:{type:[String],"default":[]},viewCount:{type:Number,"default":0,readOnly:!0},categories:{type:[{type:String,enum:"Arts & Culture;Business;Current Events;Teacher PD;DIY;Engineering;ESL;Fun;How to;Language Arts;World Languages;Law;Math;Other;Science;Social Sciences".split(";")}],
default:[]},grades:{type:[{type:String,enum:"PreK - 2;3 - 5;6 - 8;9 - 12;Higher Ed;Prof. Training".split(";")}],default:[]},ownerName:{type:String,validate:ZAP.util.validLen100,readOnly:!0}},null,"tourListings");return ZAP.TourListing});
module.exports=require("ZAP")(function(){ZAP.Collection=new ZAP.ZaptionModel("Collection",{name:{type:String,"default":"New Collection"},type:{type:String,"enum":["video","tour"],"default":"tour"},owner:{type:ZAP.ObjectId,ref:"User",required:!0},items:{type:[ZAP.ObjectId],"default":[]},dateCreated:{type:Date,"default":Date.now}});return ZAP.Collection});
module.exports=require("ZAP")(function(){ZAP.UserRating=new ZAP.ZaptionModel("UserRating",{user:{type:ZAP.ObjectId,ref:"User"},rating:{type:Number,"enum":[0,1,2,3,4,5]}});ZAP.GalleryCollection=new ZAP.ZaptionModel("GalleryCollection",{name:{type:String,"default":"New Gallery Collection"},type:{type:String,"enum":["listing"],"default":"listing"},owner:{type:ZAP.ObjectId,ref:"User",required:!0},ownerName:{type:String},description:{type:String},categories:{type:[{type:String,enum:"Arts & Culture;Business;Current Events;Teacher PD;DIY;Engineering;ESL;Fun;How to;Language Arts;World Languages;Law;Math;Other;Science;Social Sciences".split(";")}],
"default":[]},grades:{type:[{type:String,enum:"PreK - 2;3 - 5;6 - 8;9 - 12;Higher Ed;Prof. Training".split(";")}],"default":[]},items:{type:[ZAP.ObjectId],"default":[]},thumbLocation:{type:String},banner:{type:String},rating:{type:Number,"default":0},userRatings:{type:[ZAP.UserRating],"default":0},copyCount:{type:Number,"default":0,readOnly:!0},viewCount:{type:Number,"default":0,readOnly:!0},featured:{type:Boolean},dateCreated:{type:Date,"default":Date.now},tags:{type:[String],"default":[]}});return ZAP.GalleryCollection});
module.exports=require("ZAP")(function(){ZAP.CarouselItem=new ZAP.ZaptionModel("CarouselItem",{url:{type:String},image:{type:String},interval:{type:Number,"default":5}});ZAP.GalleryItem=new ZAP.ZaptionModel("GalleryItem",{type:{type:String,"enum":["listing","collection","link","channel"],"default":"listing"},categories:{type:[{type:String,enum:"Arts & Culture;Business;Computer Science;Current Issues;Curriculum & Instruction;DIY;Ed Tech;Education;Engineering;ESL;Fun;History;How to;Humanities;Languages;Law;Mathematics;Other;Science;Social Sciences".split(";")}],
"default":[]},grades:{type:[{type:String,enum:"PreK - 2;3 - 5;6 - 8;9 - 12;Higher Ed;Prof. Training".split(";")}],"default":[]},targetId:{type:ZAP.ObjectId},thumbLocation:{type:String},href:{type:String},name:{type:String},ownerName:{type:String},description:{type:String},tags:{type:[String],"default":[]},duration:{type:Number},numItems:{type:Number},rating:{type:Number,"default":0},featured:{type:Boolean}});ZAP.GalleryItem.schema.sampleItems=[ZAP.GalleryItem];ZAP.Channel=new ZAP.ZaptionModel("Channel",
{name:{type:String,"default":"Zaption Gallery"},defaultPage:{type:Boolean,"default":!1},carousel:{type:[ZAP.CarouselItem]},bannerLocation:{type:String},items:{type:[ZAP.GalleryItem]}});return ZAP.Channel});
module.exports=require("ZAP")(function(){ZAP.GalleryItem.schema.link={compute:function(){var b="";"collection"===this.type()&&(b="/collection/");"listing"===this.type()&&(b="/listing/");return b+this.targetId()},sync:"none"};ZAP.GalleryItem.schema.thumbLocationFixed={compute:function(){return this.thumbLocation()?ZAP.util.addVimeoSecurePrefix(this.thumbLocation()):""},sync:"none"}});
module.exports=require("ZAP")(function(){ZAP.GroupUser=new ZAP.ZaptionModel("GroupUser",{userId:{type:ZAP.ObjectId,ref:"User",required:!0},role:{type:String,"enum":["admin","contributor","participant"],"default":"participant",required:!0},joinDate:{type:Date,"default":Date.now},fullName:{type:String}});return ZAP.GroupUser});
module.exports=require("ZAP")(function(){ZAP.Group=new ZAP.ZaptionModel("Group",{name:{type:String,minLen:1,maxLen:100,validate:[ZAP.util.isNotOnlyWhitespace],set:function(b){return b?b.trim():b},required:!0},description:{type:String,"default":"",validate:ZAP.util.validLen1000},locked:{type:Boolean,"default":!1},dateCreated:{type:Date,"default":Date.now},dateUpdated:{type:Date,"default":Date.now,set:Date.now},users:{type:[ZAP.GroupUser],"default":[]}});return ZAP.Group});
module.exports=require("ZAP")(function(){ZAP.User=new ZAP.ZaptionModel("User",{name:{compute:function(){return ZAP.util.makeFullName(this.firstName(),this.lastName())},sync:"none"},firstName:{type:String,maxLen:50},lastName:{type:String,maxLen:50},username:{type:String,set:ZAP.util.toLowerAndTrim,readOnly:!0},email:{type:String,set:ZAP.util.toLowerAndTrim,validate:[ZAP.util.validEmail,"email"],readOnly:!0},role:{type:String,"enum":["viewer","author","admin"],"default":"author",readOnly:!0},activated:{type:Boolean,
"default":!1,required:!0,readOnly:!0},dateJoined:{type:Date,"default":Date.now,required:!0,readOnly:!0},lastLogin:{type:Date,"default":function(){return new Date(0)},readOnly:!0},group:{type:String,readOnly:!0},groups:{type:Object,readOnly:!0},communities:{type:Array,readOnly:!0},primaryCommunity:{type:ZAP.ObjectId,readOnly:!0},isCommunityAdmin:{type:Boolean,readOnly:!0},ltiIds:[{consumerKey:String,consumerGuid:String,userId:String,lmsFullName:String,dateLinked:{type:Date,"default":Date.now}}],subscriptions:[{start:Date,
end:Date,autorenew:{type:Boolean,"default":!1},paid:{type:Boolean,"default":!1},trial:{type:Boolean,"default":!1},cost:Number,stripeSubId:String,couponCode:String,couponId:ZAP.ObjectId}],secondsUploaded:{type:Number,"default":0,readOnly:!0},secondsUploadedInCommunity:{type:Number,readOnly:!0},maxSecondsUpload:{type:Number,readOnly:!0},orgName:{type:String,readOnly:!0},orgType:{type:String,"enum":["k12","highered","business","other",""],readOnly:!0},orgPosition:{type:String,"enum":"instructor student instructional-designer admin other ".split(" "),
readOnly:!0},preferredLanguage:{type:String,"enum":["en","fr","es","he"]}});return ZAP.User});
module.exports=require("ZAP")(function(){ZAP.CommunityPermission=new ZAP.ZaptionModel("CommunityPermission",{author:{type:Boolean,"default":!1}});ZAP.Community=new ZAP.ZaptionModel("Community",{name:{type:String,"default":"New community"},loginTimeout:{type:Number,"default":1440},maxInstructors:{type:Number,readOnly:!0},maxStudents:{type:Number,readOnly:!0},dateCreated:{type:Date,"default":Date.now},orgType:{type:String,enum:["k12","highered","business","other"],"default":"other"},enableGuests:{type:Boolean,
"default":!1},enablePublicAccess:{type:Boolean,"default":!1},enableGuestEditAccess:{type:Boolean,"default":!1},enablePublicEditAccess:{type:Boolean,"default":!1},enablePublicGalleryContribution:{type:Boolean,"default":!1},enableEmbedding:{type:Boolean,"default":!1},enablePooledUploads:{type:Boolean,"default":!0},enabledPrivateArchives:{type:[String],readOnly:!0},maxSecondsUpload:{type:Number,"default":108E3},secondsUploaded:{type:Number,"default":0},maxUploadPerUser:{type:Number,"default":7200},uploadPermissions:{type:String,
"default":"Instructors"},ltiStudentsViewOnly:Boolean,ltiAutoProvision:{type:Boolean,"default":!1,readOnly:!0}},null,"communities");return ZAP.Community});
module.exports=require("ZAP")(function(){var b=ZAP.sync||{},d=function(a){a=ko.unwrap(a);if(!a)return null;var b=ko.unwrap(a._parent);return b?d(b):a},c=function(a){if(void 0===a||null===a)return null;if("object"!==typeof a||a instanceof Date)return a;for(var b in a)a.hasOwnProperty(b)&&(a[b]=c(a[b]));return a};b.getMasterObject=d;b.generateChange=function(a,b,g){var h=d(a),k=ZAP.util.getIndexedPath(a,!0);a=ZAP.util.getIndexedPath(a);var m;if("push"===b||"pull"===b)if("push"===b&&(m=_.last(a)),k=
k.slice(0,-1),a=a.slice(0,-1),!k.length||!a.length)return null;g&&g.toJSON&&(g=g.toJSON());g=c(g);b={id:(new ZAP.ObjectId).toString(),timestamp:Date.now(),objType:h._instanceType,objId:h._id,path:k,indexedPath:a,op:b,data:g};void 0!==m&&(b.position=parseInt(m,10));return b};ZAP.sync=b});
module.exports=require("ZAP")(function(){var b=ZAP.sync||{},d=function(a,b){if(a._temporary||b&&b._temporary)return!0;var c=ko.unwrap(a._parent);if(c){var k=ZAP[c._instanceType]&&ZAP[c._instanceType].schema,m=a&&a._propName;return!m||k&&k[m]&&"none"!==k[m].sync?d(c,a):!0}return!1},c=function(){var b=!1;return function(d){if(!b&&d.unsavedChanges().length){var h=[],k;d.unsavedChanges().forEach(function(a){k&&"update"===a.op&&ZAP.util.pathEquals(k.path,a.path)?$.extend(!0,k.data,a.data):(k&&(h.push(k),
k=null),"update"===a.op?(k?$.extend(!0,k.data,a.data):(k=_.clone(a),k.id=(new ObjectId).toString()),a._consolidatedChangeId=k.id):h.push(a))});k&&h.push(k);var m=function(a){log("SYNCED WITH ERROR: ",a.message);window.trackJs&&window.trackJs.track(Error("Mannequin sync failed with error: "+a.message));var b=a.rejectedChanges||"all",e=_.filter(d.pendingChanges(),function(a){return"all"===b?!0:_.contains(b,a.id)||_.contains(b,a._consolidatedChangeId)});log("Bringing back rejected changes: ",e);d.unsavedChanges(e.concat(d.unsavedChanges()));
d.pendingChanges([]);a.retry?(log("RETRYING IN "+d._syncRetryPeriod()+"ms"),setTimeout(function(){c(d)},d._syncRetryPeriod()),d._syncRetryPeriod(Math.min(2*d._syncRetryPeriod(),18E4))):ZAP.showAlert("There was an error saving your changes, and we'll need to reload the page. The error was: "+a.message,{afterClose:function(){window.needsReload=!0;window.location.reload()}});d._lastSyncError(a.message||"Unknown error.");d._syncCallbacks.forEach(function(b){b(a.message||"Unknown error")});d._syncCallbacks=
[]},l=function(){log("SAVED SUCCESSFULLY!");d._lastSyncError(!1);d._syncRetryPeriod(5E3);d.pendingChanges([]);d._syncCallbacks.forEach(function(a){a()});d._syncCallbacks=[];d.unsavedChanges().length&&a(d)};b=!0;d.pendingChanges(d.unsavedChanges());d.unsavedChanges([]);$.ajax("/sync",{method:"post",dataType:"json",contentType:"application/json",data:JSON.stringify({changes:h}),success:function(a){b=!1;a.status&&"error"!==a.status?l():m(a)},error:function(){b=!1;m({status:"error",message:"Could not connect with server",
retry:!0})}})}}}(),a=_.debounce(_.throttle(c,1E3),500);b.addUnsavedChange=function(c,g,h){if(!d(c,h)){var k=b.generateChange(c,g,h),m=b.getMasterObject(c);ZAP.util.checkPermission(window.currentUser,"write-item",m)&&k&&(window.debugMode&&log("addUnsavedChange: "+g+" on "+c._instanceType+" with data ",h),m.unsavedChanges.push(k),a(m))}};b.saveChangesImmediately=c;b.saveChanges=a;return ZAP.sync=b});
(function(b){function d(b,a){return b.w("\x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e")}b.register("carousel-slide",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('\x3c!-- ko foreach: slides --\x3e\x3c!-- ko if: $index() === $component.currentSlide() && !$component.done() --\x3e\x3c!-- ko template: { nodes: [$data] } --\x3e\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e<div class="carousel-controls _clearfix">\x3c!-- ko ifnot: $component.hideNavigation --\x3e<button class="btn-pill -blue _uc _right" data-bind="style: { visibility: hasNext() || !hideEndButtons ? \'visible\' : \'hidden\' }, click: $component.onNext, html: hasNext() ? nextText : completeButtonText"></button><button class="btn-pill -reverse-blue _uc _right" data-bind="click: $component.onCancel, html: cancelButtonText, visible: showCancelButton && !hasNext() && !hideEndButtons"></button>\x3c!-- ko ifnot: $component.hideBackButton --\x3e<a class="btn-back _left _uc" href="" data-bind="click: $component.onBack, html: backText, style: { visibility : $component.currentSlide() > 0 ? \'visible\' : \'hidden\' }">Back</a>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e<div class="_cover-float-remaining">\x3c!-- ko if: navType === \'bullets\' --\x3e\x3c!-- ko foreach: slides --\x3e<button class="bullet" data-bind="click: function() { $component.currentSlide($index()); }, css: { \'-active\' : $component.currentSlide() === $index() }"></button>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e\x3c!-- ko if: navType === \'progress\' --\x3e<div class="progress-info" data-bind="text: progressInfo"></div><div class="percentile-bar"><div class="bar"><div class="percentage" data-bind="style: { width: progressPercentage() }"></div></div></div>\x3c!-- /ko --\x3e</div>\x3c!-- ko if: closePosition === \'bottom\' --\x3e<button class="close-bottom" aria-label="Close" data-bind="click: function() { $component.closeCarousel(); }, visible: !hideCloseButton"><span data-bind="text: closeButtonText"></span><span class="times">&times;</span></button>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: closePosition === \'bottom\' --\x3e<div class="close" aria-label="Close" data-bind="click: function() { $component.closeCarousel(); }, visible: !hideCloseButton">&times;</div>\x3c!-- /ko --\x3e</div>')}b.register("carousel",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<a class="nav-item-title" href="#" aria-haspopup="true" aria-owns="checklistMenu" aria-controls="checklistMenu" data-bind="visible: !hide()"><span class="zi -checklist"></span><span class="bubble-indicator"></span></a><div id="checklistMenu" class="top-sub-nav-items"><div class="checklist-container" data-bind="css: { \'-done\': done() }"><header class="header _clearfix"><h3 class="title">Quick Start Checklist</h3></header><section class="body"><div class="panel-container" data-bind="visible: !done()"><div class="percentage-indicator -rounded -light"><div class="percentage" data-bind="style: { width: completedPercentage() + \'%\' }"></div></div><div class="info"><var count data-bind="text: countCompleted"></var><span> of </span><var count>3</var></div><div class="info -small">complete</div></div><panel params="tagType: \'button\', highlight: currentStep() === \'createLesson\', crossedOut: createLesson," data-bind="visible: !done(), click: currentStep() === \'createLesson\' && goToWalkthrough(\'createLessonWalkthrough\')"><header class="header"><div class="zi -sm" data-bind="css: $parent.createLessonIcon"></div><h3 class="title">Create a Lesson</h3></header><div class="body" data-bind="visible: highlight"><p class="info -sm">Create and publish your first lesson.</p></div></panel><panel params="tagType: \'button\', highlight: currentStep() === \'shareLesson\', crossedOut: shareLesson, inactive: currentStep() !== \'shareLesson\' && !shareLesson()" data-bind="visible: !done(), click: currentStep() === \'shareLesson\' && goToWalkthrough(\'sharingIntro\')"><header class="header"><div class="zi -sm" data-bind="css: $parent.shareLessonIcon"></div><h3 class="title">Share Your Lesson</h3></header><div class="body" data-bind="visible: highlight"><p class="info -sm">Share your lesson with at least 5 viewers.</p></div></panel><panel params="tagType: \'button\', highlight: currentStep() === \'analytics\', crossedOut: analytics, inactive: currentStep() !== \'analytics\' && !analytics()" data-bind="visible: !done(), click: currentStep() === \'analytics\' && goToWalkthrough(\'viewAnalyticsWalkthrough\')"><header class="header"><div class="zi -sm" data-bind="css: $parent.analyticsIcon"></div><h3 class="title">View Analytics</h3></header><div class="body" data-bind="visible: highlight"><p class="info -sm">View data submitted by your viewers.</p></div></panel><div class="panel-container" data-bind="visible: done()"><section class="body"><img src="/img/icons/checklist/checkmark.gif" class="icon"><div class="info">100%</div><div class="info -sm">Complete</div><br /><p>Congrats on completing your first lesson! Have fun creating more video lessons on your own, and if you need more help check out the <a href="http://www.zaption.com/support">Zaption Help Center</a>.</p><div class="_text-center"><button class="btn-pill -blue -wide" data-bind="click: function() { hide(true) }">Done</button></div></section></div></section></div></div>')}b.register("checklist",
d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w("\x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e")}b.register("context-box",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="drop-down-container" data-bind="css: { \'-expanded\': expanded, \'-has-title\': title }"><div class="zi handle" data-bind="click: toggleExpanded, visible: !title, clickBubble: true"></div><div class="btn-pill -blue -btn-handle" data-bind="click: toggleExpanded, visible: title, text: title"></div><ul class="drop-down-options" style="display: none">\x3c!-- ko foreach: options --\x3e<li data-bind="css: {\'-disabled\': $component.isDisabled($data) }, click: $parent.setValue($data.getAttribute(\'data-value\'))">\x3c!-- ko template: { nodes: [$data] } --\x3e\x3c!-- /ko --\x3e</li>\x3c!-- /ko --\x3e</ul></div>')}b.register("drop-down",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,d){return b.w('<header class="header _clearfix"><div class="_left" data-bind="css: headerIcon"></div><h3 class="_left" data-bind="text: headerTitle"></h3><button class="_right" data-bind="click: close"><div class="zi -header-close" data-bind="visible: !hasBack()"></div><div class="close-text" data-bind="visible: hasBack, text: closeText"></div></button></header><section class="body">\x3c!-- ko if: ready --\x3e\x3c!-- ko if: type() === \'NumResponseAction\' || type() === \'TextResponseAction\' --\x3e\x3c!-- ko if: logic().actions().length === 0 --\x3e<div class="response-action"><span class="info" data-bind="text: rules().label, css: { \'-left\': type() === \'TextResponseAction\' }"></span><div class="_clearfix"><select class="form-element" data-bind="options: rules().options(), optionsText: \'text\', optionsValue: \'value\', optionsCaption: \'\', value: logic().tmpChoice, valueAllowUnset:true"></select>\x3c!-- ko if: type() === \'NumResponseAction\' --\x3e<input class="form-element" type="number" data-bind="value: logic().tmpValOne, valueUpdate: \'input\', css: { \'-small\': logic().tmpChoice() === \'be\' }"><span class="and" data-bind="visible: logic().tmpChoice() === \'be\'">and</span><input type="number" class="form-element -small" data-bind="value: logic().tmpValTwo, valueUpdate: \'input\', visible: logic().tmpChoice() === \'be\'">\x3c!-- /ko --\x3e\x3c!-- ko if: type() === \'TextResponseAction\' --\x3e<textarea rows="2" class="form-element -short" data-bind="value: logic().tmpValOne, valueUpdate: \'input\', visible: logic().tmpChoice() !== \'any\'"></textarea>\x3c!-- /ko --\x3e</div></div>\x3c!-- /ko --\x3e\x3c!-- ko foreach: logic().actions --\x3e<div class="response-action"><span class="zi -rule-warning" data-bind="visible: $parent.logic().conflicts()[$index()] === true, tooltip: \'This rule overlaps with another rule\', css: { \'-left\': $parent.type() === \'TextResponseAction\' }"></span><span class="info" data-bind="text: $parent.rules().label, css: { \'-left\': $parent.type() === \'TextResponseAction\' && choice() !== \'fallback\' }"></span><div class="_clearfix">\x3c!-- ko if: choice() !== \'fallback\' --\x3e<select class="form-element" data-bind="options: $parent.rules().options(), optionsText: \'text\', optionsValue: \'value\', value: choice, valueAllowUnset: true"></select>\x3c!-- /ko --\x3e\x3c!-- ko if: choice() === \'fallback\' --\x3e<span>Anything else</span>\x3c!-- /ko --\x3e\x3c!-- ko if: $parent.type() === \'NumResponseAction\' --\x3e<input class="form-element" type="number" data-bind="visible: choice() !== \'fallback\', value: valOne, valueUpdate: \'input\', css: { \'-small\': choice() === \'be\' }"><span class="and" data-bind="visible: choice() === \'be\'">and</span><input type="number" class="form-element -small" data-bind="value: valTwo, valueUpdate: \'input\', visible: choice() === \'be\'">\x3c!-- /ko --\x3e<drop-down class="settings-construct _right -icon-only" data-bind="tooltip: { type: \'scoring\', text: \'Options\' }"><drop-down-option  class="feedback _clearfix" data-bind="click: function() { $root.showSettings($parents[2].el(), \'feedback\', $parentContext.$parentContext.$index()); }">Feedback<span class="zi -feedback-indicator _right" data-bind="visible: $parentContext.$parent.hasFeedback"></span></drop-down-option>').nx(d.getPath(!1,["restrictions",
"create","branching"]),d,{block:c},{}).w('<drop-down-option class="remove" data-bind="visible: $parentContext.$parent.choice() !== \'fallback\', click: $parentContext.$parent.removeAction">Remove</drop-down-option></drop-down><drop-down class="scoring-construct _right -icon-only" params="onSelect: updateFeedbackType" data-bind="tooltip: { type: \'scoring\', text: \'Scoring\' }, css: { \'-correct\': feedbackType() === \'Correct\', \'-incorrect\': feedbackType() === \'Incorrect\' }"><drop-down-option class="none" data-value="None">Not Scored</drop-down-option><drop-down-option class="correct" data-value="Correct">Correct</drop-down-option><drop-down-option class="incorrect" data-value="Incorrect">Incorrect</drop-down-option></drop-down>\x3c!-- ko if: $parent.type() === \'TextResponseAction\' --\x3e<textarea rows="2" class="form-element -short" data-bind="value: valOne, valueUpdate: \'input\', visible: choice() !== \'any\' && choice() !== \'fallback\'"></textarea>\x3c!-- /ko --\x3e</div></div>\x3c!-- /ko --\x3e\x3c!-- ko if: logic().actions()[0] && logic().actions()[0].choice() !== \'any\' --\x3e<button class="btn-pill -blue -action _uc" data-bind="click: function() { logic().addRule() }">+ Add rule</button>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e\x3c!-- ko if: type() === \'NumResponseFeedback\' || type() === \'TextResponseFeedback\' --\x3e<h6 class="clarification"><span class="zi -dropdown-green-correct" data-bind="visible: logic().feedbackType() === \'Correct\'"></span><span class="zi -dropdown-red-incorrect" data-bind="visible: logic().feedbackType() === \'Incorrect\'"></span><span class="clar-tmp" data-bind="ellipsisText: logic().clarification"></span></h6><textarea class="form-element" data-bind="value: logic().feedback, valueUpdate: \'input\'"></textarea>Feedback length: <span data-bind="text: logic().feedback().length"></span> / 200\x3c!-- /ko --\x3e').nx(d.getPath(!1,
["restrictions","create","branching"]),d,{block:a},{}).w('\x3c!-- ko if: type() === \'CheckBoxesFeedback\' --\x3e<h6 class="clarification"><span class="zi -dropdown-green-correct" data-bind="visible: logic().feedbackType() === \'Correct\'"></span><span class="zi -dropdown-red-incorrect" data-bind="visible: logic().feedbackType() === \'Incorrect\'"></span>For choice: "<span class="clar-tmp" data-bind="ellipsisText: logic().clarification"></span>"</h6><textarea class="form-element" data-bind="value: logic().feedback, valueUpdate: \'input\'"></textarea>Feedback length: <span data-bind="text: logic().feedback().length"></span> / 200\x3c!-- /ko --\x3e\x3c!-- ko if: type() === \'MultipleChoiceFeedback\' --\x3e<h6 class="clarification"><span class="zi -dropdown-green-correct" data-bind="visible: logic().feedbackType() === \'Correct\'"></span><span class="zi -dropdown-red-incorrect" data-bind="visible: logic().feedbackType() === \'Incorrect\'"></span>For choice: "<span class="clar-tmp" data-bind="ellipsisText: logic().clarification"></span>"</h6><textarea class="form-element" data-bind="value: logic().feedback, valueUpdate: \'input\'"></textarea>Feedback length: <span data-bind="text: logic().feedback().length"></span> / 200\x3c!-- /ko --\x3e').nx(d.getPath(!1,
["restrictions","create","branching"]),d,{block:e},{}).w('\x3c!-- /ko --\x3e</section><footer class="_text-center"><button class="btn-pill -orange -sm" data-bind="click: close, text: closeText"></button></footer>')}function c(a,b){return a.w('<drop-down-option class="jump _clearfix" data-bind="click: function() { $root.showSettings($parents[2].el(), \'jump\', $parentContext.$parentContext.$index()); }">Jump To<span class="zi -feedback-indicator _right" data-bind="visible: $parentContext.$parent.hasJump"></span></drop-down-option>')}
function a(a,b){return a.w('\x3c!-- ko if: type() === \'NumResponseJump\' || type() === \'TextResponseJump\' --\x3e<h6 class="clarification"><span class="zi -dropdown-green-correct" data-bind="visible: logic().feedbackType() === \'Correct\'"></span><span class="zi -dropdown-red-incorrect" data-bind="visible: logic().feedbackType() === \'Incorrect\'"></span><span class="clar-tmp" data-bind="ellipsisText: logic().clarification"></span></h6><div class="checkbox-label _push" data-bind="visible: !logic().jumpTargetInfo()">To select a destination, first navigate to any video location in the lesson, then click Mark Destination</div><div class="_text-center"><button  class="btn-pill -orange -main" data-bind="click: function() { logic().updateJumpTarget(); }, text: logic().jumpTargetInfo() ? \'Update destination\' : \'Mark destination\'"></button><button  class="btn-pill -orange -main _push" data-bind="click: function() { logic().clearJumpTarget(); }, visible: logic().jumpTargetInfo()">Clear Destination</button><div><input class="form-element -jump-info" type="text" data-bind="value: logic().jumpTargetInfo, visible: logic().jumpTargetInfo"><button  class="btn-pill -orange" data-bind="click: function() { logic().testJumpTarget(); }, visible: logic().jumpTargetInfo">Test jump</button></div></div>\x3c!-- /ko --\x3e')}
function e(a,b){return a.w('\x3c!-- ko if: type() === \'MultipleChoiceJump\' --\x3e<h6 class="clarification -no-margin"><span class="zi -dropdown-green-correct" data-bind="visible: logic().feedbackType() === \'Correct\'"></span><span class="zi -dropdown-red-incorrect" data-bind="visible: logic().feedbackType() === \'Incorrect\'"></span>For choice: "<span data-bind="ellipsisText: logic().clarification"></span>"</h6><div class="checkbox-label _push" data-bind="visible: !logic().jumpTargetInfo()">To select a destination, first navigate to any video location in the lesson, then click Mark Destination</div><div class="_text-center"><button  class="btn-pill -orange -main" data-bind="click: function() { logic().updateJumpTarget(); }, text: logic().jumpTargetInfo() ? \'Update destination\' : \'Mark destination\'"></button><button  class="btn-pill -orange -main _push" data-bind="click: function() { logic().clearJumpTarget(); }, visible: logic().jumpTargetInfo()">Clear Destination</button><div><input class="form-element -jump-info" type="text" data-bind="value: logic().jumpTargetInfo, visible: logic().jumpTargetInfo"><button  class="btn-pill -orange" data-bind="click: function() { logic().testJumpTarget(); }, visible: logic().jumpTargetInfo">Test jump</button></div></div>\x3c!-- /ko --\x3e')}
b.register("element-action-settings",d);d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="element-controls _clearfix"><div class="time-count _left"><span class="zi -clock"></span><span class="info" data-bind="text: time"></span></div><button class="btn-overlay _right has-tooltip" data-bind="css: { \'-show-response\': !areResponsesVisible(), \'-hide-response -active\': areResponsesVisible()}, click: toggleResponses, clickBubble: false"><span class="bubble -top -light" data-bind="text: areResponsesVisible() ? \'Hide Responses\' : \'Show Responses\'"></span><div class="badge-label -danger -notify" data-bind="text: $component.totalResponses(), visible: $component.totalResponses()"></div></button><lock-element class="_right" params="presentation: presentation, el: el"></lock-element><button class="btn-overlay -correct-answer _right has-tooltip" data-bind="event: { mouseleave: onMouseLeave }, css: { \'-active\': isAnswerVisible(), \'_animate-tada _reveal-tooltip\': answerPercentage() === \'100%\' && !hasHighlightedAnswer() }, visible: showAnswerButton, click: toggleAnswer, clickBubble: false"><span class="bubble -top -light" data-bind="text: isAnswerVisible() ? \'Hide Correct Answer\' : \'Show Correct Answer\'"></span></button><div class="_cover-float-remaining _clearfix"><span class="zi -viewers _left"></span><div class="_right info" data-bind="text: answerPercentage"></div><div class="percentage-indicator _cover-float-remaining _clearfix"><div class="percentage" data-bind="style: { width: answerPercentage }, css: { \'-full\': answerPercentage() === \'100%\' }"></div></div></div></div>')}b.register("element-controls",
d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w("\x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e")}b.register("info-bar",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<button class="btn-overlay has-tooltip" data-bind="css: { \'-unlock\': !locked(), \'-lock -active\': locked }, clickBubble: false, click: toggle"><span class="bubble -top -light" data-bind="text: text"></span></button>')}b.register("lock-element",d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w('<canvas class="draw-canvas"></canvas>')}b.register("marker",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w("\x3c!-- ko if: tagType === 'button' --\x3e<button class=\"panel-container\" data-bind=\"enable: highlight, css: { '-highlight': highlight, '-crossed-out': crossedOut, '-inactive': inactive }\">\x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e</button>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: tagType === 'button' --\x3e<div class=\"panel-container\" data-bind=\"css: { '-highlight': highlight, '-crossed-out': crossedOut, '-inactive': inactive }\">\x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e</div>\x3c!-- /ko --\x3e")}b.register("panel",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="time-elapsed" data-bind="text: timeElapsed()"></div><div class="seekbar-container"><div class="zp-seekbar js-seekbar"><div class="elapsed" data-bind="style: { width: elapsedPercentage() }"></div>\x3c!-- ko foreach: tour().filteredElements --\x3e\x3c!-- ko if: $data.visibleMarker() --\x3e<div class="marker -element has-tooltip" data-bind="visible: $component.showElementMarkers(), style: { left: $parents[0].getMarkerPosition($data) }"><div class="bubble -top -light" data-bind="html: $parents[0].getMarkerTooltip($data)"></div></div>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e\x3c!-- ko foreach: timeslots --\x3e<div class="marker -separator" data-bind="visible: !$component.showElementMarkers(), style: { left: $component.getSlotMarkerPosition($data) }"></div>\x3c!-- /ko --\x3e</div></div><div class="time-remaining" data-bind="text: timeRemaining()"></div><div class="_clear"></div><div class="navigation-container">\x3c!-- push to left --\x3e<button class="zp-btn _left _separator-right" data-bind="css: { \'-play\': zp().isPaused(), \'-pause\': !zp().isPaused() }, click: togglePlay"></button><button class="zp-btn -prev _left" data-bind="click: prev"></button><button class="zp-btn -next _left _separator-right" data-bind="click: next"></button><button class="zp-btn -rewind _left _separator-right" data-bind="click: rewind"></button>\x3c!-- push to right --\x3e<button class="zp-btn -fullscreen _right" data-bind="click: fullscreen"></button><button class="zp-btn -cc _right _separator-left" data-bind="click: cc"></button><div class="info-block _right _separator-left" data-bind="click: onJoinCodeClick, css: { \'-active\': isJoinCodeVisible }">zaption.com/j<span data-bind="text: presentation.code"></span></div><div class="info-block _right _separator-left" data-bind="click: onAttendeeListClick, css: { \'-active\': isAttendeeListVisible }"><span class="zi -viewers"></span><span data-bind="text: attendees().length"></span></div><div class="info-block _right _separator-left has-tooltip hand-button" data-bind="click: onEnableHandsClick, css: { \'-active\': !enableHands() }"><span class="zi -hand"></span><span class="_uc info-align" data-bind="text: enableHands() ? \'enabled\' : \'disabled\'"></span><div class="bubble -top -light" data-bind="text: enableHands() ? \'Disable Viewer Questions\' : \'Enable Viewer Questions\'"></div></div></div>')}b.register("player-controls",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="title">Ask a quick question</div><div class="subtitle">Choose a question type:</div><form method="POST"><button class="btn-overlay -half" data-bind="click: chooseOpenResponse, css: { \'-active\': type() === \'open-response\' }"><span class="zi -text-bubble"></span>Open response</button><button class="btn-overlay -half" data-bind="click: chooseThumbs, css: { \'-active\': type() === \'thumbs\' }"><span class="zi -thumbs"></span>Thumbs up / down</button><textarea class="question" name="question" placeholder="Type your question here..." data-bind="visible: type, value: prompt, enable: type, hasFocus: type()"></textarea><button class="btn-overlay -full" data-bind="visible: type, enable: type, click: submit">Submit</button></form>')}b.register("quick-question",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<header class="overlay-header"><h3 class="overlay-title">Viewer Questions</h3><a href="" data-bind="click: function() { areNamesShown(!areNamesShown()); return false; }, text: areNamesShown() ? \'Hide names\' : \'Show names\'" class="overlay-link"></a><a href="" data-bind="click: function() { activeSlot(null); }, visible: $component.activeSlot()" class="overlay-link">Show all questions</a></header><div class="element-response-wrapper"><div class="element-responses" data-bind="accordion: \'.response-content\', foreach: activeSlotHands, event: { scroll: throttledPlaceShadows }"><div class="response-group -with-timestamp"><div class="response-time" data-bind="text: ZAP.util.secondsToTimestamp(inTime), css: { \'-large\': inTime > 3600 }"></div><div class="response-content" data-bind="css: { \'-small\': inTime > 3600 }, click: function() { setImmediate($component.placeShadows); }"><div class="zi -person _left" data-bind="visible: $component.areNamesShown()"></div><div class="_left name" data-bind="text: name, visible: $component.areNamesShown()"></div><div class="_left text" data-bind="text: text, css: { \'-shrink\': $component.areNamesShown() }"></div><a href="" class="_right" data-bind="click: $component.removeHand"><div class="zi -delete"></div></a></div></div></div></div><div class="graph-bars" data-bind="{ foreach: slots }"><div class="bar"><div class="bar-inner has-tooltip" data-bind="click: function() { _.isEqual($component.activeSlot(), $data) ? $component.activeSlot(null) : $component.activeSlot($data); }, style: { \'height\': $component.getPercentage(uniqueHands().length) }, css: { \'-active\': _.isEqual($component.activeSlot(), $data) }"><div class="bubble -top -light" data-bind="text: uniqueHands().length"></div></div></div></div>')}b.register("raised-hands",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w("<p class=\"_visually-hidden\" data-bind=\"html: rating() ? 'My rating: <var count>' + rating() + ' stars</var>' : ''\" aria-live=\"polite\"></p><div role=\"listbox\" class=\"rating-list\"><button class=\"rate\" data-bind=\"css: { '-filled': rating() >= 1 }, event: { mouseover: fillBefore, mouseout: removeFill, focus: fillBefore, blur: removeFill, click: function() { onRate(1) } }\"><span class=\"_visually-hidden\" data-bind=\"html: rating() === 1 ? 'My current rating is <var count pluralize=\\'1\\'>1</var> star' : 'Rate <var count pluralize=\\'1\\'>1</var> star'\"></span></button><button class=\"rate\" data-bind=\"css: { '-filled': rating() >= 2 }, event: { mouseover: fillBefore, mouseout: removeFill, focus: fillBefore, blur: removeFill, click: function() { onRate(2) } }\"><span class=\"_visually-hidden\" data-bind=\"html: rating() === 2 ? 'My current rating is <var count pluralize=\\'2\\'>2</var> stars' : 'Rate <var count pluralize=\\'2\\'>2</var> stars'\"></span></button><button class=\"rate\" data-bind=\"css: { '-filled': rating() >= 3 }, event: { mouseover: fillBefore, mouseout: removeFill, focus: fillBefore, blur: removeFill, click: function() { onRate(3) } }\"><span class=\"_visually-hidden\" data-bind=\"html: rating() === 3 ? 'My current rating is <var count pluralize=\\'3\\'>3</var> stars' : 'Rate <var count pluralize=\\'3\\'>3</var> stars'\"></span></button><button class=\"rate\" data-bind=\"css: { '-filled': rating() >= 4 }, event: { mouseover: fillBefore, mouseout: removeFill, focus: fillBefore, blur: removeFill, click: function() { onRate(4) } }\"><span class=\"_visually-hidden\" data-bind=\"html: rating() === 4 ? 'My current rating is <var count pluralize=\\'4\\'>4</var> stars' : 'Rate <var count pluralize=\\'4\\'>4</var> stars'\"></span></button><button class=\"rate\" data-bind=\"css: { '-filled': rating() >= 5 }, event: { mouseover: fillBefore, mouseout: removeFill, focus: fillBefore, blur: removeFill, click: function() { onRate(5) } }\"><span class=\"_visually-hidden\" data-bind=\"html: rating() === 5 ? 'My current rating is <var count pluralize=\\'5\\'>5</var> stars' : 'Rate <var count pluralize=\\'5\\'>5</var> stars'\"></span></button></div>")}b.register("rating",
d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w('<div class="zaption-grid-wrapper"><table cellspacing="0" class="content-block zaption-grid centered-headers" data-bind="ZaptionGrid: rows, ZaptionGridHeaders: headers, ZaptionGridAfterRender: afterRender, ZaptionGridSort: sort, ZaptionGridWarning: warning"></table></div>')}b.register("zaption-grid",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="change-name"><h2>Hey there<span data-bind="text: \' \' + viewerName(), visible: viewerName" notranslate></span>!</h2><div class="layout-row btn-stack"><div aria-live="assertive" role="alert" aria-atomic="true">\x3c!-- ko if: formError() --\x3e<p data-bind="text: formError" class="error"></p>\x3c!-- /ko --\x3e</div><form id="set-viewer-name" class="change-name-form" data-bind="submit: function() { goToContent(); }"><label class="form-label" data-bind="css: { \'slide-hide\': !showChangeNameForm() }"><span>What\'s your name?</span><input class="form-element viewer-name" type="text" name="viewerName" placeholder="Type your name here" data-bind="textInput: viewerName, attr: { maxlength: viewerNameMaxLength }, hasfocus: showChangeNameForm()" /></label><input type="hidden" name="_csrf" data-bind="value: csrfToken"><button class="btn-pill -blue -full form-submit" type="submit" data-bind="enable: checkUserName()">Continue</button></form><div data-bind="visible: !showChangeNameForm()" class="_text-center toggle-form"><button class="btn-link _upper-case" data-bind="click: revealForm">Change your name</button></div></div></div>')}b.register("change-name",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('<div id="forgot-password"><h2 class="title">Forgot Password?</h2><p>No problem. We\'ll send you an email to reset your password.</p><div aria-live="assertive" role="alert" aria-atomic="true">\x3c!-- ko if: showError() --\x3e<div class="message-box -error"><p class="message" data-bind="text: errorMessage"></p></div>\x3c!-- /ko --\x3e\x3c!-- ko if: successMessage() --\x3e<div class="message-box -success"><p class="message" data-bind="text: successMessage"></p></div><a class="btn-pill -blue _stand-out" data-bind="attr: { href: returnTo }">Back to login</a>\x3c!-- /ko --\x3e</div><form action="" method="get" accept-charset="utf-8" class="needs-rtl forgot-form" data-bind="submit: sendReset, visible: !successMessage()"><div class="validation-icon-wrapper strong-form"><label class="form-label"><span class="_visually-hidden">Email</span><input required class="form-element" type="text" placeholder="Email Address" name="username" value="').f(b.get(["username"],!1),
b,"h").w('" data-bind="').x(b.get(["rtl"],!1),b,{block:c},{}).w('verify: \'required\'"></label><button class="btn-pill -blue -full" type="submit">Send Reset Email</button></div></form></div>')}function c(a,b){return a.w("rtl: true, ")}b.register("forgot-password",d);d.__dustBody=!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<form accept-charset="utf-8" class="login-form" method="post" action="" data-bind="submit: loginUser" ><div aria-live="assertive" role="alert" aria-atomic="true">\x3c!-- ko if: errorMessage() --\x3e<div class="message-box -error"><p class="message" data-bind="text: errorMessage"></p></div>\x3c!-- /ko --\x3e</div><label class="form-label"><span class="_visually-hidden">Email or Username</span><input class="form-element" type="text" placeholder="Enter Email / Username"  name="username"></label><label class="form-label"><span class="_visually-hidden">Password</span><input class="form-element" type="password" placeholder="Enter Password" name="password"></label><button class="btn-pill -blue -full" type="submit">Login</button></form>')}b.register("login-form",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.nx(b.get(["ldapPartnerName"],!1),b,{block:c},{})}function c(a,b){return a.w('<ul class="service-container" data-bind="css: extraCSS"><li class="service-button"><a class="service-link btn-pill -facebook-signin-icon -icon-left -full" href="/login/facebook" data-bind="attr: { href: \'/login/facebook\' + returnToQueryString, target: window !== top ? \'_blank\' : \'\' }"><span class="sign-in">Sign in with </span>Facebook</a></li><li class="service-button"><a class="service-link btn-pill -google-signin-icon -icon-left -full" href="/login/google" data-bind="attr: { href: \'/login/google\' + returnToQueryString, target: window !== top ? \'_blank\' : \'\' }"><span class="sign-in">Sign in with </span>Google</a></li><li class="service-button"><a class="service-link btn-pill -edmodo-signin-icon -icon-left -full" href="/login/edmodo" data-bind="attr: { href: \'/login/edmodo\' + returnToQueryString, target: window !== top ? \'_blank\' : \'\' }"><span class="sign-in">Sign in with </span>Edmodo</a></li></ul>')}b.register("service-buttons",
d);d.__dustBody=!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div aria-live="assertive" role="alert" aria-atomic="true">\x3c!-- ko if: errorMessage() --\x3e<div class="message-box -error"><p class="message" data-bind="text: errorMessage"></p></div>\x3c!-- /ko --\x3e</div><div class="layout-row signup-section">\x3c!-- ko ifnot: needsPostAuth --\x3e<div class="col-1-2 subsection left-section" data-bind="css: { \'-hidden\': hasBasicAuth() }">\x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e</div>\x3c!-- /ko --\x3e<div data-bind="css: { \'col-1-2 subsection _text-before\': !needsPostAuth }, attr: { \'data-text-before\': needsPostAuth || hasBasicAuth() ? \'\u00bb\' : \'OR\' }"><div id="signup-form" class="form-wrapper"><form accept-charset="utf-8" method="post" data-bind="submit: needsPostAuth ? postAuthUpdateOrgInfo : registerUserComplete" class="join-form">\x3c!-- ko ifnot: needsPostAuth --\x3e<div class="step-1 strong-form -compact" data-bind="css: { \'-translated\': hasBasicAuth() }"><div class="layout-row"><label class="form-label col-1-2"><span class="_visually-hidden">First name</span><input class="form-element js-val" type="text" placeholder="First Name *" name="firstName" data-bind="value: firstName, verify: \'required,max(50)\', rtl: rtl" maxlength="50" required></label><label class="form-label col-1-2"><span class="_visually-hidden js-val">Last name</span><input class="form-element" type="text" placeholder="Last Name" name="lastName" data-bind="value: lastName, verify: \'max(50)\', rtl: rtl"  maxlength="50"></label></div><label class="form-label"><span class="_visually-hidden">Email address</span><input class="form-element js-val" type="email" placeholder="Email *" name="email" data-bind="value: email, verify: \'required,email,emailExists\', rtl: rtl" required></label><label class="form-label"><span class="_visually-hidden">Password</span><input class="form-element js-val" type="password" placeholder="Password *" name="password" autocomplete="off" data-bind="verify: \'required,size(8, 256),passwordTooWeak\', rtl: rtl"  minlength="8" maxlength="256" required></label><button class="btn-pill -orange -full" data-bind="click: nextStep, visible: !hasBasicAuth()" aria-label="Go to step 2">Next</button><p class="_stand-out">By signing up, you agree to Zaption\'s <a href="/terms" target="_blank">Terms of Use</a> and <a href="/privacy" target="_blank">Privacy Policy</a>. If under 18, you need the permission of your parent or teacher.</p></div>\x3c!-- /ko --\x3e<div class="step-2 strong-form -compact" data-bind="css: { \'-show\': needsPostAuth || hasBasicAuth(), \'_animate-flash-in\' : hasBasicAuth() }">\x3c!-- ko if: needsPostAuth --\x3e<div class="social-link-success" data-bind="css: \'-\' + userJoinedBy"><span class="zi" data-bind="css: \'-\' + userJoinedBy + \'-circle\'"></span>You successfully signed in with <var company><span class="_capitalize" data-bind="text: userJoinedBy"></span></var></div>\x3c!-- /ko --\x3e<h3 class="title">\x3c!-- ko if: needsPostAuth --\x3eWelcome <var name notranslate><span data-bind="text: window.currentUser.firstName"></span></var>, tell \x3c!-- /ko --\x3e\x3c!-- ko ifnot: needsPostAuth --\x3eTell \x3c!-- /ko --\x3eus more about yourself</h3><label class="form-label layout-row -flex-center"><span class="col-1-2 -not-last" data-bind="css: { \'-rtl\': rtl }">School or org type</span>\x3c!-- ko if: isCommunitySignup --\x3e<input type="text" class="form-element col-1-2" name="orgType" data-bind="value: orgType, rtl: rtl, css: { \'-rtl\': rtl }" disabled>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: isCommunitySignup --\x3e<select class="form-element col-1-2" name="orgType" data-bind="hasFocus: needsPostAuth || hasBasicAuth(), value: orgType, valueOrEmpty: orgType, verify: \'required\', rtl: rtl, css: { \'-rtl\': rtl }"><option selected="true" disabled></option><option value="k12">K-12</option><option value="highered">Higher Ed</option><option value="business">Business or Nonprofit</option></select>\x3c!-- /ko --\x3e</label><label class="form-label layout-row -flex-center"><span class="col-1-2 -not-last" data-bind="css: { \'-rtl\': rtl }">What best describes you?</span>\x3c!-- ko if: isCommunitySignup --\x3e<input type="text" class="form-element col-1-2" name="orgPosition" data-bind="value: orgPosition, rtl: rtl, css: { \'-rtl\': rtl }" disabled>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: isCommunitySignup --\x3e<select class="form-element col-1-2" name="orgPosition" data-bind="value: orgPosition, valueOrEmpty: orgPosition, verify: \'required\', rtl: rtl, css: { \'-rtl\': rtl }"><option selected="true" disabled></option><option value="student">Student</option><option value="instructor">Instructor</option><option value="instructional-designer">Instructional Technologist</option><option value="admin">E-Learning Admin</option><option value="other">Other</option></select>\x3c!-- /ko --\x3e</label>\x3c!-- ko if: isInstructor() --\x3e<label class="form-label layout-row -flex-center">\x3c!-- ko if: isCommunitySignup --\x3e<span class="col-1-2 -not-last">Community:</span><input class="form-element col-1-2" type="text" name="orgName" data-bind="value: orgName, verify: \'required,max(100)\', rtl: rtl, css: { \'-rtl\': rtl }" disabled maxlength="100" required>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: isCommunitySignup --\x3e<span class="col-1-2 -not-last" data-bind="text: orgType() === \'business\' ? \'Organization name\' : \'School name\'"></span><input class="form-element col-1-2" type="text" name="orgName" data-bind="value: orgName, verify: \'required,max(100)\', rtl: rtl, css: { \'-rtl\': rtl }"autocomplete="off" maxlength="100" required>\x3c!-- /ko --\x3e</label>\x3c!-- /ko --\x3e<label class="form-label"><input class="form-element" type="checkbox" name="sendUpdates" checked /><span>It\'s OK to send me occasional Zaption updates</span></label>\x3c!-- ko if: referralCode --\x3e<input type="hidden" data-bind="attr: { value: referralCode }" name="referralCode">\x3c!-- /ko --\x3e\x3c!-- ko if: referralId --\x3e<input type="hidden" data-bind="attr: { value: referralId }" name="referralId">\x3c!-- /ko --\x3e\x3c!-- ko if: referralType --\x3e<input type="hidden" data-bind="attr: { value: referralType }" name="referralType">\x3c!-- /ko --\x3e\x3c!-- ko if: couponCode --\x3e<input type="hidden" data-bind="attr: { value: couponCode }" name="couponCode">\x3c!-- /ko --\x3e\x3c!-- ko if: callToAction --\x3e<input type="hidden" data-bind="attr: { value: callToAction }" name="callToAction">\x3c!-- /ko --\x3e<button class="btn-pill -orange -full" type="submit">Sign Up</button></div></form></div></div></div>')}b.register("signup-form",
d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w("\x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e")}b.register("carousel-slide",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('\x3c!-- ko foreach: slides --\x3e\x3c!-- ko if: $index() === $component.currentSlide() && !$component.done() --\x3e\x3c!-- ko template: { nodes: [$data] } --\x3e\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e<div class="carousel-controls _clearfix">\x3c!-- ko ifnot: $component.hideNavigation --\x3e<button class="btn-pill -blue _uc _right" data-bind="style: { visibility: hasNext() || !hideEndButtons ? \'visible\' : \'hidden\' }, click: $component.onNext, html: hasNext() ? nextText : completeButtonText"></button><button class="btn-pill -reverse-blue _uc _right" data-bind="click: $component.onCancel, html: cancelButtonText, visible: showCancelButton && !hasNext() && !hideEndButtons"></button>\x3c!-- ko ifnot: $component.hideBackButton --\x3e<a class="btn-back _left _uc" href="" data-bind="click: $component.onBack, html: backText, style: { visibility : $component.currentSlide() > 0 ? \'visible\' : \'hidden\' }">Back</a>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e<div class="_cover-float-remaining">\x3c!-- ko if: navType === \'bullets\' --\x3e\x3c!-- ko foreach: slides --\x3e<button class="bullet" data-bind="click: function() { $component.currentSlide($index()); }, css: { \'-active\' : $component.currentSlide() === $index() }"></button>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e\x3c!-- ko if: navType === \'progress\' --\x3e<div class="progress-info" data-bind="text: progressInfo"></div><div class="percentile-bar"><div class="bar"><div class="percentage" data-bind="style: { width: progressPercentage() }"></div></div></div>\x3c!-- /ko --\x3e</div>\x3c!-- ko if: closePosition === \'bottom\' --\x3e<button class="close-bottom" aria-label="Close" data-bind="click: function() { $component.closeCarousel(); }, visible: !hideCloseButton"><span data-bind="text: closeButtonText"></span><span class="times">&times;</span></button>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: closePosition === \'bottom\' --\x3e<div class="close" aria-label="Close" data-bind="click: function() { $component.closeCarousel(); }, visible: !hideCloseButton">&times;</div>\x3c!-- /ko --\x3e</div>')}b.register("carousel",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<a class="nav-item-title" href="#" aria-haspopup="true" aria-owns="checklistMenu" aria-controls="checklistMenu" data-bind="visible: !hide()"><span class="zi -checklist"></span><span class="bubble-indicator"></span></a><div id="checklistMenu" class="top-sub-nav-items"><div class="checklist-container" data-bind="css: { \'-done\': done() }"><header class="header _clearfix"><h3 class="title">Quick Start Checklist</h3></header><section class="body"><div class="panel-container" data-bind="visible: !done()"><div class="percentage-indicator -rounded -light"><div class="percentage" data-bind="style: { width: completedPercentage() + \'%\' }"></div></div><div class="info"><var count data-bind="text: countCompleted"></var><span> of </span><var count>3</var></div><div class="info -small">complete</div></div><panel params="tagType: \'button\', highlight: currentStep() === \'createLesson\', crossedOut: createLesson," data-bind="visible: !done(), click: currentStep() === \'createLesson\' && goToWalkthrough(\'createLessonWalkthrough\')"><header class="header"><div class="zi -sm" data-bind="css: $parent.createLessonIcon"></div><h3 class="title">Create a Lesson</h3></header><div class="body" data-bind="visible: highlight"><p class="info -sm">Create and publish your first lesson.</p></div></panel><panel params="tagType: \'button\', highlight: currentStep() === \'shareLesson\', crossedOut: shareLesson, inactive: currentStep() !== \'shareLesson\' && !shareLesson()" data-bind="visible: !done(), click: currentStep() === \'shareLesson\' && goToWalkthrough(\'sharingIntro\')"><header class="header"><div class="zi -sm" data-bind="css: $parent.shareLessonIcon"></div><h3 class="title">Share Your Lesson</h3></header><div class="body" data-bind="visible: highlight"><p class="info -sm">Share your lesson with at least 5 viewers.</p></div></panel><panel params="tagType: \'button\', highlight: currentStep() === \'analytics\', crossedOut: analytics, inactive: currentStep() !== \'analytics\' && !analytics()" data-bind="visible: !done(), click: currentStep() === \'analytics\' && goToWalkthrough(\'viewAnalyticsWalkthrough\')"><header class="header"><div class="zi -sm" data-bind="css: $parent.analyticsIcon"></div><h3 class="title">View Analytics</h3></header><div class="body" data-bind="visible: highlight"><p class="info -sm">View data submitted by your viewers.</p></div></panel><div class="panel-container" data-bind="visible: done()"><section class="body"><img src="/img/icons/checklist/checkmark.gif" class="icon"><div class="info">100%</div><div class="info -sm">Complete</div><br /><p>Congrats on completing your first lesson! Have fun creating more video lessons on your own, and if you need more help check out the <a href="http://www.zaption.com/support">Zaption Help Center</a>.</p><div class="_text-center"><button class="btn-pill -blue -wide" data-bind="click: function() { hide(true) }">Done</button></div></section></div></section></div></div>')}b.register("checklist",
d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w("\x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e")}b.register("context-box",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="drop-down-container" data-bind="css: { \'-expanded\': expanded, \'-has-title\': title }"><div class="zi handle" data-bind="click: toggleExpanded, visible: !title, clickBubble: true"></div><div class="btn-pill -blue -btn-handle" data-bind="click: toggleExpanded, visible: title, text: title"></div><ul class="drop-down-options" style="display: none">\x3c!-- ko foreach: options --\x3e<li data-bind="css: {\'-disabled\': $component.isDisabled($data) }, click: $parent.setValue($data.getAttribute(\'data-value\'))">\x3c!-- ko template: { nodes: [$data] } --\x3e\x3c!-- /ko --\x3e</li>\x3c!-- /ko --\x3e</ul></div>')}b.register("drop-down",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,d){return b.w('<header class="header _clearfix"><div class="_left" data-bind="css: headerIcon"></div><h3 class="_left" data-bind="text: headerTitle"></h3><button class="_right" data-bind="click: close"><div class="zi -header-close" data-bind="visible: !hasBack()"></div><div class="close-text" data-bind="visible: hasBack, text: closeText"></div></button></header><section class="body">\x3c!-- ko if: ready --\x3e\x3c!-- ko if: type() === \'NumResponseAction\' || type() === \'TextResponseAction\' --\x3e\x3c!-- ko if: logic().actions().length === 0 --\x3e<div class="response-action"><span class="info" data-bind="text: rules().label, css: { \'-left\': type() === \'TextResponseAction\' }"></span><div class="_clearfix"><select class="form-element" data-bind="options: rules().options(), optionsText: \'text\', optionsValue: \'value\', optionsCaption: \'\', value: logic().tmpChoice, valueAllowUnset:true"></select>\x3c!-- ko if: type() === \'NumResponseAction\' --\x3e<input class="form-element" type="number" data-bind="value: logic().tmpValOne, valueUpdate: \'input\', css: { \'-small\': logic().tmpChoice() === \'be\' }"><span class="and" data-bind="visible: logic().tmpChoice() === \'be\'">and</span><input type="number" class="form-element -small" data-bind="value: logic().tmpValTwo, valueUpdate: \'input\', visible: logic().tmpChoice() === \'be\'">\x3c!-- /ko --\x3e\x3c!-- ko if: type() === \'TextResponseAction\' --\x3e<textarea rows="2" class="form-element -short" data-bind="value: logic().tmpValOne, valueUpdate: \'input\', visible: logic().tmpChoice() !== \'any\'"></textarea>\x3c!-- /ko --\x3e</div></div>\x3c!-- /ko --\x3e\x3c!-- ko foreach: logic().actions --\x3e<div class="response-action"><span class="zi -rule-warning" data-bind="visible: $parent.logic().conflicts()[$index()] === true, tooltip: \'This rule overlaps with another rule\', css: { \'-left\': $parent.type() === \'TextResponseAction\' }"></span><span class="info" data-bind="text: $parent.rules().label, css: { \'-left\': $parent.type() === \'TextResponseAction\' && choice() !== \'fallback\' }"></span><div class="_clearfix">\x3c!-- ko if: choice() !== \'fallback\' --\x3e<select class="form-element" data-bind="options: $parent.rules().options(), optionsText: \'text\', optionsValue: \'value\', value: choice, valueAllowUnset: true"></select>\x3c!-- /ko --\x3e\x3c!-- ko if: choice() === \'fallback\' --\x3e<span>Anything else</span>\x3c!-- /ko --\x3e\x3c!-- ko if: $parent.type() === \'NumResponseAction\' --\x3e<input class="form-element" type="number" data-bind="visible: choice() !== \'fallback\', value: valOne, valueUpdate: \'input\', css: { \'-small\': choice() === \'be\' }"><span class="and" data-bind="visible: choice() === \'be\'">and</span><input type="number" class="form-element -small" data-bind="value: valTwo, valueUpdate: \'input\', visible: choice() === \'be\'">\x3c!-- /ko --\x3e<drop-down class="settings-construct _right -icon-only" data-bind="tooltip: { type: \'scoring\', text: \'Options\' }"><drop-down-option  class="feedback _clearfix" data-bind="click: function() { $root.showSettings($parents[2].el(), \'feedback\', $parentContext.$parentContext.$index()); }">Feedback<span class="zi -feedback-indicator _right" data-bind="visible: $parentContext.$parent.hasFeedback"></span></drop-down-option>').nx(d.getPath(!1,["restrictions",
"create","branching"]),d,{block:c},{}).w('<drop-down-option class="remove" data-bind="visible: $parentContext.$parent.choice() !== \'fallback\', click: $parentContext.$parent.removeAction">Remove</drop-down-option></drop-down><drop-down class="scoring-construct _right -icon-only" params="onSelect: updateFeedbackType" data-bind="tooltip: { type: \'scoring\', text: \'Scoring\' }, css: { \'-correct\': feedbackType() === \'Correct\', \'-incorrect\': feedbackType() === \'Incorrect\' }"><drop-down-option class="none" data-value="None">Not Scored</drop-down-option><drop-down-option class="correct" data-value="Correct">Correct</drop-down-option><drop-down-option class="incorrect" data-value="Incorrect">Incorrect</drop-down-option></drop-down>\x3c!-- ko if: $parent.type() === \'TextResponseAction\' --\x3e<textarea rows="2" class="form-element -short" data-bind="value: valOne, valueUpdate: \'input\', visible: choice() !== \'any\' && choice() !== \'fallback\'"></textarea>\x3c!-- /ko --\x3e</div></div>\x3c!-- /ko --\x3e\x3c!-- ko if: logic().actions()[0] && logic().actions()[0].choice() !== \'any\' --\x3e<button class="btn-pill -blue -action _uc" data-bind="click: function() { logic().addRule() }">+ Add rule</button>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e\x3c!-- ko if: type() === \'NumResponseFeedback\' || type() === \'TextResponseFeedback\' --\x3e<h6 class="clarification"><span class="zi -dropdown-green-correct" data-bind="visible: logic().feedbackType() === \'Correct\'"></span><span class="zi -dropdown-red-incorrect" data-bind="visible: logic().feedbackType() === \'Incorrect\'"></span><span class="clar-tmp" data-bind="ellipsisText: logic().clarification"></span></h6><textarea class="form-element" data-bind="value: logic().feedback, valueUpdate: \'input\'"></textarea>Feedback length: <span data-bind="text: logic().feedback().length"></span> / 200\x3c!-- /ko --\x3e').nx(d.getPath(!1,
["restrictions","create","branching"]),d,{block:a},{}).w('\x3c!-- ko if: type() === \'CheckBoxesFeedback\' --\x3e<h6 class="clarification"><span class="zi -dropdown-green-correct" data-bind="visible: logic().feedbackType() === \'Correct\'"></span><span class="zi -dropdown-red-incorrect" data-bind="visible: logic().feedbackType() === \'Incorrect\'"></span>For choice: "<span class="clar-tmp" data-bind="ellipsisText: logic().clarification"></span>"</h6><textarea class="form-element" data-bind="value: logic().feedback, valueUpdate: \'input\'"></textarea>Feedback length: <span data-bind="text: logic().feedback().length"></span> / 200\x3c!-- /ko --\x3e\x3c!-- ko if: type() === \'MultipleChoiceFeedback\' --\x3e<h6 class="clarification"><span class="zi -dropdown-green-correct" data-bind="visible: logic().feedbackType() === \'Correct\'"></span><span class="zi -dropdown-red-incorrect" data-bind="visible: logic().feedbackType() === \'Incorrect\'"></span>For choice: "<span class="clar-tmp" data-bind="ellipsisText: logic().clarification"></span>"</h6><textarea class="form-element" data-bind="value: logic().feedback, valueUpdate: \'input\'"></textarea>Feedback length: <span data-bind="text: logic().feedback().length"></span> / 200\x3c!-- /ko --\x3e').nx(d.getPath(!1,
["restrictions","create","branching"]),d,{block:e},{}).w('\x3c!-- /ko --\x3e</section><footer class="_text-center"><button class="btn-pill -orange -sm" data-bind="click: close, text: closeText"></button></footer>')}function c(a,b){return a.w('<drop-down-option class="jump _clearfix" data-bind="click: function() { $root.showSettings($parents[2].el(), \'jump\', $parentContext.$parentContext.$index()); }">Jump To<span class="zi -feedback-indicator _right" data-bind="visible: $parentContext.$parent.hasJump"></span></drop-down-option>')}
function a(a,b){return a.w('\x3c!-- ko if: type() === \'NumResponseJump\' || type() === \'TextResponseJump\' --\x3e<h6 class="clarification"><span class="zi -dropdown-green-correct" data-bind="visible: logic().feedbackType() === \'Correct\'"></span><span class="zi -dropdown-red-incorrect" data-bind="visible: logic().feedbackType() === \'Incorrect\'"></span><span class="clar-tmp" data-bind="ellipsisText: logic().clarification"></span></h6><div class="checkbox-label _push" data-bind="visible: !logic().jumpTargetInfo()">To select a destination, first navigate to any video location in the lesson, then click Mark Destination</div><div class="_text-center"><button  class="btn-pill -orange -main" data-bind="click: function() { logic().updateJumpTarget(); }, text: logic().jumpTargetInfo() ? \'Update destination\' : \'Mark destination\'"></button><button  class="btn-pill -orange -main _push" data-bind="click: function() { logic().clearJumpTarget(); }, visible: logic().jumpTargetInfo()">Clear Destination</button><div><input class="form-element -jump-info" type="text" data-bind="value: logic().jumpTargetInfo, visible: logic().jumpTargetInfo"><button  class="btn-pill -orange" data-bind="click: function() { logic().testJumpTarget(); }, visible: logic().jumpTargetInfo">Test jump</button></div></div>\x3c!-- /ko --\x3e')}
function e(a,b){return a.w('\x3c!-- ko if: type() === \'MultipleChoiceJump\' --\x3e<h6 class="clarification -no-margin"><span class="zi -dropdown-green-correct" data-bind="visible: logic().feedbackType() === \'Correct\'"></span><span class="zi -dropdown-red-incorrect" data-bind="visible: logic().feedbackType() === \'Incorrect\'"></span>For choice: "<span data-bind="ellipsisText: logic().clarification"></span>"</h6><div class="checkbox-label _push" data-bind="visible: !logic().jumpTargetInfo()">To select a destination, first navigate to any video location in the lesson, then click Mark Destination</div><div class="_text-center"><button  class="btn-pill -orange -main" data-bind="click: function() { logic().updateJumpTarget(); }, text: logic().jumpTargetInfo() ? \'Update destination\' : \'Mark destination\'"></button><button  class="btn-pill -orange -main _push" data-bind="click: function() { logic().clearJumpTarget(); }, visible: logic().jumpTargetInfo()">Clear Destination</button><div><input class="form-element -jump-info" type="text" data-bind="value: logic().jumpTargetInfo, visible: logic().jumpTargetInfo"><button  class="btn-pill -orange" data-bind="click: function() { logic().testJumpTarget(); }, visible: logic().jumpTargetInfo">Test jump</button></div></div>\x3c!-- /ko --\x3e')}
b.register("element-action-settings",d);d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="element-controls _clearfix"><div class="time-count _left"><span class="zi -clock"></span><span class="info" data-bind="text: time"></span></div><button class="btn-overlay _right has-tooltip" data-bind="css: { \'-show-response\': !areResponsesVisible(), \'-hide-response -active\': areResponsesVisible()}, click: toggleResponses, clickBubble: false"><span class="bubble -top -light" data-bind="text: areResponsesVisible() ? \'Hide Responses\' : \'Show Responses\'"></span><div class="badge-label -danger -notify" data-bind="text: $component.totalResponses(), visible: $component.totalResponses()"></div></button><lock-element class="_right" params="presentation: presentation, el: el"></lock-element><button class="btn-overlay -correct-answer _right has-tooltip" data-bind="event: { mouseleave: onMouseLeave }, css: { \'-active\': isAnswerVisible(), \'_animate-tada _reveal-tooltip\': answerPercentage() === \'100%\' && !hasHighlightedAnswer() }, visible: showAnswerButton, click: toggleAnswer, clickBubble: false"><span class="bubble -top -light" data-bind="text: isAnswerVisible() ? \'Hide Correct Answer\' : \'Show Correct Answer\'"></span></button><div class="_cover-float-remaining _clearfix"><span class="zi -viewers _left"></span><div class="_right info" data-bind="text: answerPercentage"></div><div class="percentage-indicator _cover-float-remaining _clearfix"><div class="percentage" data-bind="style: { width: answerPercentage }, css: { \'-full\': answerPercentage() === \'100%\' }"></div></div></div></div>')}b.register("element-controls",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="discussion-scroll js-scroll-area" data-bind="with: el"><label for="discussionCommentInput" class="element-prompt" data-bind="html: prompt" notranslate></label><hr>\x3c!-- ko if: $component.sortedComments().length --\x3e<ul class="discussion-comments js-content-area" role="marquee" aria-label="Comments on video" id="discussion-view-area" data-bind="foreach: $component.sortedComments" notranslate><li class="discussion-comment" data-bind="css: { selected: $component.selectedDiscussionComment.is($data) }">\x3c!-- ko if: !$parent.hideTimestamps() --\x3e<a class="time-label" data-bind="text: $component.getCommentTimeLabel($data), click: function() { $component.onTimeLabelClicked($data) }"></a>\x3c!-- /ko --\x3e<span class="discussion-details"><span class="poster-name" data-bind="text: name() + \':\'" notranslate></span>&nbsp;<span class="discussion-post" data-bind="text: text" notranslate></span>&nbsp;</span><span class="reply-links"><a href="#" class="reply-link" data-bind="click: $component.toggleSelectDiscussionComment, text: $component.selectedDiscussionComment.is($data) ? \'Stop Replying\' : \'Reply\'">Reply</a>&nbsp;\x3c!-- ko if: !(self.zp && self.zp.playerMode === \'preview\') && window.userOwns --\x3e<a href="#" class="reply-link" data-bind="click: function() { $parent.showDeleteCommentConfirmation($context, $data) }">Delete</a>\x3c!-- /ko --\x3e</span></li>\x3c!-- ko foreach: replies --\x3e<li class="discussion-comment discussion-reply"><span class="poster-name" data-bind="text: name() + \':\'"></span>&nbsp;<span data-bind="text: text"></span>&nbsp;\x3c!-- ko if: !(self.zp && self.zp.playerMode === \'preview\') && window.userOwns --\x3e<a href="#" class="reply-link" data-bind="if: userOwns, click: function() { $parents[1].showDeleteCommentConfirmation($parentContext, $data) }">Delete</a>\x3c!-- /ko --\x3e</li>\x3c!-- /ko --\x3e</ul>\x3c!-- /ko --\x3e\x3c!-- ko if: !$component.sortedComments().length --\x3e<ul class="discussion-comments">\x3c!-- ko if: !$component.loadingComments() --\x3e<li class="discussion-prompt">Please enter a comment below</li>\x3c!-- /ko --\x3e\x3c!-- ko if: $component.loadingComments() --\x3e<li class="discussion-prompt"><div class="spinner-container"><div class="spinner-section"></div></div><div class="_text-center">Loading comments</div></li>\x3c!-- /ko --\x3e</ul>\x3c!-- /ko --\x3e</div><div class="discussion-post-area js-post-area" style="background: transparent;" data-bind="with: el"><form class="js-post-comment-form _clearfix"><label class="form-label"><span class="_visually-hidden">Enter a discussion comment or reply</span><textarea title="Add a comment about this part of the video" aria-controls="discussion-view-area" rows="1" name="comment" id="discussionCommentInput" required data-bind="textInput: response, attr: { placeholder: $component.selectedDiscussionComment() ? \'Post a reply\' : \'Post a comment\' }, enable: !$component.loadingComments()" class="js-comment"></textarea></label><input type="hidden" name="discussionId" id="discussionId" data-bind="value: _id">\x3c!-- ko if: !$component.selectedDiscussionComment() --\x3e<button type="submit" class="orange radius button small" data-bind="enable: response">Post</button>\x3c!-- /ko --\x3e\x3c!-- ko if: $component.selectedDiscussionComment() --\x3e<input type="hidden" name="replyTo" id="replyTo" data-bind="value: $component.selectedDiscussionComment()._id"><button type="submit" class="teal radius button small" data-bind="enable: response">Reply</button>\x3c!-- /ko --\x3e</form></div>')}b.register("discussion",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<form class="strong-form"><div class="element-prompt form-label" data-bind="html: el().prompt" id="checkBoxesPrompt" notranslate></div><fieldset class="element-answers" data-bind="foreach: el().choices" role="listbox" aria-labelledby="checkBoxesPrompt"><label class="form-label select-answer"><input class="form-element" type="checkbox" name="checkBoxesOptions" data-bind="value: $data._id, checked: _.contains($parent.checkedChoices, $data._id)" /><span data-bind="text: $data.text"></span></label></fieldset></div><button class="btn-pill -orange -half" data-bind="click: submit, enable: !isSubmitting(), html: submitButtonHtml" type="submit"></button></form>')}b.register("presenter-checkboxes",
d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w('<img class="image-screen" data-bind="image: { src: el().imageURL, alt: el().imageDesc ? el().imageDesc : \'Image Slide\' }">')}b.register("presenter-image-screen",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<form class="strong-form"><div class="element-prompt form-label" data-bind="html: el().prompt" id="multiPrompt" notranslate></div><fieldset class="element-answers" data-bind="foreach: el().choices" role="listbox" aria-labelledby="multiPrompt"><label class="form-label select-answer"><input class="form-element"  type="radio" data-bind="value: $data._id, checked: $parent.choice" /><span data-bind="text: $data.text"></span></label></fieldset></div><button class="btn-pill -orange -half" data-bind="click: submit, enable: !isSubmitting(), html: submitButtonHtml" type="submit"></button></form>')}b.register("presenter-multiple-choice",
d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w('<form class="strong-form"><label class="form-label"><div class="element-prompt" data-bind="html: el().prompt" notranslate></div><input class="form-element"  type="number" data-bind="value: number"></label><button class="btn-pill -orange -half" data-bind="click: submit, enable: !isSubmitting(), html: submitButtonHtml" type="submit"></button></form>')}b.register("presenter-num-response",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<form class="strong-form"><label class="form-label"><div class="element-prompt" data-bind="html: el().prompt" notranslate></div><textarea placeholder="Enter answer here" class="form-element" data-bind="value: text" rows="4"></textarea></label><button class="btn-pill -orange -half" data-bind="click: submit, enable: !isSubmitting(), html: submitButtonHtml" type="submit"></button></form>')}b.register("presenter-text-response",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="text-screen" data-bind="html: el().text" notranslate></div>')}b.register("presenter-text-screen",d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w("\x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e")}b.register("info-bar",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<button class="btn-overlay has-tooltip" data-bind="css: { \'-unlock\': !locked(), \'-lock -active\': locked }, clickBubble: false, click: toggle"><span class="bubble -top -light" data-bind="text: text"></span></button>')}b.register("lock-element",d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w('<canvas class="draw-canvas"></canvas>')}b.register("marker",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w("\x3c!-- ko if: tagType === 'button' --\x3e<button class=\"panel-container\" data-bind=\"enable: highlight, css: { '-highlight': highlight, '-crossed-out': crossedOut, '-inactive': inactive }\">\x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e</button>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: tagType === 'button' --\x3e<div class=\"panel-container\" data-bind=\"css: { '-highlight': highlight, '-crossed-out': crossedOut, '-inactive': inactive }\">\x3c!-- ko template: { nodes: $componentTemplateNodes } --\x3e\x3c!-- /ko --\x3e</div>\x3c!-- /ko --\x3e")}b.register("panel",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="time-elapsed" data-bind="text: timeElapsed()"></div><div class="seekbar-container"><div class="zp-seekbar js-seekbar"><div class="elapsed" data-bind="style: { width: elapsedPercentage() }"></div>\x3c!-- ko foreach: tour().filteredElements --\x3e\x3c!-- ko if: $data.visibleMarker() --\x3e<div class="marker -element has-tooltip" data-bind="visible: $component.showElementMarkers(), style: { left: $parents[0].getMarkerPosition($data) }"><div class="bubble -top -light" data-bind="html: $parents[0].getMarkerTooltip($data)"></div></div>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e\x3c!-- ko foreach: timeslots --\x3e<div class="marker -separator" data-bind="visible: !$component.showElementMarkers(), style: { left: $component.getSlotMarkerPosition($data) }"></div>\x3c!-- /ko --\x3e</div></div><div class="time-remaining" data-bind="text: timeRemaining()"></div><div class="_clear"></div><div class="navigation-container">\x3c!-- push to left --\x3e<button class="zp-btn _left _separator-right" data-bind="css: { \'-play\': zp().isPaused(), \'-pause\': !zp().isPaused() }, click: togglePlay"></button><button class="zp-btn -prev _left" data-bind="click: prev"></button><button class="zp-btn -next _left _separator-right" data-bind="click: next"></button><button class="zp-btn -rewind _left _separator-right" data-bind="click: rewind"></button>\x3c!-- push to right --\x3e<button class="zp-btn -fullscreen _right" data-bind="click: fullscreen"></button><button class="zp-btn -cc _right _separator-left" data-bind="click: cc"></button><div class="info-block _right _separator-left" data-bind="click: onJoinCodeClick, css: { \'-active\': isJoinCodeVisible }">zaption.com/j<span data-bind="text: presentation.code"></span></div><div class="info-block _right _separator-left" data-bind="click: onAttendeeListClick, css: { \'-active\': isAttendeeListVisible }"><span class="zi -viewers"></span><span data-bind="text: attendees().length"></span></div><div class="info-block _right _separator-left has-tooltip hand-button" data-bind="click: onEnableHandsClick, css: { \'-active\': !enableHands() }"><span class="zi -hand"></span><span class="_uc info-align" data-bind="text: enableHands() ? \'enabled\' : \'disabled\'"></span><div class="bubble -top -light" data-bind="text: enableHands() ? \'Disable Viewer Questions\' : \'Enable Viewer Questions\'"></div></div></div>')}b.register("player-controls",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="title">Ask a quick question</div><div class="subtitle">Choose a question type:</div><form method="POST"><button class="btn-overlay -half" data-bind="click: chooseOpenResponse, css: { \'-active\': type() === \'open-response\' }"><span class="zi -text-bubble"></span>Open response</button><button class="btn-overlay -half" data-bind="click: chooseThumbs, css: { \'-active\': type() === \'thumbs\' }"><span class="zi -thumbs"></span>Thumbs up / down</button><textarea class="question" name="question" placeholder="Type your question here..." data-bind="visible: type, value: prompt, enable: type, hasFocus: type()"></textarea><button class="btn-overlay -full" data-bind="visible: type, enable: type, click: submit">Submit</button></form>')}b.register("quick-question",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<header class="overlay-header"><h3 class="overlay-title">Viewer Questions</h3><a href="" data-bind="click: function() { areNamesShown(!areNamesShown()); return false; }, text: areNamesShown() ? \'Hide names\' : \'Show names\'" class="overlay-link"></a><a href="" data-bind="click: function() { activeSlot(null); }, visible: $component.activeSlot()" class="overlay-link">Show all questions</a></header><div class="element-response-wrapper"><div class="element-responses" data-bind="accordion: \'.response-content\', foreach: activeSlotHands, event: { scroll: throttledPlaceShadows }"><div class="response-group -with-timestamp"><div class="response-time" data-bind="text: ZAP.util.secondsToTimestamp(inTime), css: { \'-large\': inTime > 3600 }"></div><div class="response-content" data-bind="css: { \'-small\': inTime > 3600 }, click: function() { setImmediate($component.placeShadows); }"><div class="zi -person _left" data-bind="visible: $component.areNamesShown()"></div><div class="_left name" data-bind="text: name, visible: $component.areNamesShown()"></div><div class="_left text" data-bind="text: text, css: { \'-shrink\': $component.areNamesShown() }"></div><a href="" class="_right" data-bind="click: $component.removeHand"><div class="zi -delete"></div></a></div></div></div></div><div class="graph-bars" data-bind="{ foreach: slots }"><div class="bar"><div class="bar-inner has-tooltip" data-bind="click: function() { _.isEqual($component.activeSlot(), $data) ? $component.activeSlot(null) : $component.activeSlot($data); }, style: { \'height\': $component.getPercentage(uniqueHands().length) }, css: { \'-active\': _.isEqual($component.activeSlot(), $data) }"><div class="bubble -top -light" data-bind="text: uniqueHands().length"></div></div></div></div>')}b.register("raised-hands",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w("<p class=\"_visually-hidden\" data-bind=\"html: rating() ? 'My rating: <var count>' + rating() + ' stars</var>' : ''\" aria-live=\"polite\"></p><div role=\"listbox\" class=\"rating-list\"><button class=\"rate\" data-bind=\"css: { '-filled': rating() >= 1 }, event: { mouseover: fillBefore, mouseout: removeFill, focus: fillBefore, blur: removeFill, click: function() { onRate(1) } }\"><span class=\"_visually-hidden\" data-bind=\"html: rating() === 1 ? 'My current rating is <var count pluralize=\\'1\\'>1</var> star' : 'Rate <var count pluralize=\\'1\\'>1</var> star'\"></span></button><button class=\"rate\" data-bind=\"css: { '-filled': rating() >= 2 }, event: { mouseover: fillBefore, mouseout: removeFill, focus: fillBefore, blur: removeFill, click: function() { onRate(2) } }\"><span class=\"_visually-hidden\" data-bind=\"html: rating() === 2 ? 'My current rating is <var count pluralize=\\'2\\'>2</var> stars' : 'Rate <var count pluralize=\\'2\\'>2</var> stars'\"></span></button><button class=\"rate\" data-bind=\"css: { '-filled': rating() >= 3 }, event: { mouseover: fillBefore, mouseout: removeFill, focus: fillBefore, blur: removeFill, click: function() { onRate(3) } }\"><span class=\"_visually-hidden\" data-bind=\"html: rating() === 3 ? 'My current rating is <var count pluralize=\\'3\\'>3</var> stars' : 'Rate <var count pluralize=\\'3\\'>3</var> stars'\"></span></button><button class=\"rate\" data-bind=\"css: { '-filled': rating() >= 4 }, event: { mouseover: fillBefore, mouseout: removeFill, focus: fillBefore, blur: removeFill, click: function() { onRate(4) } }\"><span class=\"_visually-hidden\" data-bind=\"html: rating() === 4 ? 'My current rating is <var count pluralize=\\'4\\'>4</var> stars' : 'Rate <var count pluralize=\\'4\\'>4</var> stars'\"></span></button><button class=\"rate\" data-bind=\"css: { '-filled': rating() >= 5 }, event: { mouseover: fillBefore, mouseout: removeFill, focus: fillBefore, blur: removeFill, click: function() { onRate(5) } }\"><span class=\"_visually-hidden\" data-bind=\"html: rating() === 5 ? 'My current rating is <var count pluralize=\\'5\\'>5</var> stars' : 'Rate <var count pluralize=\\'5\\'>5</var> stars'\"></span></button></div>")}b.register("rating",
d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w('<div class="zaption-grid-wrapper"><table cellspacing="0" class="content-block zaption-grid centered-headers" data-bind="ZaptionGrid: rows, ZaptionGridHeaders: headers, ZaptionGridAfterRender: afterRender, ZaptionGridSort: sort, ZaptionGridWarning: warning"></table></div>')}b.register("zaption-grid",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content check-boxes-content" data-bind="style: { backgroundColor: backgroundColorCode }"><div class="element-content-inner" data-bind="css: { \'-responses-visible\': areResponsesVisible }"><form class="flex-col"><p class="element-prompt" id="checkBoxesPrompt" data-bind="html: prompt" notranslate></p><ul class="square needs-rtl" data-bind="foreach: choices" aria-label="checkbox choices" notranslate>\x3c!-- ko if: $data.text() --\x3e<li class="choice" notranslate data-bind="css: { \'-triangle\': !$parent.areResponsesVisible() }"><label data-bind="attr: { for: \'option\' + _id }"><input type="checkbox" name="checkBoxesOptions" data-bind="attr: { id: \'option\' + _id }, value: _id, checked: $parent.responses"><div class="choice-text" data-bind="text: \' \' + text()"></div>\x3c!-- ko if: $parent.areResponsesVisible --\x3e<div class="percentile-bar"><div class="bar"><div class="percentage" data-bind="style: { width: $parent.getChoicePercentage(_id) }"></div></div><div class="number" data-bind="text: $parent.getChoicePercentage(_id)"></div></div>\x3c!-- /ko --\x3e</label></li>\x3c!-- /ko --\x3e</ul>\x3c!-- ko if: isPresentation() && !areResponsesVisible() --\x3e<div class="element-prompt -emphasize -discreet respond-device" data-bind="fastFadeVisible: showRespondDevice"><p>Submit your response.</p></div>\x3c!-- /ko --\x3e<button type="submit" class="orange radius button medium">Submit</button></form></div></div>')}b.register("CheckBoxes",
d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w('<div class="interactive-element-content discussion-content" style="width: 100%; height: 100%;"><discussion params="el: $data, tour: $root.tour, zp: zp, presentation: $root.presentation"></discussion></div>')}b.register("Discussion",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content drawing-content" style="height: 100%; padding: 0; overflow: hidden; background: rgba(0, 0, 0, 0);"><canvas data-bind="attr: { \'aria-label\': imageDesc() ? imageDesc : \'Drawn Image\' }" class="draw-canvas"></canvas></div>')}b.register("Drawing",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content drawn-response-content" style="padding: 0; overflow: hidden; background: rgba(0, 0, 0, 0); cursor: crosshair;"><p aria-label="This element is not accessible via keyboard. Please use the period key to skip it and continue." class="element-prompt drawn-response-prompt" data-bind="html: prompt" notranslate></p><canvas class="drawing-placeholder" data-bind="visible: showPlaceholder, canvasImage: ZAP.drawingPlaceholder, canvasWidth: 316, canvasHeight: 348, scaleFrom: { width: 316, height: 348 }"></canvas><canvas class="draw-canvas"></canvas><div class="drawn-response-bottom-buttons" style="z-index: 3; position: absolute; bottom: 10px; left: 50%; margin-left: -106px; width: 212px;"><button id="clear_drawing_btn" class="gray radius button" style="margin-right: 10px;" type="button">Clear</button><button id="submit_btn" class="orange radius button medium" type="button">Submit</button></div></div>')}b.register("DrawnResponse",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content group-element-content" data-bind="style: { backgroundColor: (activeChild() ? activeChild().backgroundColorCode : backgroundColorCode) }"><h5 class="group-element-progress"><a class="fake-link prev-arrow" data-bind="visible: activeChildIndex() > 0 && !$root.tour().preventNavigation(), click: prev"><i class="fa fa-arrow-left"></i></a><span data-bind="text: (activeChildIndex() + 1) + \' of \' + filteredChildren().length"></span><a class="fake-link next-arrow" data-bind="visible: activeChildIndex() < filteredChildren().length - 1 && !$root.tour().preventNavigation() && !$root.tour().preventNavigationForward(), click: next"><i class="fa fa-arrow-right"></i></a></h5><div class="child-element-content"></div></div>')}b.register("Group",
d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w('<div class="interactive-element-content image-screen-content" style="overflow: hidden;" data-bind="style: { backgroundColor: backgroundColorCode }"><img style="max-width: none; position: absolute; display: block; margin: 0 auto;" data-bind="image: { src: imageURL(), alt: imageDesc() ? imageDesc : \'Image Slide\' }"></div>')}b.register("ImageScreen",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content jump-content"></div>')}b.register("Jump",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content multiple-choice-content" data-bind="style: { backgroundColor: backgroundColorCode }"><div class="element-content-inner" data-bind="css: { \'-responses-visible\': areResponsesVisible, \'-answer-visible\': isAnswerVisible }"><form class="flex-col"><fieldset class="multiChoiceField"><legend class="element-prompt" id="multiChoicePrompt" data-bind="html: prompt" notranslate></legend><ul class="square needs-rtl multiple-choice-list" data-bind="foreach: choices" aria-label="radio choices" notranslate>\x3c!-- ko if: $data.text() --\x3e<li class="choice" data-bind="css: { \'-correct\': ($parent.isAnswerVisible() && isCorrectChoice()), \'-thumbs\': $parent.elementSubtype(), \'-triangle\': ($parent.isPresentation() && !$parent.areResponsesVisible() && $parent.elementSubtype() !== \'Thumbs\') }"><label data-bind="attr: { for: \'option\' + _id }"><input type="radio" name="multiChoiceOptions" data-bind="attr: { id: \'option\' + _id }, value: _id, checked: $parent.response">\x3c!-- ko if: $parent.elementSubtype() !== \'Thumbs\' --\x3e<div class="choice-text" data-bind="text: \' \' + text()"></div>\x3c!-- /ko --\x3e\x3c!-- ko if: $parent.elementSubtype() === \'Thumbs\' && text() === \'Thumbs up\' && (!$parent.isPresentation() || $parent.areResponsesVisible) --\x3e<div class="zi -thumbs-up"></div>\x3c!-- /ko --\x3e\x3c!-- ko if: $parent.elementSubtype() === \'Thumbs\' && text() === \'Thumbs down\' && (!$parent.isPresentation() || $parent.areResponsesVisible) --\x3e<div class="zi -thumbs-down"></div>\x3c!-- /ko --\x3e\x3c!-- ko if: $parent.areResponsesVisible --\x3e<div class="percentile-bar"><div class="bar" data-bind="css: { \'-correct\': ($parent.isAnswerVisible() && isCorrectChoice()) }"><div class="percentage" data-bind="style: { width: $parent.getChoicePercentage(_id) }"></div></div><div class="number" data-bind="text: $parent.getChoicePercentage(_id)"></div></div>\x3c!-- /ko --\x3e</label></li>\x3c!-- /ko --\x3e</ul></fieldset>\x3c!-- ko if: isPresentation() && !areResponsesVisible() --\x3e<div class="element-prompt -emphasize -discreet respond-device" data-bind="fastFadeVisible: showRespondDevice"><p>Submit your response.</p></div>\x3c!-- /ko --\x3e<button type="submit" class="orange radius button medium">Submit</button></form></div></div>')}b.register("MultipleChoice",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content num-response-content" data-bind="style: { backgroundColor: backgroundColorCode }"><div class="element-content-inner"><form class="flex-col"><label class="element-prompt" data-bind="html: prompt, attr: { for: \'numResponseAnswer\' + _id }" notranslate></label>\x3c!-- ko if: areResponsesVisible() && presentationResponses().length == 0 --\x3e<div class="element-prompt -emphasize -discreet"><p>No responses submitted yet.</p></div>\x3c!-- /ko --\x3e\x3c!-- ko if: isPresentation() && !areResponsesVisible() --\x3e<div class="element-prompt -emphasize -discreet respond-device" data-bind="fastFadeVisible: showRespondDevice"><p>Submit your response.</p></div>\x3c!-- /ko --\x3e\x3c!-- ko if: areResponsesVisible --\x3e<div class="element-responses" data-bind="accordion: \'.response-content\', foreach: presentationResponses"><div class="response-group"><div class="response-content" data-bind="text: number"></div></div></div>\x3c!-- /ko --\x3e<input type="number" step="any" pattern="[-+]?[0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?" name="numResponseAnswer" placeholder="Type a number here" data-bind="textInput: response, attr: { id: \'numResponseAnswer\' + _id }"><button type="submit" class="orange radius button medium" data-bind="enable: response">Submit</button></form></div></div>')}b.register("NumResponse",
d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w('<div class="interactive-element-content replay-content"><div class="centered-container"><div class="centered-inner"><p class="element-prompt" data-bind="html: text" notranslate></p><button type="button" class="large orange radius button medium replay-button">Replay</button><button type="button" class="large teal radius button continue-button">Continue</button></div></div></div>')}b.register("Replay",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content text-response-content" style="width: 100%; height: 100%; overflow-y: auto;" data-bind="style: { backgroundColor: backgroundColorCode }"><div class="element-content-inner"><form class="flex-col"><label class="element-prompt" data-bind="html: prompt, attr: { for: \'textResponseAnswer\' + _id }" notranslate></label>\x3c!-- ko if: areResponsesVisible() && presentationResponses().length > 0 --\x3e<div class="element-responses" data-bind="accordion: \'.response-content\', foreach: presentationResponses"><div class="response-group"><div class="response-content" data-bind="text: text"></div></div></div>\x3c!-- /ko --\x3e\x3c!-- ko if: areResponsesVisible() && presentationResponses().length == 0 --\x3e<div class="element-prompt -emphasize -discreet"><p>No responses submitted yet.</p></div>\x3c!-- /ko --\x3e\x3c!-- ko if: isPresentation() && !areResponsesVisible() --\x3e<div class="element-prompt -emphasize -discreet respond-device" data-bind="fastFadeVisible: showRespondDevice"><p>Submit your response.</p></div>\x3c!-- /ko --\x3e<textarea name="textResponseAnswer" class="response-field" placeholder="Type your response here" data-bind="textInput: response, attr: { id: \'textResponseAnswer\' + _id }"></textarea><button type="submit" class="orange radius button medium" data-bind="enable: response">Submit</button></form></div></div>')}
b.register("TextResponse",d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w('<div class="interactive-element-content text-screen-content" data-bind="style: { backgroundColor: backgroundColorCode }"><div class="centered-container"><div class="centered-inner"><p class="element-prompt" data-bind="html: text" notranslate></p></div></div></div>')}b.register("TextScreen",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content transcript-content" style="width: 100%; height: 100%;"><div style="background: none; height: 100%; overflow: auto; padding-left: 10px;"><div id="transcriptContainer">\x3c!-- ko if: $parent.transcriptObject() --\x3e\x3c!-- ko foreach: $parent.transcriptObject().entries --\x3e<div class="original-comment transcript-entry" style="font-size: 14px; margin-bottom: 8px;" data-bind="css: { \'transcript-highlight\': ($index % 2) === 0 }" notranslate>[<a href="/nojs" data-bind="text: ZAP.util.secondsToTimestamp(inTime()), click: function() { zp.seek(inTime()); }"></a>] <span data-bind="text: text()"></span> </div>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e\x3c!-- ko if: transcript && !$parent.transcriptObject() --\x3e<div id="transcript_loading_label" class="row original-comment"><div class="twelve columns"><h3 style="text-align: center;">Loading transcript...</h3></div></div>\x3c!-- /ko --\x3e</div></div></div>')}b.register("Transcript",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content image-screen-content" style="height: 348px; padding: 0; overflow: hidden; background-color: #000;=">\x3c!-- ko if: videoClip() --\x3e<div class="centered-container"><div class="centered-inner"><div id="sideVideo" data-bind="previewPlayer: videoClip, hideControls: true, autoplay: !$data.wasPausedOnStart, mute: zp && zp.getMute(), onVideoEnd: function() { zp.dequeueElement($data); zp.playUnlessBlocked(); }"></div></div></div>\x3c!-- /ko --\x3e</div>')}b.register("Video",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content check-boxes-content construct-pane" data-bind="style: { backgroundColor: backgroundColorCode }"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div><form><div class="element-prompt" notranslate><div data-placeholder="Click here to write your question" data-bind="fancyEditable: { text: prompt, pauseOnEdit: zp, invertSkin: space() === \'Sidebar\' }"></div></div><ul class="square needs-rtl" data-bind="foreach: choices"><li class="choice _clearfix"><input type="checkbox" name="checkBoxesOptions" data-bind="value: _id" tabindex="-1" disabled><textarea class="editable" data-bind="attr: { placeholder: ZAP.translate(\'Click to edit choice\') + \' #\' + ($index() + 1) }, editable: { text: text, pauseOnEdit: zp, tabFunction: function() { return $parent.onChoiceTab($index()); } }, event: { focus: function(data, event) { $parent.choiceFocused($index(), data, event); return true; } }"></textarea><drop-down class="settings-construct _right -icon-only" data-bind="tooltip: { type: \'scoring\', text: \'Options\' }"><drop-down-option class="feedback _clearfix" data-bind="click: function() { $root.showSettings($parents[2], \'feedback\', $parentContext.$parentContext.$index()); }">Feedback<span class="zi -feedback-indicator _right" data-bind="visible: $root.choiceHasFeedback($parents[2], $parentContext.$parentContext.$index())"></span></drop-down-option><drop-down-option class="remove" data-bind="click: function() { $parents[2].removeChoice($parents[1]); }">Remove</drop-down-option></drop-down><drop-down class="scoring-construct _right -icon-only" params="onSelect: function(val) { $root.updateCheckBoxAction($parent, $index(), val); }" data-bind="tooltip: { type: \'scoring\', text: \'Scoring\' }, css: { \'-correct\': feedbackType() === \'Correct\', \'-incorrect\': feedbackType() === \'Incorrect\' }"><drop-down-option class="none" data-value="none">Not Scored</drop-down-option><drop-down-option class="correct" data-value="correct">Correct</drop-down-option><drop-down-option class="incorrect" data-value="incorrect">Incorrect</drop-down-option></drop-down></li></ul><a href="#" class="btn-pill -action -blue" data-bind="click: addChoice, visible: choices().length < 5">+ Add Choice</a><button type="submit" class="btn-pill -action -orange -disabled" data-bind="tooltip: \'You can\\\'t submit responses in editing mode.\'">Submit</button></form></div>')}b.register("CheckBoxesConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('<div class="element-settings"><h4 class="settings-header">Check Boxes Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Position:</h5><div class="setting-options-container"><label for="onVideo"><input type="radio" name="positionElement" id="onVideo" value="MainBox" data-bind="checked: space"> On the Video Window (left)</label><label for="onSidebar"><input type="radio" name="positionElement" id="onSidebar" value="Sidebar" data-bind="checked: space"> On the Sidebar (right)</label></div></li>').nx(b.get(["isInAGroup"],!1),
b,{block:c},{}).w('\x3c!-- ko if: !stopVideo() --\x3e<li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="showForTime"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayDuration"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div><span>&nbsp;seconds</span></label></div></li>\x3c!-- /ko --\x3e\x3c!-- ko if: space() === \'MainBox\' --\x3e<li><h5 class="setting-name">Background:</h5><div class="setting-options-container"><label for="clearBackground"><input type="radio" id="clearBackground" value="transparent" data-bind="checked: backgroundColor"> Transparent</label><label for="transparentBackground"><input type="radio" id="transparentBackground" value="semitransparent" data-bind="checked: backgroundColor"> Semi-transparent</label><label for="blackBackground"><input type="radio" id="blackBackground" value="black" data-bind="checked: backgroundColor"> Black</label></div></li>\x3c!-- /ko --\x3e<li><h5 class="setting-name">Points:</h5><div class="setting-options-container"><label><span>This question is worth:</span><input type="number" min="0" max="999" step="1" class="points" data-bind="value: points"> pts</label></div></li></ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}
function c(a,b){return a.w('<li><h5 class="setting-name">Behavior:</h5><div class="setting-options-container"><label for="behaviorPlay"><input type="radio" name="behaviorElement" id="behaviorPlay" value="PlayOver" data-bind="checked: displayStopVideo"> Continue playing video</label><label for="behaviorPause"><input type="radio" name="behaviorElement" id="behaviorPause" value="Pause" data-bind="checked: displayStopVideo"> Pause video on start</label></div></li>')}b.register("CheckBoxesSettings",d);
d.__dustBody=!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content discussion-content construct-pane"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div><div class="discussion-scroll"><div class="element-prompt" notranslate><div data-placeholder="Enter a discussion prompt" data-bind="fancyEditable: { text: prompt, pauseOnEdit: zp, invertSkin: space() === \'Sidebar\' }"></div></div><hr><div class="discussion-prompt">Viewers\' comments will appear here in a time-stamped and threaded discussion.</div></div><div class="discussion-post-area"><form><textarea rows="1" name="comment" placeholder="Viewers type comments here." disabled></textarea><button type="submit" class="orange radius button small disabled" data-bind="tooltip: \'You can\\\'t submit responses in editing mode.\'">Post</button></form></div></div>')}b.register("DiscussionConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="element-settings"><h4 class="settings-header">Discussion Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="showForTime"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayDuration"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div><span>&nbsp;seconds</span></label></div></li><li><h5 class="setting-name">Hiding:</h5><div class="setting-options-container"><label for="hideCommentsEnabled"><input type="checkbox" name="hideCommentsEnabled" id="hideCommentsEnabled" data-bind="checked: hideCommentsEnabled"> Hide comments from users until </label><input type="text" class="date" name="hideCommentsString" id="hideCommentsString" data-bind="calendar: { value: hideCommentsUntil, min: new Date(), showTime: false, showToday: false }, value: hideCommentsString, enable: hideCommentsEnabled"></div></li><li><h5 class="setting-name">Timestamps:</h5><div class="setting-options-container"><label for="hideTimestamps"><input type="checkbox" name="hideTimestamps" id="hideTimestamps" data-bind="checked: hideTimestamps"> Hide comment timestamps</label></div></li></ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}b.register("DiscussionSettings",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content drawing-content construct-pane" style="padding: 0; overflow: hidden; background: rgba(0, 0, 0, 0); cursor: crosshair;"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div><canvas class="drawing-placeholder" data-bind="visible: !drawingJSON() || drawingJSON() === fabric.Canvas.EMPTY_JSON, canvasImage: ZAP.drawingPlaceholder, canvasWidth: 316, canvasHeight: 348"></canvas><canvas class="draw-canvas"></canvas><button id="clear_drawing_btn" class="orange radius button" style="z-index: 6; position: absolute; bottom: 10px; left: 50%; margin-left: -45px; width: 90px;">Clear</button></div>')}b.register("DrawingConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('<div class="element-settings"><h4 class="settings-header">Drawing Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Position:</h5><div class="setting-options-container"><label for="onVideo"><input type="radio" name="positionElement" id="onVideo" value="MainBox" data-bind="checked: space"> On the Video Window (left)</label><label for="onSidebar"><input type="radio" name="positionElement" id="onSidebar" value="Sidebar" data-bind="checked: space"> On the Sidebar (right)</label></div></li><li><h5 class="setting-name">Image Description:</h5><label for="imageDesc"><input class="full-text" type="text" name="descriptionElement" id="imageDesc" placeholder="Enter a short description for this image" data-bind="value: imageDesc"></label></li>').nx(b.get(["isInAGroup"],!1),
b,{block:c},{}).w('\x3c!-- ko if: stopVideo() --\x3e<li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="continuePlaying"><input type="radio" name="pauseElement" id="continuePlaying" value="Continue" data-bind="checked: displayDurationPicker"> Show element for <div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayRemoveAfter"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div>&nbsp;seconds</label><label for="waitForPlay"><input type="radio" name="pauseElement" id="waitForPlay" value="Wait" data-bind="checked: displayDurationPicker"> Wait for user to click Play</label></div></li>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: stopVideo() --\x3e<li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="showForTime"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayDuration"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div><span>&nbsp;seconds</span></label></div></li>\x3c!-- /ko --\x3e</ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}
function c(a,b){return a.w('<li><h5 class="setting-name">Behavior:</h5><div class="setting-options-container"><label for="behaviorPlay"><input type="radio" name="behaviorElement" id="behaviorPlay" value="PlayOver" data-bind="checked: displayStopVideo"> Continue playing video</label><label for="behaviorPause"><input type="radio" name="behaviorElement" id="behaviorPause" value="Pause" data-bind="checked: displayStopVideo"> Pause video on start</label></div></li>')}b.register("DrawingSettings",d);d.__dustBody=
!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content drawn-response-content construct-pane" style="background: rgba(0, 0, 0, 0);"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div><div class="element-prompt drawn-response-prompt" notranslate><div data-placeholder="Click here to edit drawing prompt" data-bind="fancyEditable: { text: prompt, pauseOnEdit: zp, formatting: \'none\' }"></div></div><canvas class="drawing-placeholder" data-bind="canvasImage: ZAP.drawnResponsePlaceholder, canvasWidth: 316, canvasHeight: 348"></canvas><div class="drawn-response-bottom-buttons" style="z-index: 6; position: absolute; bottom: 10px; left: 50%; margin-left: -106px; width: 212px;"><button id="clear_drawing_btn" class="gray radius button" style="margin-right: 10px;" disabled>Clear</button><button id="submit_btn" class="orange radius button disabled" data-bind="tooltip: \'You can\\\'t submit responses in editing mode.\'">Submit</button></div></div>')}b.register("DrawnResponseConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="element-settings"><h4 class="settings-header">Drawn Response Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Position:</h5><div class="setting-options-container"><label for="onVideo"><input type="radio" name="positionElement" id="onVideo" value="MainBox" data-bind="checked: space"> On the Video Window (left)</label><label for="onSidebar"><input type="radio" name="positionElement" id="onSidebar" value="Sidebar" data-bind="checked: space"> On the Sidebar (right)</label></div></li></ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}b.register("DrawnResponseSettings",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content group-element-content construct-pane" data-bind="style: { backgroundColor: (activeChild() ? activeChild().backgroundColorCode : backgroundColorCode) }"><div class="element-settings-btns" style="z-index: 11;"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text" data-bind="text: $data.activeChild() ? \'Element Settings\' : \'Group Settings\'"></div></div><div class="remove-btn" data-bind="confirm: function() { $root.deleteElement(activeChild() || $data); }, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div><div class="group-element-progress-cont"><h5 class="group-element-progress"><a class="fake-link prev-arrow" data-bind="visible: activeChildIndex() > 0, click: prev"><i class="fa fa-arrow-left"></i></a><span data-bind="html: \'<var count>\' + (activeChildIndex() + 1) + \'</var> of <var count>\' + children().length + \'</var>\'"></span><a class="fake-link next-arrow" data-bind="visible: activeChildIndex() < children().length - 1, click: next"><i class="fa fa-arrow-right"></i></a></h5></div><div class="child-element-content"></div></div>')}b.register("GroupConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="element-settings"><h4 class="settings-header">Element Group Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Position:</h5><div class="setting-options-container"><label for="onVideo"><input type="radio" name="positionElement" id="onVideo" value="MainBox" data-bind="checked: space"> On the Video Window (left)</label><label for="onSidebar"><input type="radio" name="positionElement" id="onSidebar" value="Sidebar" data-bind="checked: space"> On the Sidebar (right)</label></div></li></ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}b.register("GroupSettings",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content image-screen-content construct-pane" style="padding: 0; overflow: hidden;" data-bind="style: { backgroundColor: backgroundColorCode }"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div>\x3c!-- ko if: uploadInProgress() --\x3e<div class="centered-container"><div class="centered-inner"><img src="/img/loading-bar.gif" style="display: block; margin: 0 auto;"></div></div>\x3c!-- /ko --\x3e\x3c!-- ko if: !uploadInProgress() && imageURL() --\x3e<img data-bind="image: { src: imageURL, alt: \'Uploaded image\' }, movableImageScreen: $data" style="max-width: none; display: block; margin: 0 auto; position: absolute;" class="croppable-image">\x3c!-- /ko --\x3e\x3c!-- ko if: !uploadInProgress() && !imageURL() --\x3e<div class="centered-container"><div class="centered-inner"><h2>Drag an image here</h2><form name="imageScreenUpload" action="" method="post" enctype="multipart/form-data"><input name="file" type="file" class="image-upload" data-bind="imageScreenUpload: $data" style="opacity: 0;"><input type="hidden" name="invalidate" value="true"><p>Or browse your computer: <button type="button" class="orange radius button browse-button"style="color: #fff;">Browse</button></p></form></div></div>\x3c!-- /ko --\x3e</div>')}b.register("ImageScreenConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('<div class="element-settings"><h4 class="settings-header">Image Slide Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Position:</h5><div class="setting-options-container"><label for="onVideo"><input type="radio" name="positionElement" id="onVideo" value="MainBox" data-bind="checked: space"> On the Video Window (left)</label><label for="onSidebar"><input type="radio" name="positionElement" id="onSidebar" value="Sidebar" data-bind="checked: space"> On the Sidebar (right)</label></div></li><li><h5 class="setting-name">Image Description:</h5><label for="imageDesc"><input class="full-text" type="text" name="descriptionElement" id="imageDesc" placeholder="Enter a short description for this image" data-bind="value: imageDesc"></label></li>').nx(b.get(["isInAGroup"],!1),
b,{block:c},{}).w('\x3c!-- ko if: stopVideo() --\x3e<li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="continuePlaying"><input type="radio" name="pauseElement" id="continuePlaying" value="Continue" data-bind="checked: displayDurationPicker"> Show element for <div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayRemoveAfter"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div>&nbsp;seconds</label><label for="waitForPlay"><input type="radio" name="pauseElement" id="waitForPlay" value="Wait" data-bind="checked: displayDurationPicker"> Wait for user to click Play</label></div></li>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: stopVideo() --\x3e<li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="showForTime"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayDuration"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div><span>&nbsp;seconds</span></label></div></li>\x3c!-- /ko --\x3e\x3c!-- ko if: space() === \'MainBox\' --\x3e<li><h5 class="setting-name">Background:</h5><div class="setting-options-container"><label for="clearBackground"><input type="radio" id="clearBackground" value="transparent" data-bind="checked: backgroundColor"> Transparent</label><label for="transparentBackground"><input type="radio" id="transparentBackground" value="semitransparent" data-bind="checked: backgroundColor"> Semi-transparent</label><label for="blackBackground"><input type="radio" id="blackBackground" value="black" data-bind="checked: backgroundColor"> Black</label></div></li>\x3c!-- /ko --\x3e</ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}
function c(a,b){return a.w('<li><h5 class="setting-name">Behavior:</h5><div class="setting-options-container"><label for="behaviorPlay"><input type="radio" name="behaviorElement" id="behaviorPlay" value="PlayOver" data-bind="checked: displayStopVideo"> Continue playing video</label><label for="behaviorPause"><input type="radio" name="behaviorElement" id="behaviorPause" value="Pause" data-bind="checked: displayStopVideo"> Pause video on start</label></div></li>')}b.register("ImageScreenSettings",d);
d.__dustBody=!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content jump-content construct-pane"><div class="element-settings-btns"><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div><div class="centered-container"><div class="centered-inner"><h2>Jump to Target</h2><div class="current-target" data-bind="visible: target()">Current target: <span data-bind="text: getDisplayJumpTarget()"></span></div><button type="button" class="large orange radius button select-target-button" data-bind="visible: !target(), click: function() { $root.selectingJumpTarget($data); }">Select Target</button><button type="button" class="orange radius button change-target-button" data-bind="visible: target(), click: function() { $root.selectingJumpTarget($data); }">Change Target</button><button type="button" class="orange radius button test-jump-button" data-bind="visible: target(), click: testJumpSelection">Test Jump</button></div></div></div>')}b.register("JumpConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('<div class="interactive-element-content multiple-choice-content construct-pane" data-bind="style: { backgroundColor: backgroundColorCode }"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div><form><div class="element-prompt" notranslate><div data-placeholder="Click here to write your question" data-bind="fancyEditable: { text: prompt, pauseOnEdit: zp, invertSkin: space() === \'Sidebar\' }"></div></div><ul class="square needs-rtl" data-bind="foreach: choices"><li class="choice _clearfix" notranslate><input type="radio" name="multiChoiceOptions" data-bind="value: _id" tabindex="-1" disabled><textarea class="editable" data-bind="attr: { placeholder: ZAP.translate(\'Click to edit choice\') + \' #\' + ($index() + 1) }, editable: { text: text, pauseOnEdit: zp, tabFunction: function() { return $parent.onChoiceTab($index()); } }, event: { focus: function(data, event) { $parent.choiceFocused($index(), data, event); return true; } }"></textarea><drop-down class="settings-construct _right -icon-only" data-bind="tooltip: { type: \'scoring\', text: \'Options\' }"><drop-down-option  class="feedback _clearfix" data-bind="click: function() { $root.showSettings($parents[2], \'feedback\', $parentContext.$parentContext.$index()); }">Feedback<span class="zi -feedback-indicator _right" data-bind="visible: $root.choiceHasFeedback($parents[2], $parentContext.$parentContext.$index())"></span></drop-down-option>').nx(b.getPath(!1,["restrictions",
"create","branching"]),b,{block:c},{}).w('<drop-down-option class="remove" data-bind="click: function() { $parents[2].choices.remove($parents[1]); }">Remove</drop-down-option></drop-down><drop-down class="scoring-construct _right -icon-only" params="onSelect: function(val) { $root.updateMultiChoiceAction($parent, $index(), val); }"  data-bind="tooltip: { type: \'scoring\', text: \'Scoring\' }, css: { \'-correct\': feedbackType() === \'Correct\', \'-incorrect\': feedbackType() === \'Incorrect\' }"><drop-down-option class="none" data-value="none">Not Scored</drop-down-option><drop-down-option class="correct" data-value="correct">Correct</drop-down-option><drop-down-option class="incorrect" data-value="incorrect">Incorrect</drop-down-option></drop-down></li></ul><a href="#" class="btn-pill -blue -action" data-bind="click: addChoice, visible: choices().length < 5">+ Add Choice</a><button type="submit" class="btn-pill -orange -action -disabled" data-bind="tooltip: \'You can\\\'t submit responses in editing mode.\'">Submit</button></form></div>')}
function c(a,b){return a.w('<drop-down-option class="jump _clearfix" data-bind="click: function() { $root.showSettings($parents[2], \'jump\', $parentContext.$parentContext.$index()); }">Jump To<span class="zi -feedback-indicator _right" data-bind="visible: $root.choiceHasFeedback($parents[2], $parentContext.$parentContext.$index(), \'jump\')"></span></drop-down-option>')}b.register("MultipleChoiceConstructPane",d);d.__dustBody=!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('<div class="element-settings"><h4 class="settings-header">Multiple Choice Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Position:</h5><div class="setting-options-container"><label for="onVideo"><input type="radio" name="positionElement" id="onVideo" value="MainBox" data-bind="checked: space"> On the Video Window (left)</label><label for="onSidebar"><input type="radio" name="positionElement" id="onSidebar" value="Sidebar" data-bind="checked: space"> On the Sidebar (right)</label></div></li>').nx(b.get(["isInAGroup"],!1),
b,{block:c},{}).w('\x3c!-- ko if: !stopVideo() --\x3e<li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="showForTime"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayDuration"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div><span>&nbsp;seconds</span></label></div></li>\x3c!-- /ko --\x3e\x3c!-- ko if: space() === \'MainBox\' --\x3e<li><h5 class="setting-name">Background:</h5><div class="setting-options-container"><label for="clearBackground"><input type="radio" id="clearBackground" value="transparent" data-bind="checked: backgroundColor"> Transparent</label><label for="transparentBackground"><input type="radio" id="transparentBackground" value="semitransparent" data-bind="checked: backgroundColor"> Semi-transparent</label><label for="blackBackground"><input type="radio" id="blackBackground" value="black" data-bind="checked: backgroundColor"> Black</label></div></li>\x3c!-- /ko --\x3e<li><h5 class="setting-name">Points:</h5><div class="setting-options-container"><label><span>This question is worth:</span><input type="number" min="0" max="999" step="1" class="points" data-bind="value: points"> pts</label></div></li></ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}
function c(a,b){return a.w('<li><h5 class="setting-name">Behavior:</h5><div class="setting-options-container"><label for="behaviorPlay"><input type="radio" name="behaviorElement" id="behaviorPlay" value="PlayOver" data-bind="checked: displayStopVideo"> Continue playing video</label><label for="behaviorPause"><input type="radio" name="behaviorElement" id="behaviorPause" value="Pause" data-bind="checked: displayStopVideo"> Pause video on start</label></div></li>')}b.register("MultipleChoiceSettings",
d);d.__dustBody=!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content num-response-content construct-pane" style="overflow-y: auto;" data-bind="style: { backgroundColor: backgroundColorCode }"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div><form><div class="element-prompt" notranslate><div data-placeholder="Click here to write your question" data-bind="fancyEditable: { text: prompt, pauseOnEdit: zp, invertSkin: space() === \'Sidebar\' }"></div></div><input type="number" step="any" name="numResponseAnswer" class="construct-number" placeholder="Viewers respond here" disabled><button class="btn-pill -blue _uc -scoring" data-bind="click: function() { $root.showSettings($data, \'action\'); }">Scoring</button><div class="overlay-clear"></div><button type="submit" class="orange radius button disabled" data-bind="tooltip: \'You can\\\'t submit responses in editing mode.\'">Submit</button><div class="sidebar-clear"></div></form></div>')}b.register("NumResponseConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('<div class="element-settings"><h4 class="settings-header">Numerical Response Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Position:</h5><div class="setting-options-container"><label for="onVideo"><input type="radio" name="positionElement" id="onVideo" value="MainBox" data-bind="checked: space"> On the Video Window (left)</label><label for="onSidebar"><input type="radio" name="positionElement" id="onSidebar" value="Sidebar" data-bind="checked: space"> On the Sidebar (right)</label></div></li>').nx(b.get(["isInAGroup"],!1),
b,{block:c},{}).w('\x3c!-- ko if: !stopVideo() --\x3e<li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="showForTime"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayDuration"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div><span>&nbsp;seconds</span></label></div></li>\x3c!-- /ko --\x3e\x3c!-- ko if: space() === \'MainBox\' --\x3e<li><h5 class="setting-name">Background:</h5><div class="setting-options-container"><label for="clearBackground"><input type="radio" id="clearBackground" value="transparent" data-bind="checked: backgroundColor"> Transparent</label><label for="transparentBackground"><input type="radio" id="transparentBackground" value="semitransparent" data-bind="checked: backgroundColor"> Semi-transparent</label><label for="blackBackground"><input type="radio" id="blackBackground" value="black" data-bind="checked: backgroundColor"> Black</label></div></li>\x3c!-- /ko --\x3e<li><h5 class="setting-name">Points:</h5><div class="setting-options-container"><label><span>This question is worth:</span><input type="number" min="0" max="999" step="1" class="points" data-bind="value: points"> pts</label></div></li></ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}
function c(a,b){return a.w('<li><h5 class="setting-name">Behavior:</h5><div class="setting-options-container"><label for="behaviorPlay"><input type="radio" name="behaviorElement" id="behaviorPlay" value="PlayOver" data-bind="checked: displayStopVideo"> Continue playing video</label><label for="behaviorPause"><input type="radio" name="behaviorElement" id="behaviorPause" value="Pause" data-bind="checked: displayStopVideo"> Pause video on start</label></div></li>')}b.register("NumResponseSettings",d);
d.__dustBody=!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content replay-content construct-pane"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div><div class="centered-container"><div class="centered-inner"><div class="element-prompt" notranslate><div data-placeholder="Click here to edit replay prompt" data-bind="fancyEditable: { text: text, pauseOnEdit: zp, invertSkin: space() === \'Sidebar\' }"></div></div><button type="button" class="large orange radius button replay-button -show">Replay</button><button type="button" class="large teal radius button continue-button -show">Continue</button></div></div></div>')}b.register("ReplayConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="element-settings"><h4 class="settings-header">Replay Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="showForTime"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayDuration"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div><span>&nbsp;seconds</span></label></div></li><li><h5 class="setting-name">Pause:</h5><div class="setting-options-container"><label for="pauseAtEnd"><input type="checkbox" name="pauseAtEnd" id="pauseAtEnd" data-bind="checked: pauseAtEnd"> Pause video at end of replay period</label></div></li></ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}b.register("ReplaySettings",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content text-response-content construct-pane" style="overflow-y: auto;" data-bind="style: { backgroundColor: backgroundColorCode }"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div><form><div class="element-prompt" notranslate><div data-placeholder="Click here to write your question" data-bind="fancyEditable: { text: prompt, pauseOnEdit: zp, invertSkin: space() === \'Sidebar\' }"></div></div><textarea class="response-field" placeholder="Viewers can type responses, long or short, here." disabled></textarea><button class="btn-pill -blue _uc -scoring" data-bind="click: function() { $root.showSettings($data, \'action\'); }">Scoring</button><div class="overlay-clear"></div><button type="submit" class="orange radius button disabled" data-bind="tooltip: \'You can\\\'t submit responses in editing mode.\'">Submit</button><div class="sidebar-clear"></div></form></div>')}b.register("TextResponseConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('<div class="element-settings"><h4 class="settings-header">Open Response Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Position:</h5><div class="setting-options-container"><label for="onVideo"><input type="radio" name="positionElement" id="onVideo" value="MainBox" data-bind="checked: space"> On the Video Window (left)</label><label for="onSidebar"><input type="radio" name="positionElement" id="onSidebar" value="Sidebar" data-bind="checked: space"> On the Sidebar (right)</label></div></li>').nx(b.get(["isInAGroup"],!1),
b,{block:c},{}).w('\x3c!-- ko if: !stopVideo() --\x3e<li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="showForTime"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayDuration"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div><span>&nbsp;seconds</span></label></div></li>\x3c!-- /ko --\x3e\x3c!-- ko if: space() === \'MainBox\' --\x3e<li><h5 class="setting-name">Background:</h5><div class="setting-options-container"><label for="clearBackground"><input type="radio" id="clearBackground" value="transparent" data-bind="checked: backgroundColor"> Transparent</label><label for="transparentBackground"><input type="radio" id="transparentBackground" value="semitransparent" data-bind="checked: backgroundColor"> Semi-transparent</label><label for="blackBackground"><input type="radio" id="blackBackground" value="black" data-bind="checked: backgroundColor"> Black</label></div></li>\x3c!-- /ko --\x3e<li><h5 class="setting-name">Points:</h5><div class="setting-options-container"><label><span>This question is worth:</span><input type="number" min="0" max="999" step="1" class="points" data-bind="value: points"> pts</label></div></li></ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}
function c(a,b){return a.w('<li><h5 class="setting-name">Behavior:</h5><div class="setting-options-container"><label for="behaviorPlay"><input type="radio" name="behaviorElement" id="behaviorPlay" value="PlayOver" data-bind="checked: displayStopVideo"> Continue playing video</label><label for="behaviorPause"><input type="radio" name="behaviorElement" id="behaviorPause" value="Pause" data-bind="checked: displayStopVideo"> Pause video on start</label></div></li>')}b.register("TextResponseSettings",
d);d.__dustBody=!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content text-screen-content construct-pane" style="overflow-y: auto;" data-bind="style: { backgroundColor: backgroundColorCode }"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div><div class="centered-container"><div class="centered-inner"><div class="element-prompt" notranslate><div data-placeholder="Click here to edit text slide" data-bind="fancyEditable: { text: text, pauseOnEdit: zp, invertSkin: space() === \'Sidebar\', formatting: \'all\' }"></div></div></div></div></div>')}b.register("TextScreenConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('<div class="element-settings"><h4 class="settings-header">Text Slide Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Position:</h5><div class="setting-options-container"><label for="onVideo"><input type="radio" name="positionElement" id="onVideo" value="MainBox" data-bind="checked: space"> On the Video Window (left)</label><label for="onSidebar"><input type="radio" name="positionElement" id="onSidebar" value="Sidebar" data-bind="checked: space"> On the Sidebar (right)</label></div></li>').nx(b.get(["isInAGroup"],!1),
b,{block:c},{}).w('\x3c!-- ko if: stopVideo() --\x3e<li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="continuePlaying"><input type="radio" name="pauseElement" id="continuePlaying" value="Continue" data-bind="checked: displayDurationPicker"> Show element for <div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayRemoveAfter"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div>&nbsp;seconds</label><label for="waitForPlay"><input type="radio" name="pauseElement" id="waitForPlay" value="Wait" data-bind="checked: displayDurationPicker"> Wait for user to click Play</label></div></li>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: stopVideo() --\x3e<li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="showForTime"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayDuration"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div><span>&nbsp;seconds</span></label></div></li>\x3c!-- /ko --\x3e\x3c!-- ko if: space() === \'MainBox\' --\x3e<li><h5 class="setting-name">Background:</h5><div class="setting-options-container"><label for="clearBackground"><input type="radio" id="clearBackground" value="transparent" data-bind="checked: backgroundColor"> Transparent</label><label for="transparentBackground"><input type="radio" id="transparentBackground" value="semitransparent" data-bind="checked: backgroundColor"> Semi-transparent</label><label for="blackBackground"><input type="radio" id="blackBackground" value="black" data-bind="checked: backgroundColor"> Black</label></div></li>\x3c!-- /ko --\x3e</ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}
function c(a,b){return a.w('<li><h5 class="setting-name">Behavior:</h5><div class="setting-options-container"><label for="behaviorPlay"><input type="radio" name="behaviorElement" id="behaviorPlay" value="PlayOver" data-bind="checked: displayStopVideo"> Continue playing video</label><label for="behaviorPause"><input type="radio" name="behaviorElement" id="behaviorPause" value="Pause" data-bind="checked: displayStopVideo"> Pause video on start</label></div></li>')}b.register("TextScreenSettings",d);
d.__dustBody=!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content transcript-content construct-pane" style="padding-left: 0; padding-right: 0; padding-bottom: 0;"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div>\x3c!-- ko if: $parent.transcript() --\x3e<div style="background: none; height: 100%; overflow: auto; padding-left: 10px;" notranslate><div id="transcriptContainer">\x3c!-- ko if: $parent.transcriptObject() --\x3e\x3c!-- ko foreach: $parent.transcriptObject().entries() --\x3e<div class="row original-comment transcript-entry" style="font-size: 14px; margin: 0 0 8px 0;" data-bind="css: { \'transcript-highlight\': ($index % 2) === 0 }">[<a href="/nojs" data-bind="text: ZAP.util.secondsToTimestamp(inTime()), click: function() { zp.seek(inTime()); }"></a>] <span data-bind="text: text()"></span> </div>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e\x3c!-- ko if: !$parent.transcriptObject() --\x3e<div id="transcript_loading_label" class="row original-comment"><div class="twelve columns"><h3 style="text-align: center;">Loading transcript...</h3></div></div>\x3c!-- /ko --\x3e</div></div>\x3c!-- /ko --\x3e\x3c!-- ko if: !$parent.transcript() --\x3e<div class="centered-container"><div class="centered-inner"><h3>This clip doesn\'t have subtitles yet to show as a transcript. Drag an SRT transcript here to add one.</h3><form name="transcriptUpload" action="" method="post" enctype="multipart/form-data" accept-charset="utf-8" data-bind="attr: { action: \'/ajax/videos/\' + $parent.video() + \'/transcripts\' }"><input name="subFile" type="file" class="subtitle-upload" data-bind="constructSubtitleUpload: true, click: function(data, e) {}" style="opacity: 0;"><p>Or browse your computer: <button type="button" class="orange radius button browse-button" style="color: #fff;" data-bind="click: function(data, e) { $(\'.subtitle-upload\').focus().click(); }">Browse</button></p></form></div></div>\x3c!-- /ko --\x3e</div>')}b.register("TranscriptConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="element-settings"><h4 class="settings-header">Transcript Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Duration:</h5><div class="setting-options-container"><label for="showForTime"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayDuration"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div><span>&nbsp;seconds</span></label></div></li></ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}b.register("TranscriptSettings",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content image-screen-content construct-pane" style="padding: 0; overflow: hidden; background-color: #000;"><div class="element-settings-btns"><div class="settings-btn" data-bind="click: function() { $root.showElementSettings($data); }"><div class="settings-icn"></div><div class="settings-text">Element Settings</div></div><div class="remove-btn" data-bind="confirm: $root.deleteElement, confirmMessage: \'Are you sure you want to remove this element?\'"></div></div>\x3c!-- ko if: videoClip() --\x3e<div class="centered-container"><div class="centered-inner"><div id="sideVideo" data-bind="previewPlayer: videoClip, autoplay: !$data.wasPausedOnStart, mute: zp && zp.getMute(), onVideoEnd: function() { zp.dequeueElement($data); zp.playUnlessBlocked(); }"></div></div></div>\x3c!-- /ko --\x3e\x3c!-- ko if: !videoClip() --\x3e<div class="centered-container"><div class="centered-inner"><button type="button" class="big btn-orange" data-bind="click: $root.searchForVideo">Choose Video</button></div></div>\x3c!-- /ko --\x3e</div>')}b.register("VideoConstructPane",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="element-settings video-element-settings"><h4 class="settings-header">Video Settings</h4><div class="close-btn" data-bind="closeModal: true"></div><form><ul class="element-settings-list"><li><h5 class="setting-name">Start Time:</h5><div class="setting-options-container"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayVideoInTime"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div>&nbsp;seconds</div></li><li><h5 class="setting-name">End Time:</h5><div class="setting-options-container"><div class="time-input"><div class="time-input-inner"><input name="duration" type="text" class="with-controls" required data-bind="value: displayVideoOutTime"><div class="time-steppers"><div class="time-inc-btn" data-bind="click: incDurationField"></div><div class="time-dec-btn" data-bind="click: decDurationField"></div></div></div></div>&nbsp;seconds</div></li></ul><button class="orange radius button done-button" type="button" data-bind="closeModal: true">Done</button></form></div>')}b.register("VideoSettings",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('<div class="interactive-element-content feedback-slide" data-bind="style: { backgroundColor: $data.backgroundColorCode }"><div class="slide-container"><div class="_text-center "><h3 class="_uc checkbox-feedback-header ').f(b.get(["resultIcon"],!1),b,"h").w('">').f(b.get(["resultTitle"],!1),b,"h").w("</h3>\x3c!-- ko if: $data.points() && $parents[1].tour().showPoints() && '").f(b.get(["resultTitle"],!1),b,"h").w('\' === \'Correct\' --\x3e<p class="inline-points">+ <var count data-bind="text: $data.points(), attr: { pluralize: $data.points() }"></var><span data-bind="text: ZAP.util.formatPlural($data.points(), \'pt\'), attr: { \'aria-label\': ZAP.util.formatPlural($data.points(), \'point\') }"></span></p>\x3c!-- /ko --\x3e</div><div class="checkbox-feedback-container"><div class="title">').f(b.get(["prompt"],!1),
b,"h",["s"]).w("</div>").s(b.get(["feedbacks"],!1),b,{block:c},{}).w('</div><button class="btn-pill -blue -short" data-bind="zpContinue: { player: zp, el: $data }">Continue</button></div></div>')}function c(b,c){return b.w('<div class="checkbox-feedback ').x(c.get(["checked"],!1),c,{block:a},{}).w('">').x(c.get(["checked"],!1),c,{block:e},{}).w('<div class="_clearfix"><div class="zi -').f(c.get(["feedbackIcon"],!1),c,"h").w(' _left"></div><div class="checkbox-feedback-choice _left">').f(c.get(["choiceText"],
!1),c,"h").w("</div></div>").x(c.get(["feedbackText"],!1),c,{block:g},{}).w("</div>")}function a(a,b){return a.w("-checked")}function e(a,b){return a.w('<div class="info _uc">You selected:</div>')}function g(a,b){return a.w('<div class="_clearfix"><div class="zi -feedback _left"></div><div class="checkbox-feedback-text _left">').f(b.get(["feedbackText"],!1),b,"h").w("</div></div>")}b.register("CheckboxesFeedbackSlide",d);d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=
!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content feedback-slide" data-bind="style: { backgroundColor: $data.backgroundColorCode }"><div class="slide-container"><div class="correctness-indicator"><span class="ico-correct-slide slide-icon"></span><h2 class="correct-feedback">CORRECT</h2>\x3c!-- ko if: $data.points() && $parents[1].tour().showPoints() --\x3e<p>+ <var count data-bind="text: $data.points(), attr: { pluralize: $data.points() }"></var><span data-bind="text: ZAP.util.formatPlural($data.points(), \'pt\'), attr: { \'aria-label\': ZAP.util.formatPlural($data.points(), \'point\') }"></span></p>\x3c!-- /ko --\x3e</div><p class="feedback-text" notranslate>').f(a.get(["feedbackText"],!1),
a,"h").w('</p><button class="btn-pill -blue -short" data-bind="zpContinue: { player: zp, el: $data }">Continue</button></div></div>')}b.register("CorrectFeedbackSlide",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="interactive-element-content feedback-slide" data-bind="style: { backgroundColor: $data.backgroundColorCode }"><div class="slide-container"><div class="correctness-indicator"><span class="ico-incorrect-slide slide-icon"></span><h2 class="incorrect-feedback">INCORRECT</h2></div><p class="feedback-text" notranslate>').f(a.get(["feedbackText"],!1),a,"h").w('</p><button class="btn-pill -blue -short" data-bind="zpContinue: { player: zp, el: $data }">Continue</button></div></div>')}
b.register("IncorrectFeedbackSlide",d);d.__dustBody=!0;return d})(dust);(function(b){function d(b,a){return b.w('<div class="interactive-element-content feedback-slide"><div class="slide-container"><p class="feedback-text" notranslate>').f(a.get(["feedbackText"],!1),a,"h").w('</p><button class="btn-continue" data-bind="zpContinue: { player: zp, el: $data }">Continue</button></div></div>')}b.register("NoneFeedbackSlide",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="cc-payment-area" data-bind="stopBindings: true"><div class="row"><div class="five columns"><label for="stripeName" class="with-asterisk">Full Name</label><input type="text" size="50" data-stripe="name" id="stripeName" autocompletetype="name"></div><div class="seven columns card-logos"><span class="card-icon-visa card-icon" data-bind="css: { \'disabled-card\': cardType() && cardType() !== \'visa\' }"></span><span class="card-icon-mastercard card-icon" data-bind="css: { \'disabled-card\': cardType() && cardType() !== \'mastercard\' }"></span><span class="card-icon-amex card-icon" data-bind="css: { \'disabled-card\': cardType() && cardType() !== \'amex\' }"></span><span class="card-icon-discover card-icon" data-bind="css: { \'disabled-card\': cardType() && cardType() !== \'discover\' }"></span></div></div><div class="row"><div class="eight columns"><label for="stripeNum" class="with-asterisk">Card Number</label><input type="text" size="20" data-stripe="number" id="stripeNum" autocompletetype="cc-number" data-bind="textInput: cardNumber"></div><div class="four columns"><label for="stripeCVC" class="with-asterisk">Security Code</label><input type="text" size="4" data-stripe="cvc" id="stripeCVC" autocomplete="off"><div class="cvc-help"></div></div></div><div class="row"><div class="twelve columns"><label>Expiration Date</label><div class="row"><div class="five columns"><select placeholder="month" id="stripeMonth" data-stripe="exp-month" data-bind="valueOrEmpty: false"><option value="1">01</option><option value="2">02</option><option value="3">03</option><option value="4">04</option><option value="5">05</option><option value="6">06</option><option value="7">07</option><option value="8">08</option><option value="9">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select></div><div class="three columns"><select placeholder="year" id="stripeYear" data-stripe="exp-year" data-bind="valueOrEmpty: false"><option value="2016">2016</option><option value="2017">2017</option><option value="2018">2018</option><option value="2019">2019</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option><option value="2025">2025</option></select></div><div class="four columns"></div></div></div></div></div>')}b.register("PaymentInformation",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="video-player-controls"><ul class="left-controls-section"><li class="prev"><button type="button"><span></span></button></li><li class="pause"><button type="button"><span></span></button></li><li class="play"><button type="button"><span></span></button></li><li class="next"><button type="button"><span></span></button></li></ul><ul class="right-controls-section"><li class="seekbar"><div class="seek-progress"><div class="play-head"></div></div><div class="seek-buffered"></div><div class="time"><span class="currentTime">00:00</span> / <span class="duration">00:00</span></div></li><li class="cc" data-bind="visible: curItem() && curItem().transcript()"><button type="button"><span></span></button><div class="drop-up" style="display: none;"><nav><button type="button" class="selected">Off</button><button type="button">On</button></nav></div></li><li class="volume"><button type="button"><span></span></button><div class="drop-up" style="display: none;"><div class="volume-indicator"><div></div></div></div></li><li class="rewind"><button type="button"><span></span></button></li></ul></div>\x3c!-- /.video-player-controls --\x3e')}b.register("ZPControlBar",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,d){return b.w("(function() {var c = $('<link>');c.attr('rel', 'stylesheet').attr('type', 'text/css').attr('href', '//asset.zendesk.com/external/zenbox/v2.6/zenbox.css');$('head').append(c);$.ajax({url: '//asset.zendesk.com/external/zenbox/v2.6/zenbox.js',dataType: 'script',cache: true,success: function() {Zenbox.init(").x(d.getPath(!1,["user","community","customSupportConfig","zenboxConfig"]),d,{"else":c,block:a},{}).w(");}})})();")}function c(a,b){return a.w("{dropboxID: \"20196685\",url: \"https://zaption.zendesk.com\",tabTooltip: \"Help\",tabImageURL: 'https://p4.zdassets.com/external/zenbox/images/tab_help_right.png',tabColor: '#1F4B5F',tabPosition: 'Right',requester_name: '").f(b.getPath(!1,
["user","name"]),b,"h",["j","s"]).w("',requester_email: '").f(b.getPath(!1,["user","email"]),b,"h",["j","s"]).w("'}")}function a(a,b){return a.f(b.getPath(!1,["user","community","customSupportConfig","zenboxConfig"]),b,"h",["zs","s"])}b.register("ZendeskFeedbackTab",d);d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('(function() {window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(c){n=document.domain,r.src=\'javascript:var d=document.open();d.domain="\'+n+\'";void(0);\',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write(\'<body onload="document._l();">\'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","zaption.zendesk.com");').x(b.get(["localizeTo"],!1),
b,{block:c},{}).w("zE(function() {zE.identify({name: '").f(b.getPath(!1,["user","name"]),b,"h",["j","s"]).w("',email: '").f(b.getPath(!1,["user","email"]),b,"h",["j","s"]).w("',username: '").f(b.getPath(!1,["user","username"]),b,"h",["j","s"]).w("'});});})();")}function c(a,b){return a.w("zE(function() {zE.setLocale('").f(b.get(["localizeTo"],!1),b,"h",["j","s"]).w("');});")}b.register("ZendeskWidget",d);d.__dustBody=!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="table-container"><table class="responsive-table"><thead><tr><th><span class="zaption-logo" aria-label="Zaption"></span></th><th>').f(a.getPath(!1,["pricing","individual","smallPlan","name"]),a,"h").w("</th><th>").f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w("</th><th>").f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w("</th><th>").f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('</th></tr></thead><tbody><tr class="-title"><td class="main" data-label=""><b>Interactive Lessons</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Registered authors can create unlimited video lessons to share with viewers and track their progress.\', type: \'right\' }"><b>Author Licenses</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('">1</td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('">1</td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('">4</td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('">Team Account</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Quickly add 11 different interactive elements to online videos such as text, images, questions, and discussions.\', type: \'right\' }"><b>Full Interactive Authoring</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Create and share unlimited video lessons with your viewers. See data restrictions.\', type: \'right\' }"><b>Unlimited Publishing</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Watch video lessons together on the big screen as viewers submit responses from any device.\', type: \'right\' }"><b>Present Live</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Viewers can access lessons via our free iPad/iPhone app or use the Chrome browser on Android tablets. \', type: \'right\' }"><b>Mobile Access for Viewers</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr class="-title"><td class="main" data-label=""><b>Learning Analytics</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Hold viewers accountable. See who watched your lesson, how long they watched, how many questions they answered, and more.\', type: \'right\' }"><b>Basic Lesson Analytics</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'See what viewers are thinking as they watch. View submitted responses; review individual submissions by question or individuals.\', type: \'right\' }"><b>Detailed Lesson Analytics</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('">Preview first 5 viewers</td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('">Access data for 50 viewers<br><span class="footnote">(+$6/yr per addtl viewer)</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('">Access data for 150 viewers<br><span class="footnote">(+$5/yr per addtl viewer)</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan",
"name"]),a,"h").w('">Access data for 500 viewers<br><span class="footnote">(+$3/yr per addtl viewer)</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Filter viewer responses and download all lesson data into a CSV file.\', type: \'right\' }"><b>Filter &amp; Download Data</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,
["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr class="-title"><td class="main" data-label=""><b>Video Content</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Find, copy, and customize ready-to-use video lessons from the public Zaption Gallery.\', type: \'right\' }"><b>Ready-to Use Video Lessons</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Easily find public videos on YouTube or Vimeo, then trim and reorder them in your own interactive lesson.\', type: \'right\' }"><b>YouTube and Vimeo Videos</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Access 1.8 million high quality instructional video clips from AP News, Getty Images, and more. New content added daily!\', type: \'right\' }"><b>boclips Video Library</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><a href="http://boclips.com" target="_blank">Limited Collection</a></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><a href="http://boclips.com" target="_blank">Limited Collection</a></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><a href="http://boclips.com" target="_blank">Limited Collection</a></td><td data-label="').f(a.getPath(!1,["pricing","business",
"bigPlan","name"]),a,"h").w('">Free Premium access for first month; annual fee to continue</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Record videos from your webcam or upload your own videos into your private Zaption account. Option to buy more upload time.\', type: \'right\' }"><b>Private Video Upload</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,
["pricing","business","smallPlan","name"]),a,"h").w('">5 hrs/yr</td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('">20 hrs/yr</td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('">75 hrs/yr shared</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Connect your Kaltura, Brightcove or other video library to Zaption. \', type: \'right\' }"><b>Video Server Integration</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('">Starting at $750/yr</td></tr><tr class="-title"><td class="main" data-label=""><b>User Management &amp; Integrations</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Login with an existing Google Apps account; share lessons to Google Classroom; install Zaption with one click from the Chrome Store.\', type: \'right\' }"><b>Google Apps Integration</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Integrate with Canvas, Blackboard, Desire2Learn, Moodle or any LMS that uses LTI.\', type: \'right\' }"><b>LMS Integration (LTI)</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Allow multiple editors per video lesson and restrict access to specific registered users or groups.\', type: \'right\' }"><b>Advanced Sharing &amp; Permissions</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Create groups to share video lessons with teams, classes, workshop groups; track group activity across assignments.\', type: \'right\' }"><b>Groups &amp; Group Analytics</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Tools to manage users, roles, and permissions across your organization.\', type: \'right\' }"><b>Site Management Tools</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Reporting and analytics about Zaption usage across your organization.\', type: \'right\' }"><b>Site-Wide Reports</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Use Zaption\\\'s API to create custom reports, pull data into your app, and more.\', type: \'right\' }"><b>API Access</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span><br><a href="/api">learn more</a></td></tr><tr class="-title"><td class="main" data-label=""><b>Customizations</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Remove the Zaption logo from video lessons embedded in your LMS or other websites.\', type: \'right\' }"><b>Unbranded Player</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Ability to customize the video lesson player to include your own logo, colors, and more.\', type: \'right\' }"><b>Custom Branded Player</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('">$1,200/yr</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Need a custom SSO solution, a new API call, or a new feature? Contact us.\', type: \'right\' }"><b>Custom Development</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><a href="/request">Request Info</a></td></tr><tr class="-title"><td class="main" data-label=""><b>Support &amp; Training</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'World-class service to help you get the most from Zaption.\', type: \'right\' }"><b>Support</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('">Help Center, Support Tickets</td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('">Priority Email</td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('">Priority Email</td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('">Dedicated Account Manager</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Step-by-step online workshop to help instructors and instructional designers start creating great interactive videos.\', type: \'right\' }"><b>Online Workshop for Teachers</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Personalized online training to get your org up and running in minutes.\', type: \'right\' }"><b>Admin Training</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Personalized onsite training for instructors and instructional designers.\', type: \'right\' }"><b>Onsite Professional Development</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><a href="/request">Request Info</a></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Zaption\\\'s design team can produce professional video, interactive curriculum, provide feedback on your content, and more. Contact us.\', type: \'right\' }"><b>Content Design Services</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('"><a href="/request">Request Info</a></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Flexibile payment options for individuals and organizations.\', type: \'right\' }"><b>Payment</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Free plan">-</span></td><td data-label="').f(a.getPath(!1,["pricing","business","smallPlan","name"]),a,"h").w('">Credit Card</td><td data-label="').f(a.getPath(!1,["pricing","business","medPlan","name"]),a,"h").w('">Credit Card, ACH Transfer, PO, Check</td><td data-label="').f(a.getPath(!1,["pricing","business","bigPlan","name"]),a,"h").w('">Credit Card, ACH Transfer, PO, Check</td></tr></tbody></table></div>')}b.register("pricingTableBusiness",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="table-container"><table class="responsive-table"><thead><tr><th><span class="zaption-logo" aria-label="Zaption"></span></th><th>').f(a.getPath(!1,["pricing","individual","smallPlan","name"]),a,"h").w("</th><th>").f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w("</th><th>").f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w("</th><th>").f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('</th></tr></thead><tbody><tr class="-title"><td class="main" data-label=""><b>Interactive Lessons</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Registered authors can create unlimited video lessons to share with students and track their progress.\', type: \'right\' }"><b>Author Licenses</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('">1</td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('">1</td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('">5</td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('">15+<br><a href="/estimate#highered">Get an estimate</a></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Quickly add 11 different interactive elements to online videos such as text, images, questions, and discussions.\', type: \'right\' }"><b>Full Interactive Authoring</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Create and share unlimited video lessons with all students in instructor-led classes.\', type: \'right\' }"><b>Unlimited Students</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Watch video lessons together on the big screen as students submit responses from any device.\', type: \'right\' }"><b>Present Live</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Students can access lessons via our free iPad/iPhone app or use the Chrome browser on Android tablets.\', type: \'right\' }"><b>Mobile Access for Students</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr class="-title"><td class="main" data-label=""><b>Learning Analytics</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Hold students accountable. See who watched your lesson, how long they watched, how many questions they answered, and more.\', type: \'right\' }"><b>Basic Lesson Analytics</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'See what students are thinking as they watch. View every response submitted by your students; review submissions by question or by individual student.\', type: \'right\' }"><b>Detailed Lesson Analytics</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('">Preview first 5 students</td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('">ALL student data</td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('">ALL student data</td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('">ALL student data</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Filter student responses and download all lesson data into a CSV file.\', type: \'right\' }"><b>Filter &amp; Download Data</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr class="-title"><td class="main" data-label=""><b>Video Content</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Find, copy, and customize ready-to-use video lessons from the public Zaption Gallery.\', type: \'right\' }"><b>Ready-to Use Video Lessons</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Easily find public videos on YouTube or Vimeo, then trim and reorder them in your own interactive lesson.\', type: \'right\' }"><b>YouTube and Vimeo Videos</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Access 1.8 million high quality instructional video clips from AP News, Getty Images, and more. New content added daily!\', type: \'right\' }"><b>boclips Video Library</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><a href="http://boclips.com" target="_blank">Limited Collection</a></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><a href="http://boclips.com" target="_blank">Limited Collection</a></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><a href="http://boclips.com" target="_blank">Limited Collection</a></td><td data-label="').f(a.getPath(!1,["pricing","highered",
"bigPlan","name"]),a,"h").w('">Free Premium access for first month; annual fee to continue</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Record videos from your webcam or upload your own videos into your private Zaption account. Option to buy more upload time.\', type: \'right\' }"><b>Private Video Upload</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,
["pricing","highered","smallPlan","name"]),a,"h").w('">3 hrs/yr</td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('">15 hrs/yr</td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('">50 hrs/yr shared</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Connect your Kaltura, Brightcove or other video library to Zaption. \', type: \'right\' }"><b>Video Server Integration</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('">Starting at $750/yr</td></tr><tr class="-title"><td class="main" data-label=""><b>User Management &amp; Integrations</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Login with an existing Google Apps account; share lessons to Google Classroom; install Zaption with one click from the Chrome Store.\', type: \'right\' }"><b>Google Apps Integration</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Integrate with Canvas, Blackboard, Desire2Learn, Moodle or any LMS that uses LTI.\', type: \'right\' }"><b>LMS Integration (LTI)</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label=" Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Allow multiple editors per video lesson and restrict access to specific registered users or groups.\', type: \'right\' }"><b>Advanced Sharing &amp; Permissions</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Create groups to share video lessons with teams and classes; track group activity across assignments.\', type: \'right\' }"><b>Groups &amp; Group Analytics</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Tools to manage users, roles, and permissions across your organization.\', type: \'right\' }"><b>Site Management Tools</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Reporting and analytics about Zaption usage across your organization.class="yes" \', type: \'right\' }"><b>Site-Wide Reports</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Use Zaption\\\'s API to create custom reports, pull data into your app, and more.\', type: \'right\' }"><b>API Access</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span><br><a href="/api">learn more</a></td></tr><tr class="-title"><td class="main" data-label=""><b>Customizations</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Remove the Zaption logo from video lessons embedded in your LMS or other websites.\', type: \'right\' }"><b>Unbranded Player</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Option to customize the video lesson player to include your own logo, colors, and more.\', type: \'right\' }"><b>Custom Branded Player</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('">$1,200/yr</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Need a custom SSO solution, a new API call, or a new feature? Contact us.\', type: \'right\' }"><b>Custom Development</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><a href="/request">Request Info</a></td></tr><tr class="-title"><td class="main" data-label=""><b>Support &amp; Training</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'World-class service to help you get the most from Zaption.\', type: \'right\' }"><b>Support</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('">Help Center, Support Tickets</td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('">Priority Email</td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('">Priority Email</td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('">Dedicated Account Manager</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Fun, step-by-step online workshop to help instructors and instructional designers start creating great interactive videos.\', type: \'right\' }"><b>Online Workshop for Teachers</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Personalized online training to get you up and running in minutes.\', type: \'right\' }"><b>Admin Training</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Personalized onsite training for instructors and instructional designers.\', type: \'right\' }"><b>Onsite Professional Development</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><a href="/request">Request Info</a></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Zaption\\\'s design team can produce professional video, interactive curriculum, provide feedback on your content, and more. Contact us.\', type: \'right\' }"><b>Content Design Services</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('"><a href="/request">Request Info</a></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Flexibile payment options for individuals and organizations.\', type: \'right\' }"><b>Payment</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Free plan">-</span></td><td data-label="').f(a.getPath(!1,["pricing","highered","smallPlan","name"]),a,"h").w('">Credit Card</td><td data-label="').f(a.getPath(!1,["pricing","highered","medPlan","name"]),a,"h").w('">Credit Card, ACH Transfer, PO, Check</td><td data-label="').f(a.getPath(!1,["pricing","highered","bigPlan","name"]),a,"h").w('">Credit Card, ACH Transfer, PO, Check</td></tr></tbody></table></div>')}b.register("pricingTableHighered",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div class="table-container"><table class="responsive-table"><thead><tr><th><span class="zaption-logo" aria-label="Zaption"></span></th><th>').f(a.getPath(!1,["pricing","individual","smallPlan","name"]),a,"h").w("</th><th>").f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w("</th><th>").f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w("</th><th>").f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('</th></tr></thead><tbody><tr class="-title"><td class="main" data-label=""><b>Interactive Lessons</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Registered authors can create unlimited video lessons to share with students and track their progress.\', type: \'right\' }"><b>Author Licenses</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('">1</td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('">1</td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('">5</td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('">15+<br><a href="/estimate#k12">Get an estimate</a></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Quickly add 11 different interactive elements to online videos such as text, images, questions, and discussions.\', type: \'right\' }"><b>Full Interactive Authoring</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Create and share unlimited video lessons with all students in instructor-led classes.\', type: \'right\' }"><b>Unlimited Students</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Watch video lessons together on the big screen as students submit responses from any device.\', type: \'right\' }"><b>Present Live</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Students can access lessons via our free iPad/iPhone app or use the Chrome browser on Android tablets.\', type: \'right\' }"><b>Mobile Access for Students</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr class="-title"><td class="main" data-label=""><b>Learning Analytics</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Hold students accountable. See who watched your lesson, how long they watched, how many questions they answered, and more.\', type: \'right\' }"><b>Basic Lesson Analytics</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'See what students are thinking as they watch. View every response submitted by your students; review submissions by question or by individual student.\', type: \'right\' }"><b>Detailed Lesson Analytics</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('">Preview first 5 students</td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('">ALL student data</td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('">ALL student data</td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('">ALL student data</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Filter student responses and download all lesson data into a CSV file.\', type: \'right\' }"><b>Filter &amp; Download Data</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr class="-title"><td class="main" data-label=""><b>Video Content</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Find, copy, and customize ready-to-use video lessons from the public Zaption Gallery.\', type: \'right\' }"><b>Ready-to Use Video Lessons</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Easily find public videos on YouTube or Vimeo, then trim and reorder them in your own interactive lesson.\', type: \'right\' }"><b>YouTube and Vimeo Videos</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Access 1.8 million high quality educational video clips from AP News, Getty Images, and more. New content added daily!\', type: \'right\' }"><b>boclips Video Library</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><a href="http://boclips.com" target="_blank">Limited Collection</a></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><a href="http://boclips.com" target="_blank">Limited Collection</a></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><a href="http://boclips.com" target="_blank">Limited Collection</a></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),
a,"h").w('">Free Premium access for first month; annual fee to continue</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Record videos from your webcam or upload your own videos into your private Zaption account. Option to buy more upload time.\', type: \'right\' }"><b>Private Video Upload</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,
["pricing","k12","smallPlan","name"]),a,"h").w('">2 hrs/yr</td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('">10 hrs/yr</td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('">30 hrs/yr shared</td></tr><tr class="-title"><td class="main" data-label=""><b>User Management &amp; Integrations</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Login with an existing Google Apps account; share lessons to Google Classroom; install Zaption with one click from the Chrome Store.\', type: \'right\' }"><b>Google Apps Integration</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Integrate with Canvas, Blackboard, Schoology, Moodle or any LMS that uses LTI.\', type: \'right\' }"><b>LMS Integration (LTI)</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Allow multiple editors per video lesson and restrict access to specific registered users or groups.\', type: \'right\' }"><b>Advanced Sharing &amp; Permissions</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Create groups to share video lessons with teams and classes; track group activity across assignments.\', type: \'right\' }"><b>Groups &amp; Group Analytics</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Tools to manage users, roles, and permissions across your organization.\', type: \'right\' }"><b>Site Management Tools</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Reporting and analytics about Zaption usage across your organization.\', type: \'right\' }"><b>Site-Wide Reports</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr class="-title"><td class="main" data-label=""><b>Support &amp; Training</b></td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td><td class="sub" data-label=""> </td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'World-class service to help you get the most from Zaption.\', type: \'right\' }"><b>Support</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('">Help Center, Support Tickets</td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('">Priority Email</td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('">Priority Email</td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('">Dedicated Account Manager</td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Fun, step-by-step online workshop to help teachers start creating great interactive videos.\', type: \'right\' }"><b>Online Workshop for Teachers</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Personalized online training to get you up and running in minutes.\', type: \'right\' }"><b>Admin Training</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><span class="yes" aria-label="Included">\u2713</span></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Personalized onsite training for teachers, curriculum specialists, and ed tech leaders.\', type: \'right\' }"><b>Onsite Professional Development</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('"><span aria-label="Not Included">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('"><a href="/request">Request Info</a></td></tr><tr><td class="-featured" data-label="" data-bind="tooltip: { text: \'Multiple payment options for individuals and schools.\', type: \'right\' }"><b>Payment</b><span class="zi -info"></span></td><td data-label="').f(a.getPath(!1,
["pricing","individual","smallPlan","name"]),a,"h").w('"><span aria-label="Free plan">-</span></td><td data-label="').f(a.getPath(!1,["pricing","k12","smallPlan","name"]),a,"h").w('">Credit Card</td><td data-label="').f(a.getPath(!1,["pricing","k12","medPlan","name"]),a,"h").w('">Credit Card, ACH Transfer, PO, Check</td><td data-label="').f(a.getPath(!1,["pricing","k12","bigPlan","name"]),a,"h").w('">Credit Card, ACH Transfer, PO, Check</td></tr></tbody></table></div>')}b.register("pricingTableK12",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div data-bubble="exportWithWebhook" class="bubble"><span data-bind="text: name"></span><form class="webhook-export-form _align-inline-blocks" data-bind="submit: function(el) { $data.submit(el); }"><label class="_uc">Webhook url</label><input type="text" name="webhookUrl" placeholder="http://"><button type="submit" class="btn-pill -orange -sm _uc">Save</button></form></div>')}b.register("export-with-webhook",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){b=b.shiftBlocks(m);return a.p("modals/settings-template.dust",b,b,{})}function c(a,b){b.shiftBlocks(m);return a.w("adminApplyCoupon")}function a(a,b){b.shiftBlocks(m);return a.w("Apply Coupon")}function e(a,b){b.shiftBlocks(m);return a}function g(a,b){b.shiftBlocks(m);return a.w('<form method="post" data-bind="submit: applyCoupon">')}function h(a,b){b.shiftBlocks(m);return a.w('<label class="title-text">Quick Add Pro</label><select name="quickCoupon"><option value="quick7">7 days</option><option value="quick14">14 days</option><option value="quick30">30 days</option><option value="quick60">60 days</option><option value="quick90">90 days</option><option value="quick365">1 year</option><option value="quick730">2 years</option></select><label class="title-text">Or enter a coupon code:</label><input type="text" name="couponCode" placeholder="Type the coupon code here">')}
function k(a,b){b.shiftBlocks(m);return a.w('<button class="btn-orange" type="submit">Apply</button>')}b.register("admin-add-coupon",d);var m={modalId:c,modalTitle:a,modalContentClass:e,beforeHeader:g,modalContent:h,modalFooter:k};d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=!0;h.__dustBody=!0;k.__dustBody=!0;return d})(dust);
(function(b){function d(b,d){return b.w('<div role="alertdialog" aria-labelledby="alertText" class="small reveal-modal zp-modal zp-alert" style="text-align: center;"><p id="alertText">').x(d.getPath(!1,["options","allowHTML"]),d,{"else":c,block:a},{}).w("</p>").nx(d.get(["isForced"],!1),d,{block:e},{}).w("</div>")}function c(a,b){return a.f(b.get(["message"],!1),b,"h")}function a(a,b){return a.f(b.get(["message"],!1),b,"h",["s"])}function e(a,b){return a.w('<button class="alert-close-button btn-orange">OK</button>')}
b.register("alert",d);d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" aria-labelledby="selectedViewerName" class="reveal-modal gentle wide less-padding" id="viewUser">\x3c!-- ko if: $root.selectedViewer() --\x3e\x3c!-- ko with: $root.selectedViewer --\x3e<div class="row" notranslate><div class="twelve"><div class="modal-header"><h4 id="selectedViewerName" class="_left" data-bind="text: fullName || \'Anonymous Viewer\'"></h4></div></div></div><div class="row viewer-stats"><div data-bind="class: $data.score === undefined ? \'fifth\' : \'sixth\'"><h3 data-bind="text: $data.responseCount" ignore></h3><h6>Responses</h6></div>\x3c!-- ko if: $data.score !== undefined --\x3e<div class="sixth"><h3 data-bind="text: $data.score" ignore></h3><h6>Score</h6></div>\x3c!-- /ko --\x3e<div data-bind="class: $data.score === undefined ? \'fifth\' : \'sixth\'"><h3 data-bind="text: $data.lastResponseDate || \'N/A\'" ignore></h3><h6>Last Response</h6></div><div data-bind="class: $data.score === undefined ? \'fifth\' : \'sixth\'"><h3 data-bind="text: $data.totalViewtime" ignore></h3><h6>Total Time</h6></div><div data-bind="class: $data.score === undefined ? \'fifth\' : \'sixth\'"><h3 data-bind="text: $data.views" ignore></h3><h6>Views</h6></div><div data-bind="class: $data.score === undefined ? \'fifth\' : \'sixth\'"><h3 data-bind="text: $data.rating" ignore></h3><h6>Rating</h6></div></div><img class="loading-bar" src="').h("dactify",a,
{},{path:"/img/loading-bar.gif"},"h").w('" data-bind="visible: loading">\x3c!-- ko if: $data.responsesShown --\x3e<table cellspacing="0" class="zaption-grid left-align no-margin viewer-responses-grid" data-bind="ZaptionGrid: elementsWithResponses, ZaptionGridHeaders: $root.viewerResponseHeader, visible: !loading() && elementsWithResponses().length > 0"></table>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: $data.responsesShown --\x3e<div class="alert -warning">More than <var count data-bind="text: restrictions.analytics.allowedViewersNum, attr: { pluralize: restrictions.analytics.allowedViewersNum }"></var> viewers have started this lesson. <a href="/settings#plan">Upgrade to see data from more than <var count data-bind="text: restrictions.analytics.allowedViewersNum, attr: { pluralize: restrictions.analytics.allowedViewersNum }"></var> viewers.</a></div>\x3c!-- /ko --\x3e<div class="analytics-delete-user _clearfix"><a href="#" class="_right" data-bind="click: $root.removeViewerData">Delete from Analytics</a></div>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e<button class="modal-close close-reveal-modal" aria-label="Close"></button></div>')}
b.register("analytics-view-user",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="alertdialog" aria-labelledby="removeGuestTitle" class="gentle fixed-width reveal-modal" id="deleteGuest"><h5 id="removeGuestTitle">Remove guests from community</h5><p><var data-bind="text: $root.selectedGuests().length, attr: { pluralize: $root.selectedGuests().length }" numGuests></var> guests will be removed.</p><form method="POST" data-bind="submit: removeGuests"><button type="submit" class="btn-orange">Remove</button></form><button class="modal-close close-reveal-modal" aria-label="Close"></button></div>')}b.register("community-guest-delete-warning",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){b=b.shiftBlocks(h);return a.p("modals/settings-template.dust",b,b,{})}function c(a,b){b.shiftBlocks(h);return a.w("deleteMember")}function a(a,b){b.shiftBlocks(h);return a.w("Remove members from community")}function e(a,b){b.shiftBlocks(h);return a.w('<p class="_text-center"><var data-bind="text: $root.selectedMembers().length, attr: { pluralize: $root.selectedMembers().length }" numMembers></var> member(s) will be removed from your community.</p><form method="POST" data-bind="submit: removeMembers" class="strong-form _text-center"><label for="removeCompletely"><input type="checkbox" name="remove" id="removeCompletely"> Also delete them from Zaption completely. <strong>This is not reversible.</strong></label><br><button type="submit" class="btn-pill -orange -wide">Remove</button></form>')}function g(a,
b){b.shiftBlocks(h);return a}b.register("community-member-delete-warning",d);var h={modalId:c,modalTitle:a,modalContent:e,modalFooter:g};d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" aria-labelledby="addMemberModalTitle" class="reveal-modal user-modal" id="communityMember"><div class="user-header"><h3 id="addMemberModalTitle" data-bind="text: memberModalType() === \'add\' ? \'Add a User\' : \'Edit User\'"></h3></div><div><div class="user-body"><form method="POST" class="custom standard" data-bind="submit: memberModalType() === \'add\' ? addMember : editMember, with: $root.targetMember" autocomplete="off"><input style="display: none;" type="text" name="fakeusernameremembered"><input style="display: none;" type="password" name="fakepasswordremembered"><label for="firstName">First Name:</label><input type="text" name="firstName" id="firstName" data-bind="value: firstName" maxlength="50"><label for="lastName">Last Name:</label><input type="text" name="lastName" id="lastName" data-bind="value: lastName" maxlength="50"><label for="memberPassword">Password:</label><input type="password" name="password" id="memberPassword" data-bind="attr: { placeholder: $root.memberModalType() === \'edit\' ? \'Type a password to replace the current password\' : \'\'}"><label for="memberEmail">Email:</label><input type="text" name="email" id="memberEmail" data-bind="value: email"><div><label for="memberRole">Role:</label><select name="orgPosition" id="memberRole" data-bind="valueOrEmpty: adjustedOrgPosition"><option value="student">Student</option><option value="instructor">Instructor</option></select></div><div><label for="role">Account Type:</label><select name="role" id="role" data-bind="valueOrEmpty: adjustedRole"><option value="author">Pro Author</option><option value="viewer">View Only</option><option value="admin">Community Admin</option></select></div><button type="submit" class="btn-orange" data-bind="text: $root.memberModalType() === \'add\' ? \'Add User\' : \'Save\'"></button><button type="button" class="btn-teal" data-bind="closeModal: true">Cancel</button></form></div></div></div>')}b.register("community-member",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,d){return b.w('<div role="alertdialog" aria-labelledby="zaptionConfirmModalTitle" class="reveal-modal small gentle zp-modal ').x(d.get(["bottomBarText"],!1),d,{block:c},{}).w('"><form ').x(d.get(["confirmPostURL"],!1),d,{block:a},{}).w(">").x(d.get(["title"],!1),d,{block:e},{}).x(d.get(["titleHTML"],!1),d,{block:g},{}).x(d.get(["prompt"],!1),d,{block:h},{}).x(d.get(["promptHTML"],!1),d,{block:m},{}).s(d.get(["hiddenFields"],!1),d,{block:n},{}).w('<div class="btns-row').x(d.get(["wideButtons"],
!1),d,{block:p},{}).w('"><button type="button" class="btn-teal cancel-btn">').x(d.get(["cancelText"],!1),d,{"else":f,block:q},{}).w("</button>").nx(d.get(["confirmURL"],!1),d,{"else":r,block:t},{}).w('</div><input type="hidden" name="_csrf" value="').f(d.get(["csrf"],!1),d,"h").w('"></form>').x(d.get(["bottomBarText"],!1),d,{block:w},{}).w("</div>")}function c(a,b){return a.w("with-bottom-bar")}function a(a,b){return a.w('method="post" action="').f(b.get(["confirmPostURL"],!1),b,"h").w('"')}function e(a,
b){return a.w('<h4 id="zaptionConfirmModalTitle" class="confirm-modal-title">').f(b.get(["title"],!1),b,"h").w("</h4>")}function g(a,b){return a.w('<h4 id="zaptionConfirmModalTitle" class="confirm-modal-title">').f(b.get(["titleHTML"],!1),b,"h",["s"]).w("</h4>")}function h(a,b){return a.w("<p ").nx(b.get(["title"],!1),b,{block:k},{}).w(' class="confirm-modal-prompt">').f(b.get(["prompt"],!1),b,"h").w("</p>")}function k(a,b){return a.w('id="zaptionConfirmModalTitle"')}function m(a,b){return a.w("<p ").nx(b.get(["title"],
!1),b,{block:l},{}).w(' class="confirm-modal-prompt">').f(b.get(["promptHTML"],!1),b,"h",["s"]).w("</p>")}function l(a,b){return a.w('id="zaptionConfirmModalTitle"')}function n(a,b){return a.w('<input type="hidden" name="').f(b.get(["name"],!1),b,"h").w('" value="').f(b.get(["value"],!1),b,"h").w('">')}function p(a,b){return a.w(" btns-wide")}function f(a,b){return a.w("Cancel")}function q(a,b){return a.f(b.get(["cancelText"],!1),b,"h")}function r(a,b){return a.w('<a href="').f(b.get(["confirmURL"],
!1),b,"h").w('" class="btn-orange">').x(b.get(["confirmText"],!1),b,{"else":u,block:s},{}).w("</a>")}function u(a,b){return a.w("Confirm")}function s(a,b){return a.f(b.get(["confirmText"],!1),b,"h")}function t(a,b){return a.w('<button type="submit" class="btn-orange">').x(b.get(["confirmText"],!1),b,{"else":v,block:x},{}).w("</button>")}function v(a,b){return a.w("Confirm")}function x(a,b){return a.f(b.get(["confirmText"],!1),b,"h")}function w(a,b){return a.w('<div class="bottom-bar"><p>').f(b.get(["bottomBarText"],
!1),b,"h",["s"]).w("</p></div>")}b.register("confirmation",d);d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=!0;h.__dustBody=!0;k.__dustBody=!0;m.__dustBody=!0;l.__dustBody=!0;n.__dustBody=!0;p.__dustBody=!0;f.__dustBody=!0;q.__dustBody=!0;r.__dustBody=!0;u.__dustBody=!0;s.__dustBody=!0;t.__dustBody=!0;v.__dustBody=!0;x.__dustBody=!0;w.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div id="elementSettingsModal" class="small reveal-modal element-settings-modal"></div>')}b.register("element-settings-placeholder",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" class="fixed-width reveal-modal tour-modal export-data" id="exportData"><div class="modal-header"><h4 id="modalTitle" class="modal-title">Export Data</h4><button type="button" class="settings-close" aria-label="Close dialog" data-bind="closeModal: true">&times;</button></div><div class="modal-content"><div class="modal-content-block"><p>Zaption is joining Workday and sadly the platform will be shutting down on September 30th, 2016.</p><p>We realize this might be frustrating if you have invested time into creating and sharing Zaption lessons. We want to make your transition as painless as possible.</p></div><h3>Export Data</h3><div class="modal-content-block"><h4>Lessons</h4><p>You can download all your lessons as PDF or as a standalone lesson</p><div class="_align-inline-blocks"><button class="btn-pill -dark-orange -min">PDF</button><div class="group-btn-pill"><button class="btn-pill -dark-orange" data-bind="click: function() { ZAP.nav.exportAllLessons(); }">Standalone Lesson</button><button class="btn-pill -dark-orange -svg" data-bind="bubble: \'exportWithWebhook\', data: { submit: ZAP.nav.exportAllLessons }">').h("svg",a,
{},{icon:"webhook"},"h").w('</button></div></div></div><div class="modal-content-block"><h4>Response data</h4><p>You can download all Student Response and Viewing Data as PDF or as CSV</p><button class="btn-pill -dark-orange -min" disabled data-bind="tooltip: \'Coming soon!\'">PDF</button><button class="btn-pill -dark-orange -min" data-bind="click: function() { ZAP.nav.exportAllLessonResponsesCSV(); }">CSV</button></div></div></div>')}b.register("export-data",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" aria-labelledby="joinGroupModalTitle" class="gentle fixed-width reveal-modal" id="joinGroup"><p class="lead" id="joinGroupModalTitle">Please enter the group code here:</p><form data-bind="submit: function(form) { if (!form.code.value.trim()) { return; } form.action = \'/groups/invite/\' + form.code.value; form.method = \'POST\'; form.submit(); }"><input type="text" name="code" placeholder="Enter Your Code Here"><div class="btns-row"><button type="submit" class="btn-orange">Join</button><button type="button" class="btn-teal" data-bind="closeModal: true">Cancel</button></div><input type="hidden" name="_csrf" value="').f(a.get(["csrf"],
!1),a,"h").w('"></form><button class="modal-close close-reveal-modal" aria-label="Close"></button></div>')}b.register("group-join",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" aria-labelledby="addTourToGroupTitle" class="add-tour-modal reveal-modal tour-find-browse-page"><button class="modal-close close-reveal-modal" aria-label="Close"></button><div class="application-container" style="display: none"><div class="tour-find-tour-second-bar"><div class="row"><div class="six columns header-container"><h3 id="addTourToGroupTitle">Add Lesson to Group</h3></div><div class="six columns"><em class="right info-box">Group lessons are view-only by default <span class="info-icon" data-bind="tooltip: { text: \'To allow group editing privileges, visit each lesson\\\'s access settings\' }"></span></em></div></div></div><div class="tour-find-tour-top-bar"><form class="tour-find-search-bar" data-bind="submit: search"><input type="text" name="searchText" placeholder="Search"></form><h6 class="tour-find-title"><a class="fake-link" data-bind="click: resetTours, visible: showReset">My Lessons:&nbsp;</a><span data-bind="text: findTourModalTitle"></span></h6></div>\x3c!-- ko if: dataLoaded && items().length === 0--\x3e<h3 class="no-tours">No published lessons found.</h3>\x3c!-- /ko --\x3e\x3c!-- ko if: dataLoaded && items().length > 0--\x3e<ul class="tour-find-tour-cards" data-bind="foreach: items" notranslate><li class="tour-find-tour" data-bind="attr: { title: name }, click: $root.tourClick"><div class="tour-find-tour-thumbnail"><div class="thumbnail-wrapper"><img data-bind="image: { src: thumbLocationFixed, fallback: \'').h("dactify",a,
{},{path:"/img/video_placeholder.jpg"},"h").w('\', alt: name() || \'Untitled Lesson\' }"></div></div><div class="tour-find-tour-info"><span class="tour-title" data-bind="text: name"></span><span class="tour-update-time">Updated: <span data-bind="text: ZAP.util.formatDateString(dateUpdated())"></span></span></div></li></ul><div data-bind="visible: numPages() > 1"><div class="twelve columns right listing-pagination-container"><div class="listing-pagination"><a class="page fake-link" data-bind="click: prevPage"><span class="page-right-arrow"></span></a><span><a href="#" class="page" data-bind="repeat: numPages" data-repeat-bind="css: { active: $index === currentPage() }, text: $index + 1, click: function() { currentPage($index); }"></a></span><a class="page fake-link" data-bind="click: nextPage"><span class="page-left-arrow"></span></a></div></div></div>\x3c!-- /ko --\x3e</div></div>')}
b.register("group-tour-find",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="alertdialog" aria-labelledby="iphoneWarningTitle" id="iphoneWarning"><h1 id="iphoneWarningTitle">Sorry, you can\'t view this page on an iPhone.</h1><h2>Please visit us on a desktop computer or iPad instead!</h2><a class="go-back" href="javascript: history.back()">Tap here to go back</a><a class="continue-anyway" href="#">(tap here to continue anyway)</a></div>')}b.register("iphone-warning",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="alertdialog" aria-labelledby="deleteListingModalTitle" id="removeTourWarning" class="reveal-modal"><form method="post" action="/listings/').f(a.getPath(!1,["listing","_id"]),a,"h").w('/delete"><h4 id="deleteListingModalTitle" style="margin-bottom: 25px;">Are you sure you want to remove this lesson from the Zaption Gallery?</h4><p class="lead">The lesson will no longer be visible in the Zaption Gallery, but you can still access it on your <em>My Lessons</em> page.</p><hr><div style="text-align: center; margin-top: 30px;"><button type="submit" class="large red radius button" style="margin: 0 15px;">Remove Lesson</button><button type="button" class="large gray radius button" data-bind="closeModal: true" style="margin: 0 15px;">Cancel</button></div><input type="hidden" name="_csrf" value="').f(a.get(["csrf"],
!1),a,"h").w('"></form><button class="close-reveal-modal" aria-label="Close">&times;</button></div>')}b.register("listing-delete-warning",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" aria-labelledby="referModalTitle" class="gentle fixed-width reveal-modal" id="refer" data-bind="stopBindings: true"><div class="row"><div class="twelve orange-row"><div class="referral-image"></div><h4>Refer a Friend</h4><h6>...and you each get 2 months of Zaption Pro FREE!</h6></div></div><div class="row"><div class="twelve white-row referral-copy"><p class="blue-text">Invite your friends to try Zaption Pro free for two months!<br>For every friend that signs-up, we\'ll add two months of Zaption Pro to your account.</p><h6 class="orange-header">Invite your friends now!</h6></div></div><ul class="row invite-widgets"><li class="four teal-row-shade-1"><h6 class="white-header">Copy Your Referral Link</h6><span class="referral-link" data-bind="text: \'http://zapt.io/ru\' + referralCode()"></span><button class="btn-white" data-bind="attr: { \'data-clipboard-text\': \'http://zapt.io/ru\' + referralCode() }">Copy to Clipboard</button></li><li class="four teal-row-shade-2"><h6 class="white-header">Invite by Email</h6><form action="POST" data-bind="submit: sendReferral"><input type="text" name="email" class="invite-text-box" placeholder="Email Address" required><span class="referral-feedback" data-bind="flashText: referralFeedback, css: { \'failed\': !sentReferralSuccessfully() }"></span><span class="referral-feedback spinner" data-bind="visible: sendingReferral()"></span><button type="submit" class="btn-white">Send</button></form></li><li class="four teal-row-shade-3"><h6 class="white-header">Share on Social Media</h6><a data-bind="click: shareOnFacebook" class="btn-share facebook"><i class="fa fa-facebook"></i><span>Share on Facebook</span></a><a data-bind="attr: { href: \'http://twitter.com/share?text=\' + encodeURIComponent(\'I love @Zaption\\\'s interactive video lessons! Sign up with my referral link & get 2 free months of Zaption Pro:\') + \'&url=\' + encodeURIComponent(\'http://zapt.io/rt\' + referralCode()) }" target="_blank" class="btn-share twitter"><i class="fa fa-twitter"></i><span>Share on Twitter</span></a></li></ul><div class="row"><div class="twelve orange-row modal-footer"><span>Go to the <a href="/referrals">Referrals page</a> to invite more friends and see who signed up.</span></div></div><button class="modal-close close-reveal-modal" aria-label="Close"></button></div>')}b.register("referral",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="alertdialog" aria-labelledby="deactivateAccountModalTitle" id="deactivateAccount" class="gentle wide reveal-modal"><form action="/settings/deactivate" method="post" class="custom standard"><p class="lead bold" id="deactivateAccountModalTitle">Your account will be deactivated, but you can always log back in to reactivate it. Are you sure you want to deactivate now?</p><div class="btns-row"><button type="submit" class="btn-orange">Yes</button><button type="button" class="btn-teal" data-bind="closeModal: true">No</button></div><input type="hidden" name="_csrf" value="').f(a.get(["csrf"],!1),
a,"h").w('"></form><button class="modal-close close-reveal-modal" aria-label="Close"></button></div>')}b.register("settings-account-deactivate",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="alertdialog" aria-labelledby="deleteAccountModalTitle" id="removeAccount" class="gentle wide reveal-modal"><form action="/settings/delete" method="post" class="custom standard"><p class="lead bold" id="deleteAccountModalTitle">Your account will be completely deleted, all of your lessons will be deleted permanantly as well. Are you sure you want to delete now?</p><div class="btns-row"><button type="submit" class="btn-orange">Yes</button><button type="button" class="btn-teal" data-bind="closeModal: true">No</button></div><input type="hidden" name="_csrf" value="').f(a.get(["csrf"],!1),
a,"h").w('"></form><button class="modal-close close-reveal-modal" aria-label="Close"></button></div>')}b.register("settings-account-delete",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" aria-labelledby="confirmPasswordModalTitle" id="confirmPasswordModal" class="gentle fixed-width reveal-modal"><form action="" method="post" class="settings-form custom standard row" data-bind="submit: confirmPassword"><h4 id="confirmPasswordModalTitle">To save these changes, please confirm your <span class="if-changing-password">old </span>password.</h4><div class="section-spacing"></div><div class="row"><div class="twelve columns"><label for="oldPassword"><span class="if-changing-password">Old </span>Password: </label><input type="password" name="oldPassword" id="oldPassword" placeholder="If you don\'t have a password, leave this field blank."></div></div><div class="btns-row"><button type="button" class="btn-teal" data-bind="closeModal: true">Cancel</button><button type="submit" class="btn-orange">Save</button></div></form><button class="modal-close close-reveal-modal" aria-label="Close"></button></div>')}b.register("settings-confirm-password",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" aria-labelledby="addCardModalTitle" id="addCard" class="gentle wide reveal-modal"><h4 id="addCardModalTitle">Add a card</h4>\x3c!-- ko if: cards().length > 0 --\x3e<div class="message-box -error">This will remove your old card from the Zaption system</div>\x3c!-- /ko --\x3e<div class="content-frame"><form action="/settings/newCard" method="post" id="stripeForm" class="custom standard row">').p("misc/PaymentInformation.dust",a,a,{}).w('<div class="btns-row"><button class="btn-orange" type="submit">Add Card</button><button type="button" class="btn-teal" data-bind="closeModal: true">Cancel</button></div><input type="hidden" name="_csrf" value="').f(a.get(["csrf"],
!1),a,"h").w('"></form><button class="modal-close close-reveal-modal" aria-label="Close"></button></div></div>')}b.register("settings-payment-add",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){return a.w('<div role="dialog" aria-labelledby="modalTitle" class="tour-modal reveal-modal ').b(b.getBlock("modalClass"),b,{},{}).w('" id="').b(b.getBlock("modalId"),b,{},{}).w('" data-bind="').b(b.getBlock("modalBindings"),b,{},{}).w('">').b(b.getBlock("beforeHeader"),b,{},{}).w('<div class="modal-header"><h4 id="modalTitle" class="modal-title">').b(b.getBlock("modalTitle"),b,{},{}).w('</h4><button type="button" class="settings-close" aria-label="Close dialog" data-bind="closeModal: true">&times;</button></div>').b(b.getBlock("tabs"),
b,{},{}).w('<div class="modal-content ').b(b.getBlock("modalContentClass"),b,{},{}).w('">').b(b.getBlock("modalContent"),b,{},{}).w('</div><div class="modal-footer">').b(b.getBlock("modalFooter"),b,{block:c},{}).w("</div>").b(b.getBlock("afterFooter"),b,{},{}).w("</div>")}function c(a,b){return a.w('<button class="btn-orange" data-bind="closeModal: true">Done</button>')}b.register("settings-template",d);d.__dustBody=!0;c.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" aria-labelledby="copyStudyModalTitle" id="cloneStudyModal" class="reveal-modal gentle fixed-width"><h2 id="copyStudyModalTitle">Copy Existing Study</h2><p>Enter the URL of an existing study below to copy it and edit the copy.</p><form data-bind="submit: cloneStudy"><input id="oldStudyCode" type="text" class="large-text" placeholder="Paste study URL here"><button type="submit" class="large orange radius button" data-bind="visible: !cloningStudy()">Copy</button><img class="responses-loading" src="/img/loading-bar.gif" data-bind="visible: cloningStudy()"></form><button class="modal-close close-reveal-modal" aria-label="Close"></button></div>')}b.register("study-clone",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="alertdialog" aria-labelledby="deleteClipWarningTitle" id="deleteClipWarning" class="reveal-modal"><form method="post"><h4 id="deleteClipWarningTitle" style="margin-bottom: 25px;">Are you sure you want to delete this clip?</h4><p class="lead">Deleting this clip will also <strong>delete all elements</strong> attached to this clip. <strong>This cannot be undone.</strong></p><hr><div style="text-align: center; margin-top: 30px;"><button type="submit" class="large red radius button" style="margin: 0 15px;" data-bind="click: function(data, e) { deleteClip(activeClip()); e.stopPropagation(); $(\'.reveal-modal\').trigger(\'reveal:close\'); return false; }">Delete Clip</button><button type="button" class="large gray radius button" data-bind="closeModal: true" style="margin: 0 15px;">Cancel</button></div></form><button class="close-reveal-modal" aria-label="Close">&times;</button></div>')}b.register("tour-clip-delete-warning",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="alertdialog" aria-labelledby="deleteCommentWarningTitle" id="deleteCommentWarning" class="reveal-modal modal-box"><h4 id="deleteCommentWarningTitle" class="title">Are you sure you want to delete this comment?</h4><p>Deleting this comment will also <strong>delete any replies</strong> to it. <strong>This cannot be undone.</strong></p><form class="strong-form" data-bind="submit: function() { $parents[1].deleteDiscussionComment($data); }"><div class="btn-group layout-row"><div class="col-1-3"><button type="button" class="btn-overlay -teal -full" data-bind="closeModal: true">Cancel</button></div><div class="col-2-3"><button type="submit" class="btn-pill -orange -full">Delete Comment</button></div></div></form></div>')}b.register("tour-comment-delete-warning",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){b=b.shiftBlocks(l);return a.p("modals/settings-template.dust",b,b,{})}function c(a,b){b.shiftBlocks(l);return a.w("deleteTourWarning")}function a(a,b){b.shiftBlocks(l);return a.w("Delete Lesson")}function e(a,b){b.shiftBlocks(l);return a.w("flexible")}function g(a,b){b.shiftBlocks(l);return a.w('<form method="post" data-bind="submit: deleteTour">')}function h(a,b){b.shiftBlocks(l);return a.w('\x3c!-- ko if: $root.tour() --\x3e<p class="lead">Deleting this lesson will also <strong>delete all responses</strong> that have been entered. <strong>This cannot be undone.</strong></p>\x3c!-- /ko --\x3e')}function k(a,
b){b.shiftBlocks(l);return a.w('<button class="btn-orange" type="submit" data-bind="closeModal: true">Delete</button><button class="btn-teal" type="button" data-bind="closeModal: true">Cancel</button>')}function m(a,b){b.shiftBlocks(l);return a.w("</form>")}b.register("tour-delete-warning",d);var l={modalId:c,modalTitle:a,modalContentClass:e,beforeHeader:g,modalContent:h,modalFooter:k,afterFooter:m};d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=!0;h.__dustBody=!0;k.__dustBody=
!0;m.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){b=b.shiftBlocks(A);return a.p("modals/settings-template.dust",b,b,{})}function c(a,b){b.shiftBlocks(A);return a.w("postToGalleryModal")}function a(a,b){b=b.shiftBlocks(A);return a.x(b.get(["listingPage"],!1),b,{"else":e,block:g},{})}function e(a,b){b.shiftBlocks(A);return a.w('Post To Gallery <span class="info-icon" data-bind="tooltip: { text: \'Places a copy in the public Gallery which you can remove at any time.\' }"></span>')}function g(a,b){b.shiftBlocks(A);return a.w("Edit Gallery Info")}
function h(a,b){b.shiftBlocks(A);return a}function k(a,b){b=b.shiftBlocks(A);return a.nx(b.get(["listingPage"],!1),b,{block:m},{})}function m(a,b){b.shiftBlocks(A);return a.w("<form method=\"post\" data-bind=\"submit: $root.postToGallery, attr: { action: '/tours/' + $root.tour()._id + '/post' }\">")}function l(a,b){b=b.shiftBlocks(A);return a.nx(b.get(["listingPage"],!1),b,{block:n},{}).w('<label class="title-text" for="listingTitle">Title</label><input type="text" name="title" maxlength="100" required').x(b.get(["listingPage"],
!1),b,{block:p},{}).w('><label class="title-text" for="listingDescription">Description</label><textarea class="tour-description-text" name="description" maxlength="5000" rows="5"').x(b.get(["listingPage"],!1),b,{block:f},{}).w('></textarea><label class="title-text">Keywords</label><input type="text" name="keywords" placeholder="Type keywords, comma separated" maxlength="500"').x(b.get(["listingPage"],!1),b,{block:q},{}).w('><div class="half-column"><label class="title-text">Category</label><select name="categories" data-bind="options: window.categories, ').x(b.get(["listingPage"],
!1),b,{"else":r,block:u},{}).w(', multiSelect: { minWidth: 200, header: false, selectedList: 3 }"></select></div><div class="half-column"><label class="title-text">Level</label><select name="grades" data-bind="options: window.grades, ').x(b.get(["listingPage"],!1),b,{"else":s,block:t},{}).w(', multiSelect: { minWidth: 200, header: false, selectedList: 3 }"></select></div>')}function n(a,b){b.shiftBlocks(A);return a.w('\x3c!-- ko if: tour().lastListing() --\x3e<div class="last-posted-notice">You posted this lesson to the Gallery previously on <span data-bind="text: moment(tour().lastListingDate()).format(\'MMMM Do, YYYY\')"></span>. <a class="gold" data-bind="attr: { href: \'/listing/\' + tour().lastListing() }">Go to that listing</a> to edit it.</div>\x3c!-- /ko --\x3e')}
function p(a,b){b.shiftBlocks(A);return a.w(' data-bind="value: listing.name"')}function f(a,b){b.shiftBlocks(A);return a.w(' data-bind="value: listing.description"')}function q(a,b){b.shiftBlocks(A);return a.w(' data-bind="value: keywords"')}function r(a,b){b.shiftBlocks(A);return a.w("valueOrEmpty: ''")}function u(a,b){b.shiftBlocks(A);return a.w("selectedOptions: listing.categories")}function s(a,b){b.shiftBlocks(A);return a.w("valueOrEmpty: ''")}function t(a,b){b.shiftBlocks(A);return a.w("selectedOptions: listing.grades")}
function v(a,b){b=b.shiftBlocks(A);return a.w('<div id="postAlertBox" class="message-box -error" style="display: none;"></div>').x(b.get(["listingPage"],!1),b,{"else":x,block:w},{})}function x(a,b){b.shiftBlocks(A);return a.w('<button class="btn-orange" type="submit">Post</button>')}function w(a,b){b.shiftBlocks(A);return a.w('<button class="btn-orange" type="button" data-bind="closeModal: true">Done</button><a class="btn-dark" data-reveal-id="removeTourWarning">Remove from Gallery</a>')}function z(a,
b){b=b.shiftBlocks(A);return a.nx(b.get(["listingPage"],!1),b,{block:B},{})}function B(a,b){b=b.shiftBlocks(A);return a.w('<input type="hidden" name="_csrf" value="').f(b.get(["csrf"],!1),b,"h").w('"></form>')}b.register("tour-gallery-post",d);var A={modalId:c,modalTitle:a,modalContentClass:h,beforeHeader:k,modalContent:l,modalFooter:v,afterFooter:z};d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=!0;h.__dustBody=!0;k.__dustBody=!0;m.__dustBody=!0;l.__dustBody=!0;n.__dustBody=
!0;p.__dustBody=!0;f.__dustBody=!0;q.__dustBody=!0;r.__dustBody=!0;u.__dustBody=!0;s.__dustBody=!0;t.__dustBody=!0;v.__dustBody=!0;x.__dustBody=!0;w.__dustBody=!0;z.__dustBody=!0;B.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){b=b.shiftBlocks(m);return a.p("modals/settings-template.dust",b,b,{})}function c(a,b){b.shiftBlocks(m);return a.w("tourSharingModal")}function a(a,b){b.shiftBlocks(m);return a.w("Lesson Permissions")}function e(a,b){b.shiftBlocks(m);return a}function g(a,b){b.shiftBlocks(m);return a.w("with-tabs")}function h(a,b){b.shiftBlocks(m);return a.w('<dl class="tabs header-tabs" data-bind="tabs: true"><dd><a href="#viewerAccess" class="active"><h5>Viewers</h5></a></dd><dd><a href="#editorAccess"><h5>Editors</h5></a></dd></dl>')}
function k(a,b){b.shiftBlocks(m);return a.w('\x3c!-- ko if: $root.tour() --\x3e<ul class="tabs-content"><li id="viewerAccessTab" class="active"><label class="title-text" for="url">Use this link to share this lesson with others:</label><span class="link-icon input-icon"></span><input class="share-link with-button with-icon" type="text" id="url" readonly data-bind="value: \'http://zapt.io/t\' + tour().shortCode()"><button class="box-btn clipboard-icon" data-bind="attr: { \'data-clipboard-text\': \'http://zapt.io/t\' + tour().shortCode() }" aria-label="Copy share link to clipboard"></button><label class="option-text" for="loginOptionsAnyone"><input type="radio" name="loginOptions" id="loginOptionsAnyone" value="anyone" data-bind="checked: tour().requireLogin"><span class="option-text-span"><strong>Anyone</strong> with this link can view this lesson without logging in</span><span class="info-icon" data-bind="visible: !ZAP.subscriptions.hasRestriction(restrictions, \'lti\'), tooltip: { text: \'If using LTI, all users are automatically logged-in and tracked.\' }"></span></label><div data-bind="disabledSection: ZAP.subscriptions.hasRestriction(restrictions, \'create.shareAccess\'), tooltip: ZAP.subscriptions.hasRestriction(restrictions, \'create.shareAccess\') ? { text: \'Upgrade to Zaption Pro to use advanced access controls.\' } : null"><label class="option-text" for="loginOptionsLoggedIn"><input type="radio" name="loginOptions" id="loginOptionsLoggedIn" value="loggedin" data-bind="checked: tour().requireLogin, enable: !ZAP.subscriptions.hasRestriction(restrictions, \'create.shareAccess\')"><span class="option-text-span">Only <strong>logged-in users</strong> with this link can view this lesson</span></label><label class="option-text" for="loginOptionsWhiteList"><input type="radio" name="loginOptions" id="loginOptionsWhiteList" value="whitelist" data-bind="checked: tour().requireLogin, enable: !ZAP.subscriptions.hasRestriction(restrictions, \'create.shareAccess\')"><span class="option-text-span">Only <strong>specific users and groups</strong> listed below can view this lesson</span></label></div><div class="direct-sharing" data-bind="disabledSection: tour().requireLogin() !== \'whitelist\'"><div class="add-email"><form data-bind="submit: submitAccessForm, submitOnEnter: true"><input name="entityId" type="hidden"><input name="entityType" type="hidden"><input name="accessType" value="read" type="hidden"><input type="hidden" name="access" value="read"><input type="text" name="entity" class="share-input with-button" placeholder="Enter email address or group name" data-bind="autoComplete: { parent: \'#viewerAccessTab .add-email form\', source: $root.parseAutocomplete, select: $root.makeAutocompleteSelect(\'#viewerAccessTab\'), suggest: true }"><button type="submit" class="box-btn">+</button></form></div><h6 class="title-text">Viewers</h6><ul class="shared-with-list"><li class="permission-box"><span class="grant-name" data-bind="text: tour().ownerName()"></span><a class="remove-grant" href="#" data-bind="click: function() { $root.tour().removeGrant(tour().ownerGrant()); }"></a></li>\x3c!-- ko foreach: tour().grants --\x3e<li class="permission-box"><span class="grant-name" data-bind="text: userName() || groupName()"></span><a class="remove-grant" href="#" data-bind="click: function() { $root.tour().removeGrant($data); }"></a></li>\x3c!-- /ko --\x3e</ul></div></li><li id="editorAccessTab"><label class="option-text" for="editOptionsOwner"><input type="radio" name="editOptions" id="editOptionsOwner" value="no" data-bind="checked: tour().allowEditors"><span class="option-text-span">Only I can edit this lesson</span></label><div data-bind="disabledSection: ZAP.subscriptions.hasRestriction(restrictions, \'create.shareAccess\'), tooltip: ZAP.subscriptions.hasRestriction(restrictions, \'create.shareAccess\') ? { text: \'Upgrade to Zaption Pro to use advanced access controls.\' } : null"><label class="option-text" for="editOptionsShared"><input type="radio" name="editOptions" id="editOptionsShared" value="yes" data-bind="checked: tour().allowEditors"><span class="option-text-span">Specific users and groups listed below can edit this lesson</span></label></div><div class="direct-sharing" data-bind="disabledSection: !tour().editorsAllowed()"><div class="add-email"><form data-bind="submit: submitAccessForm"><input name="entityId" type="hidden"><input name="entityType" type="hidden"><input name="accessType" value="read-write" type="hidden"><input type="text" name="entity" class="share-input with-button" placeholder="Enter email address or group name" data-bind="autoComplete: { parent: \'#editorAccessTab .add-email form\', source: $root.parseAutocomplete, select: $root.makeAutocompleteSelect(\'#editorAccessTab\'), suggest: true }"><button type="submit" class="box-btn">+</button></form></div><h6 class="title-text">Editors</h6><ul class="shared-with-list tall"><li class="permission-box"><span class="grant-name" data-bind="text: tour().ownerName()"></span><a class="remove-grant" href="#" data-bind="click: function() { $root.tour().removeGrant(tour().ownerGrant()); }"></a></li>\x3c!-- ko foreach: tour().grants --\x3e\x3c!-- ko if: permission() === \'read-write\' --\x3e<li class="permission-box"><span class="grant-name" data-bind="text: userName() || groupName()"></span><a class="remove-grant" href="#" data-bind="click: function() { $root.tour().removeGrant($data); }"></a></li>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e</ul></div></li></ul>\x3c!-- /ko --\x3e')}
b.register("tour-permissions",d);var m={modalId:c,modalTitle:a,modalContentClass:e,modalClass:g,tabs:h,modalContent:k};d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=!0;h.__dustBody=!0;k.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="alertdialog" id="tourNameAlert" class="reveal-modal medium gentle fixed-width zp-modal"><form data-bind="submit: publishTour"><p>You haven\'t given your lesson a title.<br> What would you like to call it?</p><input type="text" data-bind="value: $root.tour().name, valueUpdate: \'afterkeydown\'" class="alert-text-input"><div class="btns-row"><button type="button" class="btn-teal" data-bind="vclick: function() { $(\'.reveal-modal\').trigger(\'reveal:close\'); }">Cancel</button><button type="submit" class="btn-orange" data-bind="enable: $root.tour().name().trim().length > 0 && $root.tour().name() !== \'Untitled\'">Publish</button></div></form><button class="close-reveal-modal" aria-label="Close">&times;</button></div>')}b.register("tour-publish-name",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" aria-labelledby="selectedViewerName" class="reveal-modal gentle wide less-padding" id="viewResponses"><div class="row"><div class="twelve"><h4><span>Your Responses</span><button class="btn-orange btn-print" data-bind="click: function() { window.print(); }"><i class="fa fa-print"></i> Print</button></h4></div></div><div class="row"><ul class="twelve response-list" data-bind="foreach: responseElements"><li class="response-row"><div class="first-col"><div class="element-item" data-bind="class: displayClass"><span class="icon"></span><span class="text" data-bind="text: displayType"></span></div>\x3c!-- ko if: points() && canGrade() && $parent.tour().showPoints() --\x3e<p class="element-points">\x3c!-- ko if: isCorrect() --\x3e+ <var count data-bind="text: points(), attr: { pluralize: points() }"></var><span data-bind="text: ZAP.util.formatPlural(points(), \'pt\'), attr: { \'aria-label\': ZAP.util.formatPlural(points(), \'point\') }"></span>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: isCorrect() --\x3eIncorrect\x3c!-- /ko --\x3e</p>\x3c!-- /ko --\x3e</div><div class="response-view"><p class="element-prompt" data-bind="text: plainTextPrompt"></p>\x3c!-- ko if: elementType() === \'DrawnResponse\' --\x3e<canvas class="response-image" data-bind="canvasImage: response, canvasImageScale: 0.258, canvasWidth: 160, canvasHeight: 90"></canvas>\x3c!-- /ko --\x3e\x3c!-- ko if: elementType() !== \'DrawnResponse\' --\x3e<p class="element-response"><strong>Answer:</strong><span class="user-answer" data-bind="html: responseHtml" notranslate></span></p>\x3c!-- /ko --\x3e<button class="btn-teal" data-bind="click: $root.goBackToElement, text: elementType() === \'Discussion\' ? \'Go to Discussion\' : \'Change\', attr: { title: (elementType() === \'Discussion\' ? \'Go to the Discussion: \' : \'Change answer to: \') + plainTextPrompt() }"></button></div></li></ul></div><button class="modal-close close-reveal-modal" aria-label="Close"></button></div>')}b.register("tour-responses",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){b=b.shiftBlocks(k);return a.p("modals/settings-template.dust",b,b,{})}function c(a,b){b.shiftBlocks(k);return a.w("tourSettingsModal")}function a(a,b){b.shiftBlocks(k);return a.w("Lesson Settings")}function e(a,b){b=b.shiftBlocks(k);return a.w('<label class="title-text" for="tourDescription">Intro Text <span class="info-icon" data-bind="tooltip: { text: \'This text will appear on the intro slide.\' }"></span></label><textarea id="tourDescription" class="tour-description-text" name="description" maxlength="1000" rows="4" data-bind="textInput: tour().description"></textarea><h6 class="title-text -space">Scoring:</h6><label class="option-text"><input type="checkbox"data-bind="checked: tour().showPoints"><span>Show points to viewers <a  class="learn-more" target="_blank" href="https://zaption.zendesk.com/hc/en-us/articles/210227343">Learn more</a></span></label><label><span class="input-text">Award points for completing this lesson:</span><input type="number" min="0" max="9999" step="1" class="complete-points" data-bind="value: tour().completionPoints"> pts<span class="info-icon" data-bind="tooltip: { text: \'When viewers complete this lesson, they will earn this amount of points.\' }"></span></label>').nx(b.getPath(!1,["restrictions",
"playbackOptions"]),b,{"else":g,block:h},{})}function g(a,b){b.shiftBlocks(k);return a.w('<p>As a Pro member you could prevent users from skipping through your lesson, or require responses to questions in your lesson.</p><p><a href="/settings#purchase">Check out the other perks of Zaption Pro.</a></p>')}function h(a,b){b.shiftBlocks(k);return a.w('<h6 class="title-text -space">Allow users to skip:</h6><label for="tourAllowNavigation" class="option-text"><input type="radio" name="skipRestrictions" id="tourAllowNavigation" value="allowSkips" data-bind="checked: tour().displaySkipRestrictions"><span>Forwards and backwards</span></label><label for="tourPreventNavigationForward" class="option-text"><input type="radio" name="skipRestrictions" id="tourPreventNavigationForward" value="skipsForwardOnly" data-bind="checked: tour().displaySkipRestrictions"><span>Backwards only</span></label><label for="tourPreventNavigation" class="option-text"><input type="radio" name="skipRestrictions" id="tourPreventNavigation" value="noSkips" data-bind="checked: tour().displaySkipRestrictions"><span>Not at all</span></label><label for="tourLockPlaybackRate" class="option-text pushed"><input type="checkbox" id="tourLockPlaybackRate" data-bind="checked: tour().lockPlaybackRate"><span>Prevent viewers from speeding up and slowing down the video</span><span class="info-icon" data-bind="tooltip: { text: \'If this option is unchecked, viewers can choose to play the video at a slower or faster speed.\' }"></span></label><label for="tourResponsesRequired" class="option-text pushed" data-bind="css: { disabled: !(tour().preventNavigationForward() || tour().preventNavigation()) }"><input type="checkbox" id="tourResponsesRequired" data-bind="checked: tour().responsesRequired, enable: tour().preventNavigationForward() || tour().preventNavigation()"><span>Require viewers to answer all questions</span><span class="info-icon" data-bind="visible: !(tour().preventNavigationForward() || tour().preventNavigation()), tooltip: { text: \'To require responses, you must restrict users from skipping.\' }"></span></label>')}
b.register("tour-settings",d);var k={modalId:c,modalTitle:a,modalContent:e};d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=!0;h.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){b=b.shiftBlocks(q);return a.p("modals/settings-template.dust",b,b,{})}function c(a,b){b.shiftBlocks(q);return a.w("shareTourModal")}function a(a,b){b.shiftBlocks(q);return a.w("Share Your Video Lesson")}function e(a,b){b.shiftBlocks(q);return a}function g(a,b){b.shiftBlocks(q);return a.w("stopBindings: true")}function h(a,b){b.shiftBlocks(q);return a.w("<div data-bind=\"css: { 'with-tabs': userOwns }\">")}function k(a,b){b.shiftBlocks(q);return a.w("</div>")}function m(a,
b){b.shiftBlocks(q);return a}function l(a,b){b.shiftBlocks(q);return a.w('\x3c!-- ko if: userOwns --\x3e<dl class="tabs header-tabs" role="tablist" data-bind="tabs: true"><dd><a href="#shareSelfPaced" class="active" role="tab" aria-controls="shareSelfPacedTab"><h5><span class="zi -person-grey"></span><span>Self-Paced</span></h5></a></dd><dd><a href="#shareLive" role="tab" aria-controls="shareLiveTab"><h5><span class="zi -people-grey"></span><span>Present Live</span></h5></a></dd></dl>\x3c!-- /ko --\x3e')}
function n(a,b){b=b.shiftBlocks(q);return a.w('\x3c!-- ko if: $root.tour() --\x3e<ul class="tabs-content"><li id="shareSelfPacedTab" role="tabpanel" class="active"><p>Share this link with others so they can watch this lesson on their own.</p><nav class="tab-navigation -links" role="tablist" data-bind="tabs: true"><dd class="tab"><a href="#shareLink" class="active title" role="tab" aria-controls="shareLinkTab">Link</a></dd>').nx(b.getPath(!1,["restrictions","user","canEmbed"]),b,{block:p},{}).w('\x3c!-- ko if: userOwns --\x3e<dd class="tab"><a href="#shareGroup" class="title" role="tab" aria-controls="shareGroupTab">Assign to Group</a></dd>\x3c!-- /ko --\x3e</nav><ul class="tabs-content"><li id="shareLinkTab" role="tabpanel" class="active"><label class="_visually-hidden" for="url">Use this link to share this lesson with others.</label><input class="share-link with-button large-text" type="text" id="url" readonly data-bind="click: selectAll, value: \'http://zapt.io/t\' + tour().shortCode()"><button class="box-btn clipboard-icon" data-clipboard-text="" data-bind="attr: { \'data-clipboard-text\': \'http://zapt.io/t\' + tour().shortCode() }" aria-label="Copy share link to clipboard"></button><nav><ul class="inline-list social-media"><li class="social-icon"><a class="social-link twitter" data-bind="attr: { href: \'https://twitter.com/intent/tweet?text=\' + socialMediaMessage() + \' via @zaption\' }" target="_blank"><span class="_visually-hidden">Share on Twitter</span></a></li><li class="social-icon"><a class="social-link facebook -square" data-bind="attr: { href: \'https://www.facebook.com/sharer.php?u=https://www.zaption.com/lessons/\' + tour()._id }" target="_blank"><span class="_visually-hidden">Share on Facebook</span></a></li><li class="social-icon"><a class="social-link pinterest" data-bind="attr: { href: \'https://pinterest.com/pin/create/link/?description=\' + socialMediaMessage() + \'&media=').f(b.get(["socialImage"],
!1),b,"h").w('&url=https://www.zaption.com\' }" target="_blank"><span class="_visually-hidden">Share on Pinterest</span></a></li><li class="social-icon classroom"><div id="googleClassroomShareButton"><div class="g-sharetoclassroom" data-size="29" data-bind="attr: { \'data-url\': \'http://zapt.io/t\' + tour().shortCode(), \'data-title\': tour().name() }"></div></div></li><li class="social-icon"><a class="social-link email" data-bind="attr: { href: \'mailto:?body=\' + socialMediaMessage() + \'&subject=Zaption.com: \' + tour().name() }"><span class="_visually-hidden">Share via Email</span></a></li></ul></nav></li>').nx(b.getPath(!1,
["restrictions","user","canEmbed"]),b,{block:f},{}).w('\x3c!-- ko if: userOwns --\x3e<li id="shareGroupTab" role="tabpanel"><div class="add-to-group"><h6 class="_visually-hidden">Share with group:</h6>\x3c!-- ko ifnot: hasGroups --\x3e<p>You need to be an owner or contributor of a group to assign lessons.</p>\x3c!-- /ko --\x3e\x3c!-- ko if: hasGroups --\x3e<form data-bind="submit: shareToGroup"><input name="entityId" type="hidden"><input name="entityType" type="hidden"><input name="accessType" value="read" type="hidden"><input type="hidden" name="access" value="read"><span class="group-share-input"><span class="input-feedback" data-bind="flashText: groupShareFeedback, css: { \'failed\': groupShareFailed() }"></span><span class="input-feedback spinner" data-bind="visible: groupShareInProgress"></span><input type="text" name="entity" class="share-input with-button" placeholder="Enter group name" data-bind="autoComplete: { parent: \'#shareTourModal .add-to-group form\', source: $root.parseGroupAutocomplete, select: $root.makeAutocompleteSelect(\'#shareTourModal\'), suggest: true }"></span><button type="submit" class="box-btn">+</button></form>\x3c!-- /ko --\x3e</div></li>\x3c!-- /ko --\x3e</ul></li>\x3c!-- ko if: userOwns --\x3e<li id="shareLiveTab" role="tabpanel"><p>Watch together on a shared screen as viewers respond on their own laptops, tablets, or phones.</p><button class="btn-pill -orange -full" data-bind="click: function() { ZAP.presenter.continueOrCreatePresentation($root.tour()) }"><span class="zi -presentation"></span><span class="icon-align">Start Presentation</span></button>\x3c!-- ko if: window.currentUser.presenterCode --\x3e<label class="discreet-label">Send participants to<input type="text" readonly="true" value="zaption.com/join" data-bind="click: selectAll"></label><label class="discreet-label">Your unique join code<input type="text" readonly="true" class="_uc _strong" data-bind="click: selectAll, value: window.currentUser.presenterCode"></label>\x3c!-- /ko --\x3e</li>\x3c!-- /ko --\x3e</ul>\x3c!-- /ko --\x3e<script>window.___gcfg = {parsetags: \'explicit\'};\x3c/script><script src="https://apis.google.com/js/platform.js">\x3c/script>')}
function p(a,b){b.shiftBlocks(q);return a.w('<dd class="tab"><a href="#shareEmbed" class="title" role="tab" aria-controls="shareEmbedTab">Embed</a></dd>')}function f(a,b){b.shiftBlocks(q);return a.w('<li id="shareEmbedTab" role="tabpanel"><div class="title-text"><div class="split-btns left"><button data-bind="css: { active: $root.embedCodeType() === \'iframe\' }, click: function() { $root.embedCodeType(\'iframe\'); }">iFrame</button><button data-bind="css: { active: $root.embedCodeType() === \'modal\' }, click: function() { $root.embedCodeType(\'modal\'); }">Modal</button></div><a class="learn-more-link" href="http://zapt.io/n/embed" target="_blank">Learn more</a></div><label class="_visually-hidden" for="embed-code">Use this link to share this lesson with others.</label><textarea class="with-button embed-code" id="embed-code" readonly data-bind="click: selectAll, value: $root.embedCode()"></textarea><button class="box-btn clipboard-icon" data-clipboard-text="" data-bind="attr: { \'data-clipboard-text\': $root.embedCode() }" aria-label="Copy embed code to clipboard"></button></li>')}
b.register("tour-share",d);var q={modalId:c,modalTitle:a,modalContentClass:e,modalBindings:g,beforeHeader:h,afterFooter:k,modalFooter:m,tabs:l,modalContent:n};d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=!0;h.__dustBody=!0;k.__dustBody=!0;m.__dustBody=!0;l.__dustBody=!0;n.__dustBody=!0;p.__dustBody=!0;f.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){b=b.shiftBlocks(l);return a.p("modals/settings-template.dust",b,b,{})}function c(a,b){b.shiftBlocks(l);return a.w("unpublishTourWarning")}function a(a,b){b.shiftBlocks(l);return a.w("Unpublish")}function e(a,b){b.shiftBlocks(l);return a.w("flexible")}function g(a,b){b.shiftBlocks(l);return a.w("<form method=\"post\" data-bind=\"attr: { action: $root.tour() ? ('/tours/' + $root.tour()._id + '/unpublish') : '' }\">")}function h(a,b){b.shiftBlocks(l);return a.w('\x3c!-- ko if: $root.tour() --\x3e<p class="lead">Unpublishing this lesson will <strong>delete all responses</strong> that have been entered so far. <strong>This cannot be undone.</strong></p><p>After unpublishing, you can edit and republish this lesson. If you would like to make changes to this lesson but keep your responses, make a copy of this lesson.</p>\x3c!-- /ko --\x3e')}
function k(a,b){b.shiftBlocks(l);return a.w('<button class="btn-orange" type="submit" data-bind="closeModal: true">Unpublish</button><button class="btn-teal" type="button" data-bind="closeModal: true">Cancel</button>')}function m(a,b){b=b.shiftBlocks(l);return a.w('<input type="hidden" name="_csrf" value="').f(b.get(["csrf"],!1),b,"h").w('"></form>')}b.register("tour-unpublish-warning",d);var l={modalId:c,modalTitle:a,modalContentClass:e,beforeHeader:g,modalContent:h,modalFooter:k,afterFooter:m};
d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=!0;h.__dustBody=!0;k.__dustBody=!0;m.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" id="findVideo" class="reveal-modal find-video-modal"><div class="inner-box"><div class="search-bar"><form id="videoSearchBar" action="#" data-bind="submit: submitSearch"><span class="videos-search-glass-icon"></span><input type="text" name="query" class="videos-search-input" placeholder="Type keyword to search or enter video URL" data-bind="value: libraryFilterString, valueUpdate: \'afterkeydown\'"><span class="videos-search-empty fake-link" data-bind="css: { inactive: !libraryFilterString() }, vclick: clearSearchForm"></span><button class="btn-orange float-right">Search</button></form></div><ul class="filter-tabs-bar" data-bind="visible: searched() || browsed()">\x3c!-- ko foreach: activeResultTabs --\x3e<li class="filter-tab" data-bind="vclick: $root.changeResultTab($data), css: { active: $root.resultTab() === $data, extended: 5 === $index() && $root.extraResultTabs().length > 0, open: 5 === $index() && $root.showingSearchDropdown() }," notranslate><span data-bind="class: $root.archives[$data].css || \'filter-text\', text: $root.archives[$data].css ? \'\' : $root.archives[$data].title"></span>\x3c!-- ko if: !$root.archives[$data].error() && !$root.archives[$data].needsAuthentication() --\x3e<span class="result-count" data-bind="text: ZAP.util.formatLargeNumber($root.archives[$data].totalItems()), visible: !$root.archives[$data].searchInProgress() && !$root.archives[$data].browsing()"></span>\x3c!-- /ko --\x3e\x3c!-- ko if: $root.archives[$data].needsAuthentication() --\x3e<i class="error-icon auth-icon fa fa-lock"></i>\x3c!-- /ko --\x3e\x3c!-- ko if: $root.archives[$data].error() && !$root.archives[$data].needsAuthentication() --\x3e<i class="error-icon fa fa-exclamation-triangle"></i>\x3c!-- /ko --\x3e</li>\x3c!-- /ko --\x3e\x3c!-- ko if: $root.activeResultTabs().length === 5 && $root.extraResultTabs().length > 0 --\x3e<li class="filter-tab extended" data-bind="css: { open: showingSearchDropdown() }, click: function() { showingSearchDropdown(!showingSearchDropdown()); }, clickBubble: false"><span class="filter-text">More...</span></li>\x3c!-- /ko --\x3e<li class="video-search-dropdown" data-bind="visible: extraResultTabs().length > 0, css: { open: showingSearchDropdown(), active: activeResultTabs().length === 6 && activeResultTabs()[5] === resultTab(), more: $root.activeResultTabs().length === 5 && $root.extraResultTabs().length > 0 }, click: function() { showingSearchDropdown(!showingSearchDropdown()); }, clickBubble: false" notranslate><ul class="extra-filters" data-bind="foreach: extraResultTabs"><li class="filter-tab" data-bind="click: $root.changeLastResultTab($data), clickBubble: false"><span data-bind="class: $root.archives[$data].css || \'filter-text\', text: $root.archives[$data].css ? \'\' : $root.archives[$data].title"></span></li></ul></li></ul>\x3c!-- ko if: searched() || browsed() --\x3e<div class="search-result"><ul class="video-results">\x3c!-- ko if: $root.archives[resultTab()].needsAuthentication --\x3e<div class="search-auth-banner">You need to authenticate to search this video archive.<button type="button" class="btn-orange authenticate-btn" data-bind="click: $root.archives[resultTab()].authenticate">Authenticate</button></div>\x3c!-- /ko --\x3e\x3c!-- ko if: $root.archives[resultTab()].error() && !$root.archives[resultTab()].needsAuthentication() --\x3e<div class="search-error-banner">Uh oh! We couldn\'t search <var data-bind="text: $root.archives[resultTab()].title"></var>. We got the error: <var data-bind="text: $root.archives[resultTab()].error"></var></div>\x3c!-- /ko --\x3e\x3c!-- ko if: resultTab() === \'bo-free\' --\x3e<li class="more-results bo-preview"><span>This is a limited preview of bo clips.<br>Unlock the full library of more than 1.7 million videos with a <a href="/pricing" target="_blank">site license</a>.</span></li>\x3c!-- /ko --\x3e\x3c!-- ko if: searched() && $root.archives[resultTab()].canBrowse() --\x3e<li class="more-results browse-videos"><span>You are searching for </span><strong data-bind="text: $root.archives[resultTab()].curQuery()"></strong><br><a data-bind="click: browse" class="fake-link">Browse all videos</a></li>\x3c!-- /ko --\x3e\x3c!-- ko foreach: activeResults().videos --\x3e<li class="video-result" data-bind="css: { \'collection-parent\': contents().length > 0, active: $root.selectedVideo() && $root.selectedVideo()._id === _id }, vclick: function() { if (contents().length > 0) { contentsExpanded(!contentsExpanded()); $root.selectedVideo(null); } else { $root.selectedVideo($data); } }"><div class="result-thumbnail-cutoff"><div class="result-thumbnail-wrapper"><img class="result-thumbnail" data-bind="image: { src: thumbLocationFixed, fallback: \'').h("dactify",a,
{},{path:"/img/video_placeholder.jpg"},"h").w('\', alt: name }"></div>\x3c!-- ko if: duration() > 0 && contents().length === 0 --\x3e<span data-bind="text: ZAP.util.secondsToTimestamp(duration())" class="result-thumbnail-length"></span>\x3c!-- /ko --\x3e</div><div class="result-mini-info" notranslate><h6 data-bind="ellipsisText: name"></h6>\x3c!-- ko if: $data.author --\x3e<div class="result-metadata">by <strong data-bind="text: $data.author"></strong></div>\x3c!-- /ko --\x3e\x3c!-- ko if: $data.views --\x3e<div class="result-metadata" data-bind="text: ZAP.util.formatNumberWithCommas($data.views) + \' views\'"></div>\x3c!-- /ko --\x3e\x3c!-- ko if: $root.resultTab() === \'myvideos\' && contents().length === 0 --\x3e<div class="result-metadata" data-bind="text: \'Added \' + moment($data.dateCreated()).calendar()"></div>\x3c!-- /ko --\x3e\x3c!-- ko if: contents().length > 0 --\x3e<div class="result-metadata"><strong>Collection</strong><span data-bind="text: \' (\' + contents().length + \' video\' + ((contents().length === 1) ? \')\' : \'s)\')"></span></div><div class="result-metadata" data-bind="text: \'Created \' + moment($data.dateCreated()).calendar()"></div>\x3c!-- /ko --\x3e</div></li>\x3c!-- ko if: contentsExpanded() --\x3e\x3c!-- ko foreach: contents --\x3e<li class="video-result" data-bind="css: { \'collection-child\': $parent.contents().length > 0, active: $root.selectedVideo() && $root.selectedVideo()._id === _id }, vclick: function() { $root.selectedVideo($data); }"><div class="result-thumbnail-cutoff"><div class="result-thumbnail-wrapper"><img class="result-thumbnail" data-bind="image: { src: thumbLocationFixed, fallback: \'').h("dactify",
a,{},{path:"/img/video_placeholder.jpg"},"h").w('\', alt: name }"></div>\x3c!-- ko if: duration() > 0 --\x3e<span data-bind="text: ZAP.util.secondsToTimestamp(duration())" class="result-thumbnail-length"></span>\x3c!-- /ko --\x3e</div><div class="result-mini-info"><h6 data-bind="ellipsisText: name"></h6><div class="result-metadata" data-bind="text: \'Added \' + moment($data.dateCreated()).calendar()"></div></div></li>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e<li class="more-results fake-link" data-bind="visible: (activeResults().nextPageToken() || (activeResults().videos().length > 0 && activeResults().totalItems() > activeResults().videos().length)) && !activeResults().searchInProgress(), vclick: activeResults().moreResults">Show More Results</li><li class="more-results" data-bind="visible: activeResults().searchInProgress()"><div class="spinner"></div></li><li class="more-results no-results" data-bind="visible: activeResults().videos().length === 0 && !activeResults().searchInProgress()">No Results</li></ul><div class="video-preview" data-bind="visible: selectedVideo() && selectedVideo().contents().length === 0"><div class="video-preview-frame" data-bind="previewPlayer: selectedVideo"></div>\x3c!-- ko if: selectedVideo() --\x3e<h4 class="video-preview-title" data-bind="ellipsisText: selectedVideo().name"></h4><h6 class="video-preview-info">\x3c!-- ko if: selectedVideo() && selectedVideo().duration() > 0 --\x3e<strong>Length: </strong><var data-bind="text: ZAP.util.secondsToTimestamp(selectedVideo().duration())" duration></var>\x3c!-- /ko --\x3e<strong data-bind="visible: selectedVideo().views">Views: </strong><var data-bind="visible: selectedVideo().views, text: ZAP.util.formatNumberWithCommas(selectedVideo().views)" numViews></var><strong>Uploaded: </strong><var data-bind="text: ZAP.util.formatDateString(selectedVideo().dateCreated())" dateCreated></var></h6><button class="btn-orange" data-bind="vclick: addVideo">Add This Video to Lesson</button>\x3c!-- /ko --\x3e</div></div>\x3c!-- /ko --\x3e<div class="before-search" data-bind="visible: !searched() || !browsed()"><h3>Find a video to add to your lesson</h3><h3 class="browse-link">or <a class="fake-link" data-bind="click: browse">browse your videos</a></h3><div class="find-video-icon"></div><div class="search-hints">Not sure what to search for? Try <a class="fake-link" data-bind="vclick: searchFor(\'Nelson Mandela\')" notranslate>Nelson Mandela</a>, <a class="fake-link" data-bind="vclick: searchFor(\'English literature\')" notranslate>English literature</a>, <a class="fake-link" data-bind="vclick: searchFor(\'osmosis\')" notranslate>osmosis</a>, or <a class="fake-link" data-bind="vclick: searchFor(\'multiplication of fractions\')" notranslate>multiplication of fractions</a>.</div></div></div><button class="modal-close close-reveal-modal" aria-label="Close"></button></div>')}
b.register("tour-video-search",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="alertdialog" aria-labelledby="anonViewerNamePrompt" id="identifyViewerPrompt" class="reveal-modal medium gentle fixed-width zp-modal with-bottom-bar"><form method="post" data-bind="submit: function() { if (viewerName.store()) { $(\'#identifyViewerPrompt\').trigger(\'reveal:close\'); $(\'#startTourBtn\').focus() } }"><h4 id="anonViewerNamePrompt">Hey there! What\'s your name?</h4><p data-bind="visible: viewerName().length === viewerNameMaxLength">Your name can be no more than <span data-bind="text: viewerNameMaxLength"></span> characters.</p><label><span class="_visually-hidden">Please enter your name</span><input type="text" class="large-text" required placeholder="Type your name here" data-bind="textInput: viewerName, attr: { maxlength: viewerNameMaxLength }"></label><div class="btns-row"><button type="submit" class="btn-orange cancel-btn" data-bind="enable: viewerName() && viewerName().length <= viewerNameMaxLength">Continue</button></div></form><div class="bottom-bar"><p><a href="#" data-bind="click: showSignupModal">Sign up</a> or <a href="#" data-bind="click: showSignupModal">log in</a> for a better viewing experience.</p></div></div>')}b.register("tour-view-anon",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="alertdialog" aria-labelledby="deleteVideoTitle" id="deleteVideoWarning" class="reveal-modal"><form method="post" action="" data-bind="submit: deleteVideo"><h4 id="deleteVideoTitle" style="margin-bottom: 25px;">Are you sure you want to delete this video?</h4><p class="lead">Deleting this video will make it unavailable for use in future lessons. <strong>This cannot be undone.</strong></p><div style="text-align: center; margin-top: 30px;"><button type="submit" class="large red radius button" style="margin: 0 15px;">Delete Video</button><button type="button" class="large gray radius button" data-bind="closeModal: true" style="margin: 0 15px;">Cancel</button></div></form><button class="close-reveal-modal" aria-label="Close">&times;</button></div>')}b.register("video-delete-warning",
d);d.__dustBody=!0;return d})(dust);
(function(b){function d(a,b){b=b.shiftBlocks(m);return a.p("modals/settings-template.dust",b,b,{})}function c(a,b){b.shiftBlocks(m);return a.w("videoSettingsModal")}function a(a,b){b.shiftBlocks(m);return a.w("Video Settings")}function e(a,b){b.shiftBlocks(m);return a}function g(a,b){b.shiftBlocks(m);return a.w("with-tabs")}function h(a,b){b.shiftBlocks(m);return a.w('<dl class="tabs header-tabs" data-bind="tabs: true"><dd><a href="#settingsSubtitles" class="active"><h5>Subtitles</h5></a></dd><dd><a href="#settingsShare"><h5>Share Ownership</h5></a></dd></dl>')}function k(a,
b){b=b.shiftBlocks(m);return a.w('<ul class="tabs-content"><li id="settingsSubtitlesTab" class="active"><div class="centered-container"><div class="centered-inner"><h2>Drag an SRT transcript here <span data-bind="if: video.transcript()">(this will replace your old subtitles)</span></h2><form name="transcriptUpload" action="" method="post" enctype="multipart/form-data" accept-charset="utf-8" data-bind="attr: { action: \'/ajax/videos/\' + video._id + \'/transcripts\' }"><input name="subFile" type="file" class="subtitle-upload" data-bind="videoSubtitleUpload: true" style="opacity: 0;"><p>Or browse your computer: <button type="button" class="orange radius button browse-button" data-bind="click: function(data, e) { $(\'.subtitle-upload\').focus().click(); }">Browse</button></p><input type="hidden" name="_csrf" value="').f(b.get(["csrf"],
!1),b,"h").w('"></form><p>This transcript will appear on new lessons created with this video, but will not affect old ones.</p></div></div></li><li id="settingsShareTab"><form data-bind="submit: function(form) { $root.submitGrant(form); }"><p class="lead">To grant access to this video to another Zaption account, just add their email address here.</p><input class="share-input with-button" id="grantPermissionsUsername" type="text" name="username" placeholder="Enter email address" data-bind="autoComplete: { parent: \'#settingsShareTab form\', source: $root.parseAutocomplete, suggest: true }"><button type="submit" class="box-btn">+</button></form><h6 class="title-text">Access granted to:</h6><ul class="shared-with-list"><li class="permission-box"><span class="grant-name" data-bind="text: video.ownerName"></span> (owner)</li>\x3c!-- ko foreach: video.grants --\x3e<li class="permission-box"><span class="grant-name" data-bind="text: userName"></span><a class="remove-grant" href="#" data-bind="click: function() { $root.video.removeGrant($data); }"></a></li>\x3c!-- /ko --\x3e</ul></li></ul>')}
b.register("video-settings",d);var m={modalId:c,modalTitle:a,modalContentClass:e,modalClass:g,tabs:h,modalContent:k};d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=!0;h.__dustBody=!0;k.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" aria-labelledby="uploadVideoTitle" class="gentle fixed-width reveal-modal upload-modal" id="uploadModal"><div class="row step1"><p class="lead" id="uploadVideoTitle">Where would you like to store your video?</p><div class="upload-options"><div class="six columns"><button id="ZaptionUpload" class="btn-grey" data-bind="enable: ZAP.subscriptions.secondsUploadRemaining(window.currentUser, window.restrictions) > 5"><span class="service-logo zaption"></span></button><div class="upload-credit-remaining"><strong data-bind="visible: ZAP.subscriptions.activePlanForUser(window.currentUser) !== \'basic\' || window.currentUser.maxSecondsUpload || window.currentUser.primaryCommunity"><span data-bind="html: ZAP.subscriptions.uploadRemainingString(window.currentUser, window.restrictions)"></span> upload time remaining</strong><div data-bind="visible: ZAP.subscriptions.activePlanForUser(window.currentUser) === \'basic\' && !window.currentUser.maxSecondsUpload && !window.currentUser.primaryCommunity"><a href="/settings#purchase">Upgrade to Zaption Pro</a> to upload <var count data-bind="text: ZAP.subscriptions.getUploadQuotas().pro / 60, attr: { pluralize: ZAP.subscriptions.getUploadQuotas().pro / 60 }"></var> minutes of video</div><div data-bind="visible: ZAP.subscriptions.userTrialIsInProgress(window.currentUser) && !window.currentUser.maxSecondsUpload"><a href="/settings#purchase">Purchase Pro </a> to upload <var count data-bind="text: ZAP.subscriptions.getUploadQuotas().pro / 60, attr: { pluralize: ZAP.subscriptions.getUploadQuotas().pro / 60 }"></var> minutes of video</div></div></div><div class="six columns"><button id="YouTubeUpload" class="btn-grey"><span class="service-logo youtube"></span></button><div class="upload-credit-remaining"><strong>Unlimited upload time</strong></div></div></div></div><div class="row step2"><p class="lead">You need to sign in to YouTube to continue.</p><div class="upload-options"><div class="twelve columns"><button id="YouTubeSignIn" class="btn-orange">Sign in to YouTube</button><div id="ytInProgress"><div class="spinner"></div><h5>Signing in to YouTube</h5></div></div></div></div><div class="row step3"><p class="lead">Would you like to record a video<br> or upload a file from your computer?</p><div class="upload-options"><div class="six columns"><button id="YouTubeFileUpload" class="btn-orange">Upload a File</button></div><div id="YouTubeWebcam" class="six columns"><button class="btn-orange">Record With Webcam</button></div></div></div><div class="row step4 upload"><p class="lead">Choose a file to upload:</p><form name="videoUpload" method="post" enctype="multipart/form-data" accept-charset="utf-8" class="yt-upload-form"><input type="file" name="file" id="ytVideoFile"><button type="button" class="btn-orange yt-upload-button" disabled>Upload</button><input type="hidden" name="_csrf" value="').f(a.get(["csrf"],!1),
a,"h").w('"></form><div class="yt-upload-video-loading"><h5>Uploading...</h5><span id="percentTransferred">0</span>%<div id="progressHolder"><div class="progress-bar"></div></div></div><div class="upload-foot-note"><a href="https://zaption.zendesk.com/entries/25736753-FAQ-Are-the-videos-I-upload-to-YouTube-from-Zaption-private-" target="_blank">Learn more about video privacy</a></div></div><div class="row step4 webcam"><div id="ytUploadWidget"></div></div><button class="modal-close close-reveal-modal" aria-label="Close"></button></div>')}
b.register("video-upload",d);d.__dustBody=!0;return d})(dust);
(function(b){function d(b,d){return b.w('<div role="alertdialog" aria-labelledby="tourInviteTitle" class="reveal-modal tour-authentication').x(d.get(["showCloningInfo"],!1),d,{block:c},{}).w('" id="authenticate" ').x(d.get(["noSignupBindings"],!1),d,{block:a},{}).w('><div role="document">').x(d.get(["showCloningInfo"],!1),d,{"else":e,block:g},{}).w('<div class="cookie-bypass signup-step"><a class="btn-orange" href="/setcookie?setReturnTo=').f(d.get(["returnTo"],!1),d,"h",["uc"]).w('" target="_blank" data-bind="click: cookieBypass">Get Started</a></div>').nx(d.get(["postAuth"],
!1),d,{"else":h,block:k},{}).w("</div></div>")}function c(a,b){return a.w(" extended")}function a(a,b){return a.w('data-bind="stopBindings: true"')}function e(a,b){return a.w('<div class="login-header">\x3c!-- ko if: $root.tour --\x3e<h4 id="tourInviteTitle" class="tour-info" data-bind="with: $root.tour">You\'ve been invited to take the video learning tour:<br><q class="tour-name" data-bind="text: name()" notranslate></q><br>Author: <span data-bind="text: ownerName" notranslate></span><span class="little-vr"></span>Length: <var data-bind="text: ZAP.util.secondsToTimestamp(totalDuration())" totalDuration></var></h4>\x3c!-- /ko --\x3e\x3c!-- ko if: $root.group --\x3e<h4 id="tourInviteTitle" class="tour-info">You\'ve been invited to join the group:<br><q class="tour-name" data-bind="text: group.name()"></q><br>Admins: <span data-bind="text: groupAdminNames().join(\', \')"></span></h4>\x3c!-- /ko --\x3e\x3c!-- ko if: $root.isLTIPage --\x3e<h4 id="tourInviteTitle" class="tour-info" data-bind="css: { \'lti-prompt\': $root.isLTIPage }"><span class="larger-text">Please sign in to Zaption to continue.</span><br>You\'ll be signed on automatically in the future.</h4>\x3c!-- /ko --\x3e\x3c!-- ko if: $root.isPartnerPage --\x3e<h4 id="tourInviteTitle" class="tour-info lti-prompt"><span class="larger-text">Get your free Zaption account.</span><br>Your account will be upgraded to Zaption Pro for 2 months.</h4>\x3c!-- /ko --\x3e</div>')}
function g(a,b){return a.w('<div class="cloning-info"><div class="logo-huge"></div><p>Sign up or log in to get your own copy of this interactive video lesson.</p><p>Your free Zaption account allows you to:</p><p><i class="fa fa-check"></i> Customize video lessons</p><p><i class="fa fa-check"></i> Share them with students</p><p><i class="fa fa-check"></i> Track their progress</p><a href="/" class="tiny-home-link" target="_blank">Learn how Zaption engages students and deepens understanding.</a></div>')}
function h(a,b){return a.w('<div class="postauth signup-step"><form class="user-info custom fancy-dropdown" autocomplete="off" data-bind="submit: postAuthUpdateOrgInfo"><div class="row"><div class="twelve red-error" data-bind="text: errorMessage, fadeVisible: errorMessage"></div></div><h3>Thanks for joining Zaption!</h3><h3>We just need a little bit more info...</h3><div class="input-row row"><select name="orgPosition" placeholder="What best describes you?" data-bind="valueOrEmpty: orgPosition"><option value="student">Student</option><option value="instructor">Instructor</option><option value="instructional-designer">Instructional Technologist</option><option value="admin">E-Learning Administrator</option><option value="other">Other</option></select></div><div class="input-row row" data-bind="visible: orgPosition() === \'instructor\' || orgPosition() === \'other\'"><input type="text" class="half-width" placeholder="School/Org" name="orgName"><div class="half-section part"><select name="orgType" placeholder="School/Org Type" data-bind="valueOrEmpty: \'\'"><option value="k12">K-12</option><option value="highered">Higher Ed</option><option value="business">Business or Nonprofit</option></select></div></div><label for="sendUpdates"><input type="checkbox" name="sendUpdates" id="sendUpdates" checked>It\'s OK to send me occasional Zaption updates</label><hr><div class="signup-row row"><button class="btn-orange signup-btn">Let&#39;s Go!</button><p class="terms part grey-text">By signing up, you agree to Zaption\'s Terms of Use and Privacy Policy.</p><div class="part logo-small"></div></div></form></div>')}
function k(a,b){return a.w('<div class="step1 signup-step"><form class="login-form" method="post" action="" data-bind="submit: loginUser"><div class="row"><div class="twelve red-error" data-bind="text: errorMessage, fadeVisible: errorMessage"></div></div><div class="row"><h3 class="five part"><em>Login</em> to Zaption!</h3><p class="seven part grey-text">').x(b.get(["ldapPartnerName"],!1),b,{"else":m,block:l},{}).w("</p></div>").nx(b.get(["ldapPartnerName"],!1),b,{block:n},{}).w('<input class="full-width" type="text" placeholder="Email / Username" name="username"><input class="full-width" type="password" placeholder="Password" name="password"><button class="btn-teal login-btn">Login</button>').nx(b.get(["ldapPartnerName"],
!1),b,{block:p},{}).w("</form>").nx(b.get(["ldapPartnerName"],!1),b,{block:f},{}).w('</div><div class="step2 signup-step"><form class="user-info custom fancy-dropdown" autocomplete="off" method="post" data-bind="submit: registerUserComplete"><div class="row"><div class="twelve red-error" data-bind="text: errorMessage, fadeVisible: errorMessage"></div></div><div class="row"><h3>Create your <em>Free</em> Zaption account</h3></div><div class="row" data-bind="visible: orgPosition() === \'student\'"><p class="grey-text under-13">If under 18, you need the permission of your parent or teacher.</p></div><div class="input-row"><label class="half-width form-label"><span class="_visually-hidden">First name</span><input type="text" class="information" placeholder="First Name *" name="firstName" data-bind="verify: \'required,max(50)\'" maxlength="50"></label><label class="half-width form-label"><span class="_visually-hidden">Last name</span><input type="text" class="information" placeholder="Last Name *" name="lastName" data-bind="verify: \'required,max(50)\'" maxlength="50"></label></div><input type="hidden" name="orgPosition" data-bind="value: orgPosition()"><div class="input-row row" data-bind="visible: orgPosition() !== \'student\'"><label class="half-width form-label"><span class="_visually-hidden">School or org name</span><input type="text" class="information" placeholder="School/Org Name *" name="orgName" data-bind="verify: \'required\'"></label><label class="half-section part form-label"><span class="_visually-hidden">School or org type</span><select name="orgType" class="information" placeholder="School/Org Type *" data-bind="valueOrEmpty: \'\', verify: \'required\'"><option value="k12">K-12</option><option value="highered">Higher Ed</option><option value="business">Business or Nonprofit</option></select></label></div><label class="full-width form-label"><span class="_visually-hidden">Email address</span><input type="text" class="information" placeholder="Email *" name="email" data-bind="verify: \'required,email,emailExists\'"></label><div class="input-row"><label class="full-width form-label"><span class="_visually-hidden">Password</span><input type="password" class="information" placeholder="Password *" name="password" autocomplete="off" data-bind="verify: \'required,size(8, 256),passwordTooWeak\'"></label></div><label for="sendUpdates form-label"><input type="checkbox" name="sendUpdates" id="sendUpdates" checked>It\'s OK to send me occasional Zaption updates</label><hr><div class="signup-row row"><button class="btn-orange signup-btn">Sign Up</button><p class="terms part grey-text">By signing up, you agree to Zaption\'s Terms of Use and Privacy Policy.</p><div class="part logo-small"></div></div></form></div>')}
function m(a,b){return a.w("Logging in with these existing services will automatically create a new Zaption account.")}function l(a,b){return a.w("Use the same username/password that you use to login to your organization.")}function n(a,b){return a.w('<div class="row login-buttons"><a href="/login/facebook" data-bind="attr: { href: \'/login/facebook\' + $root.serviceReturnToQuery() }" class="facebook service-btn"><span class="icon"></span><span class="text">Facebook</span></a><a href="/login/google" data-bind="attr: { href: \'/login/google\' + $root.serviceReturnToQuery() }" class="google service-btn"><span class="icon"></span><span class="text">Google</span></a><a href="/login/edmodo" data-bind="attr: { href: \'/login/edmodo\' + $root.serviceReturnToQuery() }" class="edmodo service-btn"><span class="icon"></span><span class="text">Edmodo</span></a></div>')}
function p(a,b){return a.w('<a class="underlined-link" href="/forgot">I forgot my password</a>')}function f(a,b){return a.w('<hr><div class="signup-buttons"><h3><em>Sign up</em> for Zaption. It\'s <em>Free</em></h3><div class="button-row">\x3c!-- ko if: window.hideOrgType --\x3e<button class="btn-orange" data-bind="click: selectPosition(\'student\')">Get Started</button>\x3c!-- /ko --\x3e\x3c!-- ko if: !window.hideOrgType --\x3e<button class="btn-orange" data-bind="click: selectPosition(\'student\')">I\'m a Student</button><button class="btn-orange" data-bind="click: selectPosition(\'instructor\')">I\'m an Instructor</button>\x3c!-- /ko --\x3e</div>\x3c!-- ko if: !window.hideOrgType --\x3e<div class="centered-link"><a class="underlined-link org-position-link" href="#" data-bind="click: selectPosition(\'instructional-designer\')">Instructional Technologist</a><a class="underlined-link org-position-link" href="#" data-bind="click: selectPosition(\'admin\')">E-Learning Admin</a><a class="underlined-link org-position-link" href="#" data-bind="click: selectPosition(\'other\')">Other</a></div>\x3c!-- /ko --\x3e</div>')}
b.register("viewer-signup",d);d.__dustBody=!0;c.__dustBody=!0;a.__dustBody=!0;e.__dustBody=!0;g.__dustBody=!0;h.__dustBody=!0;k.__dustBody=!0;m.__dustBody=!0;l.__dustBody=!0;n.__dustBody=!0;p.__dustBody=!0;f.__dustBody=!0;return d})(dust);
(function(b){function d(b,a){return b.w('<div role="dialog" class="gentle promo-large reveal-modal" id="zaptionIntro"><carousel params="hideCloseButton: true, nextText: \'Continue\', hideEndButtons: true" class="-large-promo"><carousel-slide class="-text-on-top -with-header"><header><p>Welcome to Zaption!</p><p>Let&apos;s show you around...</p></header><img src="').h("dactify",a,{},{path:"/img/zaption-intro/welcome.png"},"h").w('"></carousel-slide><carousel-slide class="-text-on-top"><p><strong>Quickly add text, images and questions</strong> to online videos, or use our ready-made lessons.</p><video autoplay loop><source src="').h("dactify",
a,{},{path:"/vids/zaption-intro/question.mp4"},"h").w('" type="video/mp4"><source src="').h("dactify",a,{},{path:"/vids/zaption-intro/question.webm"},"h").w('" type="video/webm"></video></carousel-slide><carousel-slide class="-text-on-top"><p><strong>Share your lesson</strong> for others to view on their own, or present live to watch together.</p><video autoplay loop><source src="').h("dactify",a,{},{path:"/vids/zaption-intro/share.mp4"},"h").w('" type="video/mp4"><source src="').h("dactify",a,{},
{path:"/vids/zaption-intro/share.webm"},"h").w('" type="video/webm"></video></carousel-slide><carousel-slide class="-text-on-top"><p><strong>Let&apos;s watch a short lesson.</strong> Click start and then answer as you go!</p><iframe src="/lessons/56a6aad59547d0b2366ba6c5/iframe/embed?hideFeedback=1&compact=1" width="1024" height="495" frameBorder="0" allowfullscreen></iframe></carousel-slide><carousel-slide class="-text-on-top"><p><strong>View analytics</strong> to see who watched the lesson and how each person responded.</p><video autoplay loop><source src="').h("dactify",
a,{},{path:"/vids/zaption-intro/analytics.mp4"},"h").w('" type="video/mp4"><source src="').h("dactify",a,{},{path:"/vids/zaption-intro/analytics.webm"},"h").w('" type="video/webm"></video></carousel-slide><carousel-slide><header><p>Let\'s get started!</p><p>What do you want to do first?</p></header><div class="dual-block"><a href="" data-bind="click: function() { $(\'#zaptionIntro\').data(\'createTour\', true).trigger(\'reveal:close\'); }" class="left"><div class="button-icon -create"></div><div><button class="btn-pill -blue -noeffect _uc">Create my first lesson</button></div></a><a href="" data-bind="click: function() { $(\'#zaptionIntro\').trigger(\'reveal:close\'); }" class="right"><div class="button-icon -explore"></div><div><button class="btn-pill -dark-blue -noeffect _uc">Explore on my own</button></div></a></div></carousel-slide></carousel></div>')}
b.register("zaption-intro",d);d.__dustBody=!0;return d})(dust);
(function(){var b=function(b){b=b||{};return new Pusher(window.pusherKey,{encrypted:!0,auth:{params:b.authParams,headers:{"X-CSRF-Token":window.csrfToken}},authEndpoint:"/ajax/realtime/auth"})},d={};window.ZAP=window.ZAP||{};window.ZAP.realtime={channel:function(c,a){a=a||{};c="private-"+c;d[c]||(d[c]=b(a).subscribe(c),"function"===typeof a.onError&&d[c].bind("pusher:subscription_error",a.onError));return{publish:function(b,g,h,k){k=k||function(){};h?d[c].trigger("client-"+b,g):(g.channel=c,amplify.request({resourceId:"realtimePublish",
data:g,success:k,error:a.onError||function(){}}))},publishSynchronous:function(b,d){return $.ajax({method:"POST",url:"/ajax/realtime/publish/"+c,data:d,error:a.onError||function(){},async:!1})},subscribe:function(a,b){d[c].bind("client-"+a,b);d[c].bind(a,b)}}}}})();
(function(){$(document).on("ready",function(){setTimeout(function(){$('script[src="//www.youtube.com/iframe_api"]').length?ZAP.Reachability.YouTube=!!window.YT:ZAP.Reachability.YouTube=!0;ZAP.Reachability.YouTube||ZAP.Reachability.YouTubeProxy||!window.trackJs||window.trackJs.track(Error("YouTube is blocked or unreachable."));ZAP.Reachability.detectionComplete=!0;ZAP.dispatchEvent("reachability:detected")},3500)});ZAP.Reachability=ZAP.Reachability||{}})();
(function(b){function d(a){void 0===a&&(a=!0);window.attemptingAuth=!0;gapi.auth.init(function(){setTimeout(function(){gapi.auth.authorize({client_id:q,scope:[f],immediate:a},c)},1)})}function c(a){window.attemptingAuth=!1;(F=a&&!a.error)&&window.oauth2Callback(a);if(!w){w=!0;for(a=A.length;a--;)A[a]();A.length=0}for(a=E.length;a--;)E[a]();E.length=0}function a(){var a=new Date;return ZAP.util.zeroPad(a.getDate(),2)+"/"+ZAP.util.zeroPad(a.getMonth(),2)+"/"+a.getYear()+" "+ZAP.util.zeroPad(a.getHours(),
2)+":"+ZAP.util.zeroPad(a.getMinutes(),2)}function e(a){0>_.indexOf(B,a)&&B.unshift(a)}function g(a){0>_.indexOf(z,a)&&z.unshift(a)}function h(a){0>_.indexOf(A,a)&&A.unshift(a)}function k(a){0>_.indexOf(E,a)&&E.unshift(a)}function m(){u||($.getScript("//www.youtube.com/iframe_api",function(){x=!0;for(var a=B.length;a--;)B[a]();B.length=0}),u=!0)}function l(){r||($.getScript("//api.filepicker.io/v2/filepicker.js",function(){filepicker.setKey("AayxllDtZQA2RwxbhZbA_z");v=!0;for(var a=z.length;a--;)z[a]();
z.length=0}),r=!0)}function n(){s||($.getScript("https://apis.google.com/js/client.js?onload=onAuthReady"),s=!0)}var p="https://www.googleapis.com/upload/youtube/v3/videos?uploadType=resumable&part=snippet,status",f="https://gdata.youtube.com",q="605258512058.apps.googleusercontent.com",r=!1,u=!1,s=!1,t=!1,v=!1,x=!1,w=!1,z=[],B=[],A=[],E=[],F=!1,I=[],U;amplify.request.define("uploadVideo","ajax",{url:"/ajax/videos/upload",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("createYTVideo",
"ajax",{url:"/ajax/videos/yt",dataType:"json",type:"POST",decoder:"zsend"});window.onAuthReady=function(){window.OAuth2IsReady=!0};window.oauth2Callback=function(a,b){if(a.access_token){U=a.access_token;var c=$.ajax({url:"https://www.googleapis.com/youtube/v3/channels",method:"GET",headers:{Authorization:"Bearer "+U},data:{part:"snippet",mine:!0}});b&&c.done(b)}};var D=function(){function b(a,d){Q=new ZAP.Video({_id:(new ObjectId).toString(),owner:window.currentUser._id,name:d,videoLocation:a,videoType:"YouTube",
encodeStatus:"Transcoding",dateUpdated:new Date,dateCreated:new Date,deleted:!1,temporary:!0},{temporary:!0});c("tempvideoavailable",[Q]);amplify.request({resourceId:"createYTVideo",data:{ytURL:"//youtu.be/"+a},success:function(a){a=new ZAP.Video(a,{preSynced:!0});c("finalvideoavailable",[a,Q]);c("uploadsucceeded");ZAP.util.track("Uploaded Video to YouTube");C.trigger("reveal:close");ZAP.showAlert("<strong>Video upload complete</strong><br>It is now being processed and<br>will be available in Zaption soon!",
{allowHTML:!0});$(".reveal-modal").one("reveal:close",function(){"/videos"===window.location.pathname||/^\/tours\/[a-z0-9]{24}\/edit/.test(window.location.pathname)||(window.location.href="/videos")})},error:function(a){c("uploadfailed");$(".reveal-modal").trigger("reveal:close");alert(a.message)}})}function c(a,b){var d=N[a];if(d&&$.isArray(d))for(var d=d.slice(),e=0,f=d.length;e<f;e++)d[e].apply(B,b)}function f(a){C.find(".active").removeClass("active").slideUp();C.find("."+a).addClass("active").slideDown()}
function q(){F?f("step3"):(window.attemptingAuth?(k(function(){F?f("step3"):(C.find("#ytInProgress").hide(),C.find("#YouTubeSignIn").show())}),C.find("#ytInProgress").show(),C.find("#YouTubeSignIn").hide()):(C.find("#ytInProgress").hide(),C.find("#YouTubeSignIn").show()),f("step2"))}function r(){if(x){f("step4.webcam");var c,d,g=new YT.UploadWidget("ytUploadWidget",{width:"100%",height:"100%",events:{onApiReady:function(){g.setVideoPrivacy("unlisted")},onVideoIdAvailable:function(e){c&&b(e.data.videoId,
a()+" Webcam Recording");d=!0},onUploadSuccess:function(e){d&&b(e.data.videoId,a()+" Webcam Recording");c=!0},onProcessingComplete:function(){J&&J.updateVideo()},onStateChange:function(a){switch(a.data.state){case YT.UploadWidgetState.STOPPED:A()}}}})}else e(r),m()}function u(a){a=$.ajax({url:a.url,method:"PUT",contentType:a.file.type,headers:{"Content-Range":"bytes "+a.start+"-"+(a.file.size-1)+"/"+a.file.size},xhr:function(){var a=$.ajaxSettings.xhr();a.upload&&a.upload.addEventListener("progress",
function(a){$(".yt-upload-video-loading").show();a.lengthComputable&&(a=Math.round(100*a.loaded/a.total),$("#percentTransferred").text(a),$("#progressHolder .progress-bar").css({width:a+"%"}))},!1);return a},processData:!1,data:a.file});a.done(function(a){$(".yt-upload-video-loading").hide();b(a.id,a.title)});a.fail(function(){ZAP.showAlert("Upload to YouTube failed!");$(".yt-upload-video-loading").hide()})}function s(){w?(f("step4.upload"),C.find("#ytVideoFile").change(function(){$(this).val()?C.find(".yt-upload-button").removeAttr("disabled"):
C.find(".yt-upload-button").attr("disabled",!0)}),C.find(".yt-upload-button").unbind().on("click",function(b){var c=C.find("#ytVideoFile")[0].files[0];c&&(C.find(".yt-upload-video-loading").show(),b.preventDefault(),C.find(".yt-upload-button").attr("disabled",!0),b={snippet:{title:c.name||a()+" Zaption Upload",categoryId:27},status:{privacyStatus:"unlisted"}},$.ajax({url:p,method:"POST",contentType:"application/json",headers:{Authorization:"Bearer "+U,"x-upload-content-length":c.size,"x-upload-content-type":c.type},
data:JSON.stringify(b)}).done(function(a,b,d){u({url:d.getResponseHeader("Location"),file:c,start:0})}).fail(function(a,b){var c=a.responseJSON&&a.responseJSON.error&&a.responseJSON.error.message,d=a.responseJSON&&a.responseJSON.error&&a.responseJSON.error.errors&&a.responseJSON.error.errors[0]&&a.responseJSON.error.errors[0].reason;console.log("YouTube upload failed with error: "+b+" and code "+a.status+" ("+c+"). Reason: "+d);var e="YouTube upload failed!";401===a.status&&(console.log("  -> 401 error, sent access token "+
U),e+='<br>You need to <a class="gold" href="https://www.youtube.com/create_channel" target="_blank">create a channel</a> on YouTube before you can upload videos.');ZAP.showAlert(e,{allowHTML:!0});console.log("  --\x3e Full response text: "+a.responseText);window.trackJs.track(Error("YouTube upload failed with error: "+b+" and code "+a.status+" ("+c+"). Reason: "+d))}))})):(h(s),n())}function z(){if(v){C.trigger("reveal:close");var a=1310720*ZAP.subscriptions.secondsUploadRemaining(window.currentUser,
window.restrictions);filepicker.pick({mimetype:"video/*",container:"modal",services:["COMPUTER","VIDEO","URL","GOOGLE_DRIVE","GMAIL"],maxSize:a,cropRatio:16/9},function(a){var b=(new ObjectId).toString(),d=new ZAP.Video({_id:b,owner:window.currentUser._id,name:a.filename,videoLocation:window.currentUser._id+"/"+b,videoType:"S3",encodeStatus:"Uploading",dateUpdated:new Date,dateCreated:new Date,deleted:!1,temporary:!0},{temporary:!0});c("tempvideoavailable",[d]);amplify.request({resourceId:"uploadVideo",
data:{uploadURL:a.url,video:ZAP.util.toJS(d)},success:function(a){a=new ZAP.Video(a,{preSynced:!0});c("finalvideoavailable",[a,d]);c("uploadsucceeded");ZAP.showAlert("<strong>Video upload complete</strong><br>It is now being processed and<br>will be available in Zaption soon!",{allowHTML:!0,afterClose:function(){window.location.replace("/videos")}})},error:function(a){c("uploadfailed");alert(a.message)}})},function(a){c("uploadfailed");101!==a.code&&alert(a.toString())})}else g(z),l()}function A(){C.trigger("reveal:close")}
var B=this,N=[];I.push(this);var C=$("#uploadModal");window.OAuth2IsReady?d():window.onAuthReady=function(){d()};var Q,J;C.find("#ZaptionUpload").on("click",z);C.find("#YouTubeUpload").on("click",q);C.find("#YouTubeSignIn").on("click",function(){C.find("#ytInProgress").show();C.find("#YouTubeSignIn").hide();E.push(function(){F?f("step3"):(C.find("#ytInProgress").hide(),C.find("#YouTubeSignIn").show())});d(!1)});C.find("#YouTubeFileUpload").on("click",s);C.find("#YouTubeWebcam").on("click",r);B.showUploadPanel=
function(){if(D.enabledUploadOptions.length)if(1===D.enabledUploadOptions.length)switch(D.enabledUploadOptions[0]){case "youtube":$("#uploadModal").reveal();q();break;case "zaption":z();break;default:throw Error("VideoUploader using unknown upload option "+D.enabledUploadOptions[0]);}else $("#uploadModal").reveal(),f("step1")};B.startFilepickerUpload=z;B.on=B.bind=function(a,b){void 0===N[a]&&(N[a]=[]);N[a].push(b)};B.off=B.unbind=function(a,b){var c=c[a],d;if(void 0!==c)if($.isFunction(b))for(d=
c.length-1;0<=d;d--)c[d]===b&&c.splice(d,1);else if("string"===typeof b)for(d=c.length-1;0<=d;d--)c[d].name===b&&c.splice(d,1)};B.close=A;l();m();n();t||($.getScript("https://apis.google.com/js/client:plusone.js"),t=!0)};D.enabledUploadOptions=_.difference(["zaption","youtube"],window.community&&window.community.disabledUploadOptions||[]);b.VideoUploader=D})(window,window.document);
window.attachTourSettingsTo=function(b){var d,c;b.makeAutocompleteSelect=function(a){return function(b,c){$(a+" input[name=entityId]").val(c.item.id);$(a+" input[name=entityType]").val(c.item.type)}};b.parseAutocomplete=function(a,b){d=null;ZAP.util.getAutocompleteResults(a.term,!0,function(a,h){if(a)return ZAP.showAlert(a),c&&c(!0),b();0<h.length?(d=h[0],c&&c(null,d.id)):c=d=null;return b(h)})};b.submitAccessForm=function(a){var e=a.entityId.value,g=a.entityType.value,h=a.accessType.value,k=function(e,
g){c=null;if(e||!g)return!1;b.tour().addGrant(g.id,g.type,g.accessType);a.reset();a.entityId.value="";a.entityType.value="";d=null;$(a.entity).autocomplete("close");return!1};if(e&&g)return k(null,{id:e,type:g,accessType:h});if(d)return k(null,_.extend(d,{accessType:h}));c=k;return!1};b.postToGallery=function(a){var b=a.title.value;if(0===b.length)return $("#postAlertBox").text("You must enter a title.").show(),!1;if(100<b.length)return $("#postAlertBox").text("Your title cannot be longer than 100 characters.").show(),
!1;if(!a.categories.value)return $("#postAlertBox").text("You must choose at least one category.").show(),!1;if(!a.grades.value)return $("#postAlertBox").text("You must choose at least one grade level.").show(),!1;$("#postAlertBox").text("").hide();a.submit()};b.showTourPermissionsModal=function(){$("#tourSharingModal").reveal()};b.sendTourToUsername=function(a){a=$(a);var c=a.find("#share-copy-button"),d=a.find("#usernameForClone");c.text("Sending...");amplify.request({resourceId:"cloneViaUsername",
data:{tourId:b.tour()._id,username:d.val()},error:function(a){c.text("Error!");d.one("focus",function(){c.text("Send Copy")});ZAP.showAlert(a.message)},success:function(){c.text("Sent!");d.val("");d.one("focus",function(){c.text("Send Copy")})}});return!1};b.showTourSettingsModal=function(){$("#tourSettingsModal").reveal()};b.showPostToGalleryModal=function(){var a=$("#postToGalleryModal");a.find('input[name="title"]').val(b.tour().name());a.find('textarea[name="description"]').val(b.tour().description());
a.reveal()}};
(function(){window.ShareTourViewModel=function(b){var d=this;d.tour=ko.isObservable(b)?b:ko.observable(b);d.embedCodeType=ko.observable("iframe");d.embedCode=ko.computed(function(){var a=d.tour()._id;switch(d.embedCodeType()){case "iframe":return'<iframe src="https://www.zaption.com/lessons/'+a+'/iframe/embed" width="980" height="540" frameBorder="0" allowfullscreen></iframe>';case "modal":return'\x3c!-- put this in where you want a thumbnail to appear --\x3e\n<div class="zaption-thumbnail zaption-large-thumbnail" data-id="'+a+
'"></div>\n\n\x3c!-- put this in once in your footer --\x3e\n<script type="text/javascript" src="https://www.zaption.com/js/embed.js" id="zaptionEmbed">\x3c/script>'}return""});d.userOwns=ko.computed(function(){return ZAP.util.checkPermission(window.currentUser,"read-write-item",d.tour())});d.hasGroups=window.currentUser?!!window.currentUser.groups.length:!1;d.selectAll=function(a,b){var c=b.target;c.setSelectionRange(0,c.value.length)};var c,a;d.socialMediaMessage=ko.computed(function(){var a=d.tour().name(),
a=64<a.length?a.substring(0,64).trim()+"...":a+":";return encodeURIComponent("Check out my newest Zaption lesson: "+a+" http://zapt.io/t"+d.tour().shortCode())});d.makeAutocompleteSelect=function(a){return function(b,c){$(a+" input[name=entityId]").val(c.item.id);$(a+" input[name=entityType]").val(c.item.type)}};d.parseGroupAutocomplete=function(b,d){c=null;return ZAP.util.getOnlyGroupAutocompleteResults(b.term,function(b,e){if(b)return ZAP.showAlert(b),a&&a(!0),d();0<e.length?(c=e[0],a&&a(null,c.id)):
a=c=null;return d(e)})};d.groupShareFeedback=ko.observable("");d.groupShareFailed=ko.observable(!1);d.groupShareInProgress=ko.observable(!1);d.shareToGroup=function(b){var g=b.entityId.value,h=b.entityType.value,k=b.accessType.value,m=function(g,h){a=null;if(g||!h)return!1;d.groupShareInProgress(!0);d.groupShareFeedback("");d.tour().addGrant(h.id,h.type,h.accessType,function(a){d.groupShareFailed(!!a);d.groupShareInProgress(!1);a?d.groupShareFeedback("Error"):d.groupShareFeedback("Shared!")});b.reset();
b.entityId.value="";b.entityType.value="";c=null;$(b.entity).autocomplete("close");return!1};if(g&&h)return m(null,{id:g,type:h,accessType:k});if(c)return m(null,c);a=m;return!1};d.bind=function(){ko.applyBindingsToDescendants(d,$("#shareTourModal")[0]);try{gapi.sharetoclassroom.go("googleClassroomShareButton")}catch(a){log("Google Share to Classroom button failed to initialize with error ",a)}};d.show=function(){$("#shareTourModal").reveal()}}})();
(function(){function b(b,a){this.id=b;this.channel=d+b;this.isSynchronous=a;this.realtimeParams={onError:function(a){a=a.message||"unknown error";console.log("Presenter realtime subscription failed with error: "+a);window.trackJs.track(Error("Presenter realtime subscription failed with error: "+a));ZAP.showAlert("Uh oh! There was an error syncing up with the server. We'll need to refresh the page to get this working again.",{afterClose:function(){window.location.reload()}})}}}var d="zaption-presentation-";
b.prototype.publish=function(b,a,d){b.presentationId=this.id;this.isSynchronous?ZAP.realtime.channel(this.channel,this.realtimeParams).publishSynchronous(b.action,b):ZAP.realtime.channel(this.channel,this.realtimeParams).publish(b.action,b,a,d)};b.prototype.on=function(b,a){ZAP.realtime.channel(this.channel,this.realtimeParams).subscribe(b,a)};b.prototype.elementActivated=function(b){this.publish({action:"elementActivated",element:b})};b.prototype.elementDeactivated=function(b){this.publish({action:"elementDeactivated",
element:b})};b.prototype.lock=function(b){this.publish({action:"lock",elementId:b})};b.prototype.unlock=function(b){this.publish({action:"unlock",elementId:b})};b.prototype.ready=function(){this.publish({action:"ready"})};b.prototype.play=function(){this.publish({action:"play"})};b.prototype.away=function(){this.publish({action:"away"})};b.prototype.pause=function(){this.publish({action:"pause"})};b.prototype.end=function(b,a){this.publish({action:"end",close:b},null,a)};b.prototype.joined=function(b){this.publish({action:"joined",
user:b})};b.prototype.left=function(b){this.publish({action:"left",user:b})};b.prototype.raiseHand=function(b){b.action="raiseHand";this.publish(b,!0)};b.prototype.askForTime=function(){this.publish({action:"askForTime"},!0)};b.prototype.sendTime=function(b){this.publish({action:"sendTime",time:b},!0)};b.prototype.toggleElementFeedback=function(b,a){this.publish({action:"toggleElementFeedback",element:b,state:a},!0)};b.prototype.toggleEnableHands=function(b){this.publish({action:"toggleEnableHands",
state:b})};window.ZAP=window.ZAP||{};window.ZAP.PresentationChannel=b})();
(function(){ZAP.nav={};ZAP.nav.createNewTour=function(){var b=$('<form method="post" action="/tours">');b.append('<input type="hidden" name="_csrf" value="'+window.csrfToken+'">');window.ltiSessionId&&b.append('<input type="hidden" name="ltiSessionId" value="'+window.ltiSessionId+'"/>');$("body").append(b);b[0].submit()};ZAP.nav.getQueryParam=function(b){for(var d=window.location.search.substring(1).split("&"),c=0;c<d.length;c++){var a=d[c].split("=");if(a[0]===b)return a[1]}return!1};ZAP.nav.exportAllLessons=
function(b){var d={};b&&(d.webhook=$(b).find('[name="webhookUrl"]').val(),$("body").trigger("close-bubble"));amplify.request({resourceId:"exportStandaloneLessons",data:d,success:function(){ZAP.showAlert("Your request has been recorded. You will soon receive an email with the link to download all your content.");$(b).find('[name="webhookUrl"]').val("")},error:function(){ZAP.showAlert("Uh oh! We were unable to export your lessons. Please try again and if the problem persists, contact customer support.")}})};
ZAP.nav.exportAllLessonResponsesCSV=function(){amplify.request({resourceId:"exportAllCSVs",success:function(){ZAP.showAlert("Your request has been recorded. You will soon receive an email with the link to download all your content.")},error:function(){ZAP.showAlert("Uh oh! We were unable to export your data. Please try again and if the problem persists, contact customer support.")}})}})();
(function(){ZAP.ui={};ZAP.ui.isMobile=function(){return/ipad|android|iphone|ipod|webos|blackberry|iemobile|opera mini/i.test(navigator.userAgent)};ZAP.ui.adjustFontSize=function(b,d){d=d||2;_.each(b,function(b){b=$(b);var a=b.css("font-size").split("px")[0];b.css("font-size",d*a+"px")})};ZAP.ui.pageIsFramed=function(){try{return window.self!==window.top}catch(b){return!0}};ZAP.ui.elementIsInViewport=function(b,d){d=d||0;var c=b.getBoundingClientRect();return c.top>=-d&&c.left>=-d&&c.bottom<=(window.innerHeight||
document.documentElement.clientHeight)+d&&c.right<=(window.innerWidth||document.documentElement.clientWidth)+d};ZAP.ui.addOverflowShadows=function(b,d){var c=document.querySelector(b),a=d||20;$(c.nextSibling).hasClass("gradient-shield")||(c.insertAdjacentHTML("beforebegin",'<div class="gradient-shield -top"></div>'),c.insertAdjacentHTML("afterend",'<div class="gradient-shield -bottom"></div>'));setImmediate(function(){var b=0.5*c.scrollTop<a?0.5*c.scrollTop:a,d=c.scrollTop+c.clientHeight>=c.scrollHeight-
a?0.5*(c.scrollHeight-(c.clientHeight+c.scrollTop)):a;document.querySelector(".gradient-shield.-top").style.height=b+"px";document.querySelector(".gradient-shield.-bottom").style.height=d+"px"})};ZAP.ui.appendMessage=function(b,d,c,a){c=c||"info";var e;d=$(d);var g=d.has(".message-box").length;e=g?d.find(".message-box"):$("<div/>");e.attr("class","message-box -"+c);e.attr("aria-live","assertive");e.attr("role","alert");e.html('<p class="message">'+_.escape(b)+"</p>");g||d.prepend(e);a&&window.setTimeout(function(){e.slideUp(function(){$(this).remove()})},
a)};ZAP.ui.removeMessage=function(b){$(b).find(".message-box").slideUp(function(){$(this).remove()})};$(document).ready(function(){var b=$(".hamburger-menu.no-js");b.on("click",function(){$(this).add(".mobile-menu").toggleClass("-open")});$(".lang-selected.no-js").on("click",function(){$(this).parent(".footer-language-menu").toggleClass("-open")});$(".footer-language-menu").on("mouseout",function(){$(this).removeClass("-open")});b.add(".lang-selected").removeClass("no-js");$(".message-box").delegate(".close",
"click",function(b){b.preventDefault();$(this).closest(".message-box").slideUp(function(){$(this).remove()})})})})();Date.now||(Date.now=function(){return+new Date});window.isValidDate=function(b){return"[object Date]"!==Object.prototype.toString.call(b)?!1:!isNaN(b.getTime())};window.dateAndTimeToString=function(b){var d=b.getFullYear(),c=b.getDate();return b.getMonth()+1+"/"+c+"/"+d};window.locale&&moment.locale(window.locale);
String.prototype.toSentenceCase=function(){return this.charAt(0).toUpperCase()+this.slice(1)};$.extend(dust.filters,{zs:function(b){return ZAP?ZAP.util.stringify(b):JSON.stringify(b)}});$.ajaxSetup({headers:{"X-CSRF-Token":window.csrfToken}});ZAP.util.isZaptionAccount=function(b){return _("533dd12b756c5d772c00001d 529d17f1654e0b2b420000b5 53d0247d9bdbd3f26c2da6c3 53fc017959c2416c689e4899 503f77dbf0d5550200000006 503ec53087e5200200000006 5320a4d3bafa8e4869000086 51d1d2d2b41a8e0400000013 517e8c65e250c60500000020 5193f9e658dc3f070000001c 524eeeb2dc1ad00400000003 559c29f8ef9cc6f0097308bf 554399e215979e9d76e3b5ee 55804e6cd96e609627b6a456 554534de66f9686628735dd8 557ce6b7bc9d2f695664b41e".split(" ")).contains(b)};
ZAP.changeCSRFToken=function(b){window.csrfToken!==b&&(window.csrfToken=b,$.ajaxSetup({headers:{"X-CSRF-Token":b}}),$('input[name="_csrf"]').val(b))};
ZAP.tabNavigation=function(b,d,c){var a=$('[role="tab"]'),e=$('[role="tabpanel"]'),g,h;c="function"===typeof c?c:function(){};var k=function(){e.attr({"aria-hidden":!0}).removeClass("-active");a.attr({"aria-selected":!1}).removeClass("-active");g.attr({"aria-hidden":!1}).addClass("-active");h.attr({"aria-selected":!0}).addClass("-active");c()};a.each(function(){var a=$(this).attr("href").substr(1);$(this).attr({tabindex:0,"aria-controls":a,id:"tab"+a})});e.each(function(){$(this).attr({tabindex:0,
"aria-labeledby":"tab"+$(this).attr("id")})});if(d)$(window).on("hashchange",function(){window.location.hash?(g=$(window.location.hash),h=$("[href="+window.location.hash+"]"),h.trigger("click"),g.length||(window.location.hash=b)):(g=$("#"+b),h=$("[href=#"+b+"]"));k()}),$(".tab").on("click.tabNav",'[role="tab"]',function(a){a.preventDefault();a=$(this).attr("href").substr(1);var b=document.getElementById(a);if(b){var c=b.id;b.removeAttribute("id");location.hash=a;b.setAttribute("id",c)}}),$(window).trigger("hashchange");
else $(".tab").on("click.tabNav",'[role="tab"]',function(a){a.preventDefault();h=$(this);g=$("#"+$(this).attr("href").substr(1));k()})};ZAP.smoothScroll=function(b,d,c){b.length&&(d=d||0,c=c||500,b=b.offset().top-d,$(document).scrollTop()===b&&(c=1),$("html, body").animate({scrollTop:b},c))};(function(){var b=$.ui.draggable.prototype._mouseDrag;$.ui.draggable.prototype._mouseDrag=function(d,c){b.call(this,d,c);this.options.containment&&this._setContainment()}})();
ZAP.blockiPhones=function(){if(window.isiPhone){var b=document.querySelector("meta[name=viewport]");$("body").addClass("iphone");b.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0");$("#iphoneWarning .continue-anyway").on("click",function(){$("body").removeClass("iphone");b.setAttribute("content","width=1280px")})}};amplify.subscribe("request.ajax.preprocess",function(b,d,c){"application/json"===b.contentType&&(c.data=JSON.stringify(c.data))});
window.needsCookieSet=ko.observable();window.retryCookieSet=function(){if(!document.cookie&&top.location!==document.location){try{document.cookie="beachhead=1; max-age=86400; path=/"}catch(b){window.needsCookieSet(!0);return}if(!document.cookie){window.needsCookieSet(!0);return}}window.needsCookieSet(!1)};window.retryCookieSet();
(function(){var b={};amplify.request.cache._default=function(d,c,a,e){var g=amplify.request.cache._key(c.resourceId,a.url,a.data),h=d.cache;if(g in b&&!c.noCache)return e.success(JSON.parse(JSON.stringify(b[g]))),!1;var k=e.success;e.success=function(a){b[g]=JSON.parse(JSON.stringify(a));"number"===typeof h&&setTimeout(function(){delete b[g]},h);k.apply(this,arguments)}};amplify.request.invalidate=function(d){var c=d;Array.isArray(c)||(c=[c]);Object.keys(b).forEach(function(a){c.forEach(function(c){RegExp("^request-"+
ZAP.util.regexEscape(c)+"-").test(a)&&delete b[a]})})}})();jQuery.cachedScript=function(b,d){d=$.extend(d||{},{dataType:"script",cache:!0,url:b});return jQuery.ajax(d)};$.fn.flash=function(b){var d=this;b=b||2500;var c=d.css("backgroundColor");if("transparent"===c||"rgba(0, 0, 0, 0)"===c)c="rgba(238, 245, 249, 0)";d.stop().css("background-color","#EEF5F9").animate({backgroundColor:c},b,function(){d.css("background-color","")})};
window.preventBind=function(b){if(b&&(b=$(b),1===b.length)){var d=b.attr("data-bind");d&&-1!==d.indexOf("stopBindings")||(d=(d?d+", ":"")+"stopBindings: true",b.attr("data-bind",d))}};
window.addKnockoutBindings=function(b){b.updateComputeds=function(a){$.each(a,function(c){if(b.isComputed(a[c]))a[c]()})};b.pauseableComputed=function(a,c){var d="",e=b.observable(!1),l=b.computed(function(){return e()?d:a.call(c)},c);l.pause=function(){d=this();e(!0)}.bind(l);l.resume=function(){d="";e(!1)};return l};var d={},c={my:"center",at:"right-20 center"},a={my:"center",at:"left+20 center"};b.bindingHandlers.verify={init:function(e,h,k){$.verify.updateRules({required:{messages:{all:"Please fill out the field for {fieldName}",
multiple:"Please make a selection for {fieldName}",single:"Please check the box for {fieldName}"}},email:{message:"Is invalid"}});var m=$(e),l=m.parents("form"),n=k.get("rtl");e.id||(e.id="verify-form-element-"+ZAP.ObjectId());e=d[e.id]={};var p,f;e&&"INPUT"===m.prop("tagName")&&(e.validateFunc=function(){m.validate()},e.checkbox=$('<i class="fa fa-check-circle form-validation-icon"></i>'),e.invalidX=$('<i class="fa fa-times-circle form-validation-icon"></i>'),e.loadingSpinner=$('<i class="fa fa-spinner fa-spin form-validation-icon"></i>'),
[e.checkbox,e.invalidX,e.loadingSpinner].forEach(function(a){a.insertAfter(m);a.hide()}));m.attr("data-validate",b.unwrap(h()));l.verify({prompt:function(e,g,h){var k=d[e.attr("id")],m=e,v=m.parent("label"),x=v.clone().find("select").remove().end().text(),x=x.replace(/([^A-Za-z0-9]{1})$/,"").trim();"SELECT"===e.prop("tagName")&&!e.is(":visible")&&e.next()&&(m=e.next());m.removeClass("verified verify-error");v.removeClass("verify-error");g?(m.addClass("verify-error"),v.addClass("verify-error"),clearTimeout(p),
v.length&&(g=-1!==g.indexOf("{fieldName}")?g.replace("{fieldName}",x.toLowerCase()):x+" "+g.toLowerCase()),l.find(".message-box").length&&f!==m||(f=m,ZAP.ui.appendMessage(g,l,"error"))):(m.addClass("verified"),clearTimeout(p),f&&$("#"+f.context.id).length&&f!==m||(p=window.setTimeout(function(){ZAP.ui.removeMessage(l)},250)));k&&"INPUT"===m.prop("tagName")&&([k.checkbox,k.invalidX,k.loadingSpinner].forEach(function(a){a.hide()}),m=n?a:c,h?(k.loadingSpinner.show(),k.loadingSpinner.position(_.extend(m,
{of:e}))):g?(k.invalidX.show(),k.invalidX.position(_.extend(m,{of:e})),b.cleanNode(k.invalidX[0]),k.invalidX.attr("data-bind","tooltip: '"+g.replace("'","\\'")+"'"),b.applyBindings({},k.invalidX[0]),e.on("keypress focus",k.validateFunc)):(k.checkbox.show(),k.checkbox.position(_.extend(m,{of:e})),e.off("keypress focus",k.validateFunc)))}})}};b.bindingHandlers.accessibleClick={init:function(a,c,d,e,l){b.bindingHandlers.click.init.call(this,a,c,d,e,l);b.bindingHandlers.event.init.call(this,a,function(){return{keypress:function(a,
b){32!==b.keyCode&&13!==b.keyCode||c().apply(e,arguments)}}},d,e,l)}};var e=function(a){var b=$(a),c=$(".edit-text-btn");if(!window.isTablet){var d=function(b){b.target===a||b.target===c[0]||$.contains(a,b.target)?c.position({my:"left+1 center",at:"center center",of:b}):($(document).off("mousemove",d),c.hide())},e=!1;b.on("mouseenter",function(){e||(c.show(),$(document).on("mousemove",d))});b.on("focus editable.focus",function(){e=!0;$(document).off("mousemove",d);c.hide()});b.on("blur editable.blur",
function(){e=!1})}};(function(){var a=b.bindingHandlers.textInput;b.bindingHandlers.editable={init:function(c,d,m,l,n){var p=$(c);e(c);p.addClass("no-transition");p.is("textarea")&&(p.attr("rows")||p.attr("rows","1"),p.prop("wrap","hard"),p.css("overflow","hidden").autogrow());var f=d(),f="function"===typeof f?{text:f}:b.utils.unwrapObservable(f);if("object"===typeof f.pauseOnEdit)p.on("focus",function(){f.pauseOnEdit.pause()});p.on("keydown",function(a){13===a.keyCode&&p.is("input")&&(a.stopPropagation(),
a.preventDefault(),p.blur())});if(f.tabFunction)p.on("keydown",function(a){9!==a.keyCode||f.tabFunction()||(a.stopPropagation(),a.preventDefault())});return a.init(c,function(){return f.text},m,l,n)}};b.bindingHandlers.fancyEditable={init:function(a,c){var d=$(a),g=c(),g="function"===typeof g?{text:g}:b.unwrap(g),n;n="all"===g.formatting?"bold italic underline fontSize math align insertUnorderedList createLink".split(" "):"none"===g.formatting?[]:["bold","italic","underline","createLink","math"];
var p={};if("he"===window.locale){var f=function(a,b,c){a.saveSelectionByMarkers();for(var d=a.getSelectionElements(),e=0;e<d.length;e++){var f=d[e];f!==a.$element.get(0)&&$(f).css("direction",b).css("text-align",c)}a.restoreSelectionByMarkers();a.saveUndoStep()};p.rtlDropdown={title:"Text Direction",icon:{type:"font",value:"fa fa-arrows-h"},options:{'<i class="fa fa-long-arrow-right"></i>':function(){f(this,"ltr","left")},'<i class="fa fa-long-arrow-left"></i>':function(){f(this,"rtl","right")}}};
n.push("rtlDropdown")}$.Editable.DEFAULTS.customButtons={math:{title:"Math",icon:{type:"txt",value:"\u03a3"},callback:function(){this.insertMath()},undo:!1}};d.editable({inlineMode:!0,alwaysVisible:!0,placeholder:ZAP.translate(d.attr("data-placeholder")),borderColor:g.invertSkin?"#000":"#fff",inverseSkin:g.invertSkin,spellcheck:!0,alwaysBlank:!0,buttons:n,customDropdowns:p,plainPaste:!0,pasteImage:!1,imageUploadURL:"/ajax/images",imageUploadParams:{_csrf:window.csrfToken},maxImageSize:1048576,allowedImageTypes:["jpeg",
"jpg","png","gif"]});d.on("editable.contentChanged",function(a,c){var d=String(c.getHTML());g.text(d);b.processAllDeferredBindingUpdates()});d.on("editable.imageError",function(a,b,c){0===c.code?ZAP.showAlert("Upload error: "+c.message):5===c.code?ZAP.showAlert("That image is too large. Please resize it smaller than 1MB and try again."):6===c.code?ZAP.showAlert("That image is in an invalid type. Please upload it in JPG, PNG, or GIF and try again."):ZAP.showAlert("Upload error: "+c.message)});$(a).parents(".interactive-element-content").length&&
b.utils.domNodeDisposal.addDisposeCallback($(a).parents(".interactive-element-content")[0],function(){d.editable("destroy")});e(a);if("object"===typeof g.pauseOnEdit)d.find(".froala-element").on("focus",function(){var a=$(this);setTimeout(function(){a.is(":focus")&&g.pauseOnEdit.pause()},0)})},update:function(a,c){var d=c(),d="function"===typeof d?{text:d}:b.unwrap(d),e=$(a),g=String(e.editable("getHTML"));d.text()!==g&&e.editable("setHTML",d.text()||"")}}})();b.bindingHandlers.valueOrEmpty={init:function(a,
c,d,e,l){b.applyBindingsToNode(a,{value:c(),valueAllowUnset:!0},l);d=function(){b.processAllDeferredBindingUpdates();$(a).trigger("change")};d();b.isObservable(c())&&c().subscribe(d)}};b.bindingHandlers.zpContinue={init:function(a,c){var d=b.utils.unwrapObservable(c()),e;"object"===typeof d&&d.player&&(e=d.el,d=d.player);$(a).click(function(a){a.preventDefault();a.stopPropagation();d&&(e?(d.dequeueElement(e),d.playUnlessBlocked()):d.play())})}};b.bindingHandlers.data={update:function(a,c){var d=b.utils.unwrapObservable(c()),
e;for(e in d)d.hasOwnProperty(e)&&$(a).data(e,b.utils.unwrapObservable(d[e]))}};b.bindingHandlers.image={update:function(a,c){var d=$(a),e=b.utils.unwrapObservable(c());if("string"===typeof e)a.src=e;else{d.one("error",function(){a.src=l});var d=b.utils.unwrapObservable(e.src),l=b.utils.unwrapObservable(e.fallback),e=b.utils.unwrapObservable(e.alt);a.src=d||l;a.alt=e||""}}};b.bindingHandlers.canvasImage={update:function(a,c,d){var e=d.get("canvasMatchSize");c={initialDrawingJSON:b.unwrap(c()),viewOnly:!0,
width:d.get("canvasWidth")||(e?void 0:a.offsetWidth),height:d.get("canvasHeight")||(e?void 0:a.offsetHeight),matchSize:e,scaleFrom:d.get("canvasScaleFrom")||{width:619,height:348}};new SimpleDraw(a,c)}};b.bindingHandlers.stopBindings={init:function(){return{controlsDescendantBindings:!0}}};b.bindingHandlers.slideVisible={init:function(a,c){var d=!!b.utils.unwrapObservable(c());$(a).toggle(d)},update:function(a,c){b.utils.unwrapObservable(c())?$(a).slideDown():$(a).slideUp()}};b.bindingHandlers.fadeVisible=
{init:function(a,c){var d=!!b.utils.unwrapObservable(c());$(a).toggle(d)},update:function(a,c){b.utils.unwrapObservable(c())?$(a).fadeIn():$(a).fadeOut()}};b.bindingHandlers.fastFadeVisible={init:function(a,c){var d=!!b.utils.unwrapObservable(c());$(a).toggle(d)},update:function(a,c){b.utils.unwrapObservable(c())?$(a).fadeIn("fast"):$(a).fadeOut("fast")}};b.bindingHandlers.accordion={init:function(a,c){var d=$(a),e=b.utils.unwrapObservable(c());d.on("click",e,function(){$(this).hasClass("-expanded")?
$(this).removeClass("-expanded"):(d.find(e).removeClass("-expanded"),$(this).addClass("-expanded"))})}};b.bindingHandlers.tooltip={init:function(a,c,d,e,l){b.contextFor(a);var n=b.bindingHandlers.tooltip.tooltipTypes;if(c=b.utils.unwrapObservable(c())){var p="string"===typeof c?{type:"default",text:c}:c;p.type=b.utils.unwrapObservable(p.type)||"default";p.text=p.text||"";l.text=p.text;c=n[p.type].html||n["default"].html;var f=$.extend({of:a,using:function(a,b){$(this).css(a);$(this).removeClass("tip-top tip-right tip-bottom tip-left");
var c=n[p.type].arrows||n["default"].arrows;"topbottom"===c?b.target.top>b.element.top?$(this).addClass("tip-bottom"):$(this).addClass("tip-top"):"leftright"===c&&(b.target.left<b.element.left?$(this).addClass("tip-left"):$(this).addClass("tip-right"))}},n[p.type].position),q=!1,r=!1,u=$(c);b.utils.domNodeDisposal.addDisposeCallback(a,function(){u.remove()});u.appendTo("body");b.cleanNode(u[0]);b.applyBindings(l,u[0]);u.remove();var s=function(){u.appendTo(document.fullscreenElement||document.mozFullScreenElement||
document.webkitFullscreenElement||"body").css(n[p.type].css||n["default"].css).position(f||n["default"].position);l.text=p.text;b.cleanNode(u[0]);b.applyBindings(l,u[0]);u.show()};if(p.manualTrigger){u.addClass("manual");var t;p.manualTrigger.on.subscribe(function(a){a?p.manualTrigger.delay?t=window.setTimeout(s,p.manualTrigger.delay):s():(t&&window.clearTimeout(t),u.remove())})}else $(a).mousedown(function(){q=!0;var a=function(){u.position(f||n["default"].position)};$(document).on("mousemove",a);
$(document).one("mouseup",function(){q=!1;r||u.remove();$(document).off("mousemove",a)})}).mouseenter(function(){r=!0;s();$(a).one("mouseleave",function(){r=!1;q||u.remove()})});p.repositionOnChange&&b.isObservable(p.repositionOnChange)&&p.repositionOnChange.subscribe(function(){u.position(f||n["default"].position)})}},update:function(a,c,d,e,l){b.unwrap(c())&&(a=b.unwrap(c()).text,l.text=a)},tooltipTypes:{"default":{html:'<div class="zaption-tooltip"><h6 data-bind="text: $context.text"></h6></div>',
position:{my:"center bottom",at:"center top"},css:{},arrows:"topbottom"},scoring:{html:'<div class="zaption-tooltip scoring"><h6 data-bind="text: $context.text"></h6></div>',position:{my:"center bottom",at:"center top-10"},css:{},arrows:"topbottom"},tiny:{html:'<div class="zaption-tooltip tiny"><h6 data-bind="text: $context.text"></h6></div>',position:{my:"center bottom",at:"center top"},css:{},arrows:"topbottom"},"tiny-bottom":{html:'<div class="zaption-tooltip tiny"><h6 data-bind="text: $context.text"></h6></div>',
position:{my:"center top",at:"center bottom"},css:{},arrows:"topbottom"},upgrade:{position:{my:"center bottom-12",at:"center top"}},right:{html:'<div class="zaption-tooltip"><h6 data-bind="text: $context.text"></h6></div>',position:{my:"left center",at:"right center"},css:{},arrows:"leftright"},toolbarElement:{position:{my:"center bottom-2",at:"center top"},css:{"max-width":"none",width:"auto","text-align":"center"},arrows:"topbottom"},cropSettings:{position:{my:"center bottom-8",at:"center top"},
arrows:"topbottom"},timelineClip:{html:'<div class="zaption-tooltip"><h6 data-bind="text: $data.text()"></h6><small data-bind="text: ZAP.util.secondsToTimestamp($data.duration())"></small></div>',position:{my:"center bottom-2",at:"center top"},arrows:"topbottom"},constructTimelineElement:{html:'<div class="zaption-tooltip"><h6 data-bind="text: $data.displayType()"></h6><small data-bind="text: ZAP.util.secondsToTimestamp($data.inTime())"></small></div>',position:{my:"left+19 center",at:"right top"},
arrows:"leftright"},constructTimelineJumpTarget:{html:'<div class="zaption-tooltip"><h6>Jump Target</h6><small data-bind="text: ZAP.util.secondsToTimestamp(($data.targetTime ? $data.targetTime() : $data.jumpTargetTime()) || \'\')"></small></div>',position:{my:"left+19 center",at:"right top"},arrows:"leftright"}}};b.bindingHandlers.tabs={init:function(a){$(a).each(function(){var a=$(this);a.on("click",".tab-slip, dd > a",function(b){var c=a.find(".tab-slip, dd > a");if(!$(this).hasClass("disabled")){var d=
$(this).attr("href"),d=d+"Tab";"#"===d.charAt(0)&&(b.preventDefault(),c.filter(".active").not(this).each(function(){var a=$(this).data("onDeactivated");a&&a()}),c.removeClass("active"),$(this).addClass("active"),$(d).parent(".tabs-content").children("li").css({display:"none"}),$(d).css({display:"block"}),(b=$(this).data("onActivated"))&&b())}})})}};b.bindingHandlers.ZaptionPlayer={init:function(a,c){var d=b.utils.unwrapObservable(c());new ZaptionPlayer(a.id,d.playlist,{initialClip:d.initialClip,sidebarId:d.sidebarId,
overlayId:d.overlayId,controlBar:d.controlBar,seekBar:d.seekBar,channelId:d.channelId||null,playerMode:d.playerMode||"view",viewModel:d.viewModel})}};b.bindingHandlers.ZaptionPreviewPlayer={update:function(a,c,d,e){if((c=b.utils.unwrapObservable(c()))&&(!d.get("playerRef")||!d.get("playerRef")()||d.get("playerRef")().id!==a.id)){var l=new ZaptionPlayer(a.id,c.jsonPlaylist,{initialClip:d.get("initialClip"),sidebarId:d.get("sidebarId"),overlayId:d.get("overlayId"),controlBar:d.get("controlBar"),seekBar:d.get("seekBar"),
playerMode:"preview",viewModel:e});l.on("play",function p(){ZAP.util.track("Started Gallery Tour Preview");l.off("play",p)});d.get("playerRef")&&d.get("playerRef")(l)}}};b.bindingHandlers.autofocus={init:function(a,c){b.utils.unwrapObservable(c())&&$(a).focus()}};b.bindingHandlers["class"]={update:function(a,c){a.__ko__previousClassValue__&&$(a).removeClass(a.__ko__previousClassValue__);var d=b.utils.unwrapObservable(c());$(a).addClass(d);a.__ko__previousClassValue__=d}};b.bindingHandlers.vclick=
{init:function(a,c,d,e,l){return b.bindingHandlers.event.init.call(this,a,function(){var a={};a.vclick=c();return a},d,e,l)}};b.bindingHandlers.fancySwitch={init:function(a,b){var c=b(),d=c();$(a).addClass("zaption-switch").addClass("zaption-switch-"+(d?"on":"off"));$(a).append($('<div class="zaption-switch-inside-slider"><div class="zaption-switch-half">on<div class="zaption-switch-bullet"></div></div><div class="zaption-switch-half">off</div></div>'));$(a).on("vmousedown",function(){c(!c())})},
update:function(a,b){var c=b()();$(a).removeClass("zaption-switch-"+(c?"off":"on")).addClass("zaption-switch-"+(c?"on":"off"))}};b.bindingHandlers.disabledSection={update:function(a,c){b.utils.unwrapObservable(c())?($(a).addClass("disabled-section"),$(a).find("input, button").attr("disabled","disabled")):($(a).removeClass("disabled-section"),$(a).find("input, button").removeAttr("disabled"))}};b.bindingHandlers.flashText={init:function(a){$(a).hide()},update:function(a,c){var d=b.utils.unwrapObservable(c());
d.length&&$(a).text(d).fadeIn(200).delay(2E3).fadeOut(1E3)}};b.bindingHandlers.ellipsisText={init:function(a,c){var d=$(a),e=b.unwrap(c());d.text(e);e=parseFloat(d.css("height"))||parseFloat(d.css("max-height"))||null;d.trigger("destroy.dot");d.dotdotdot({height:e})},update:function(a,c){var d=b.unwrap(c());$(a).text(d).trigger("update.dot")}};b.bindingHandlers.confirm={init:function(a,c,d,e,l){var n=$(a),p=l.$data,f=d.get("confirmMessage")||"Please confirm this action";n.on("click",function(){n.hasClass("disabled")||
ZAP.showConfirmation({prompt:f,cancelText:d.get("cancelButtonText"),confirmText:d.get("confirmButtonText"),confirmAction:function(){return b.utils.unwrapObservable(c())(p)}},e)})}};b.bindingHandlers.slider={init:function(a,c){var d=$(a),e=$('<div class="slider-holder" id="holder'+$(".slider-holder").length+'"/>'),l=b.utils.unwrapObservable(c()),n=b.unwrap(l.min)||0;if(b.isObservable(l.min)){var p=$('<div class="range-min"/>');d.append(p);l.min.subscribe(function(a){var b=100*(a-n)/(l.max-n);e.slider("option",
"min",a);e.css({left:b+"%"});p.css({width:b+"%"});l.value()<a&&l.value(a)})}b.isObservable(l.max)&&l.max.subscribe(function(a){e.slider("option","max",a);l.value()>a&&l.value(a)});d.append(e);l.value.subscribe(function(a){e.slider("value",a);l.allowOutOfRange||(a<b.unwrap(l.min)&&l.value(b.unwrap(l.min)),a>b.unwrap(l.max)&&l.value(b.unwrap(l.max)))});e.slider({stop:function(a,b){l.value(b.value)},slide:function(a,b){l.value(b.value)},min:n,max:l.max,range:"min",value:l.value()})}};b.bindingHandlers.closeModal=
{init:function(a,c){$(a).on("click",function(){b.utils.unwrapObservable(c())&&$(".reveal-modal").trigger("reveal:close")})}};b.bindingHandlers.selectOn={update:function(a,c){var d=$(a);b.utils.unwrapObservable(c())&&(d.focus(),d.select())}};b.bindingHandlers.multiSelect={init:function(a,c){var d=b.unwrap(c());$(a).attr("multiple","multiple").multiselect(d)}};b.bindingHandlers.autoComplete={init:function(a,c){var d=b.unwrap(c()),e=$(a);e.autocomplete({appendTo:d.parent,source:d.source,select:d.select,
minLength:0});if(d.suggest)e.on("click",function(){e.autocomplete("search",e.val())})}};b.bindingHandlers.openClose={init:function(a,c,d,e){if(b.unwrap(c())){var l=$(a),n=d.get("stopBindings"),p=function(a){a?(l.addClass("open"),n&&(_.forEach(l.children(),function(a){b.applyBindings(e,a)}),n=!1)):l.removeClass("open")};if("hover"===(d.get("openCloseOn")||"click"))l.on("mouseenter",function(){p(!0)}),l.on("mouseleave",function(){p(!1)}),l.on("click",function(a){l.find(".open-close-drop").has(a.target).length&&
p(!1)}),l.is(":hover")&&p(!0);else $(document).on("click",function(a){if(!l.has(a.target).length&&!l.is(a.target))p(!1);else if(!l.find(".open-close-drop").has(a.target).length||$(a.target).hasClass("close-drop"))l.hasClass("open")?p(!1):p(!0)})}}};b.bindingHandlers.drag={init:function(a,c,d,e,l){var n=b.utils.unwrapObservable(c()),p=l.$data;$(a).draggable({revert:!0,revertDuration:0,helper:n.helper,handle:n.useHandle?".drag-handle":void 0,start:function(){n.start&&n.start.call(p,p)},stop:function(){n.stop&&
n.stop.call(p,p)}})}};b.bindingHandlers.drop={init:function(a,c,d,e,l){var n=d.get("confirmMessage"),p=b.utils.unwrapObservable(c());$(a).droppable({accept:d.get("acceptDrop")||".browse-item",hoverClass:"ready-for-drop",tolerance:"pointer",drop:function(a,c){var g=b.contextFor(c.draggable.get(0)).$data;if(n)ZAP.showConfirmation({prompt:n,confirmText:d.get("confirmButtonText"),confirmAction:function(){return p.call(l.$data,g)}},e);else return p.call(l.$data,g)}})}};b.bindingHandlers.previewPlayer=
{init:function(a){$(a).data("playerData",{player:null,lastVideoId:null,inTimeSubscription:null,clip:null});b.utils.domNodeDisposal.addDisposeCallback(a,function(){var b=$(a).data("playerData").player;b&&b.destroy();$(a).data("playerData",null)})},update:function(a,c,d){c=b.utils.unwrapObservable(c());var e=$(a),l=d.get("inTime")||void 0,n=$(a).data("playerData");a=function r(){e.children("img").remove();n.player&&n.player.off("canplay",r)};if(c)if(n.player&&n.lastVideoId&&c._id===n.lastVideoId)"Clip"===
c._instanceType?(n.clip.videoDuration(c.videoDuration()),n.clip.inTime(c.inTime()),n.clip.outTime(c.outTime())):(n.clip.inTime(0),n.clip.outTime(c.duration()));else{var p;p="Clip"===c._instanceType?new ZAP.Clip({_id:c._id,video:c.video(),inTime:c.inTime(),outTime:c.outTime(),text:c.text(),videoDuration:c.videoDuration(),videoLocation:c.videoLocation(),videoType:c.videoType(),archivePartner:c.archivePartner(),thumbLocation:c.thumbLocation(),transcript:c.transcript()},{temporary:!0}):new ZAP.Clip({_id:(new ObjectId).toString(),
video:c._id,inTime:0,outTime:c.duration(),text:c.name(),videoDuration:c.duration(),videoLocation:c.videoLocation(),videoType:c.videoType(),archivePartner:c.archivePartner(),thumbLocation:c.thumbLocation(),transcript:c.transcript()},{temporary:!0});n.clip=p;n.player&&(n.player.destroy(),n.player=null,n.inTimeSubscription&&(n.inTimeSubscription.dispose(),n.inTimeSubscription=null));a();var f=$("<img>");f.attr("src",p.thumbLocation());f.css({width:"100%",height:"100%"});e.append(f);n.player=ZPPlaylistPlayer.createPlayerForType(ZPPlaylistPlayer.playerForVideoType(p.videoType()),
e,p,!d.get("hideControls"));if(n.player){n.lastVideoId=c._id;n.player.on("loadeddata",a);if(l)n.player.on("loadeddata",function(){n.player.seek(l());n.inTimeSubscription||(n.inTimeSubscription=l.subscribe(function(a){n.player.seek(a);n.player.pause()}))});if(d.get("autoplay"))n.player.on("loadeddata",function(){n.player.play()});d.get("mute")&&n.player.setMute(!0);if(d.get("onVideoEnd"))n.player.on("ended",function(){d.get("onVideoEnd")()})}else n.lastVideoId=null}else n.player&&(n.player.destroy(),
n.player=null,n.lastVideoId=null),a()}};b.bindingHandlers.ZaptionGrid={init:function(a,c,d,e,l){c=d.get("ZaptionGridHeaders");a=$(a);var n=$("<tr/>");_.forEach(c,function(a){var c=$("<th/>").text(a.title);if(a.sort)c.addClass("sortable").on("vclick",a.sort);a.className&&c.addClass(a.className);a.headerDataBinding&&(c.attr("data-bind",a.headerDataBinding),b.applyBindings(l.$root,c[0]));n.append(c)});a.append($("<thead/>").append(n)).append("<tbody/>")},update:function(a,c,d,e,l){var n=b.utils.unwrapObservable(c()),
p=d.get("ZaptionGridHeaders");if(c=d.get("ZaptionGridSort"))e=$(a).find("thead"),e.find("th").removeClass("sorted").removeClass("up"),e.find("th").eq(c().column).addClass("sorted").toggleClass("up",c().up);var f=$(a).find("tbody");if(n){"notranslate"===d.get("localize")&&f.attr("notranslate","");f.find(".js-table-prefix").remove();var q=f.find("tr");q.filter(function(a){return a>=n.length}).remove();_.forEach(n,function(a,c){var d=$("<tr/>");_.forEach(p,function(c,e){var f;f=c.accessor?c.accessor(a):
a[e];c.formatter&&(f=c.formatter(f));var g=$("<td/>");c.allowHTML?g.html(f):g.text(f);c.formattingCallback&&c.formattingCallback(g,a);d.append(g);a.$root=l.$root;c.rowDataBinding&&(g.attr("data-bind",c.rowDataBinding),c.dataBound=!0);c.dataBound&&b.applyBindings(a,g[0])});if(q.eq(c).html()===d.html())return!1;q.eq(c).length&&q.eq(c).remove();f.append(d)});d.get("ZaptionGridWarning")&&(c=$('<tr class="contains-warning js-table-prefix"><td colspan="'+p.length+'"></td></tr>'),c.find("td").html(d.get("ZaptionGridWarning")),
f.prepend(c));(d=d.get("ZaptionGridAfterRender"))&&"function"===typeof d&&d.call($(a))}else f.empty()}}};window.countLines=function(b){var d=b.outerHeight();b=parseFloat(b.css("lineHeight"));return Math.round(d/b)};
ZAP.showAlert=function(){var b=[];return function c(a,e){e=e||{};$(".zp-alert").hasClass("open")?b.push({message:a,options:e}):dust.render("alert",{message:a,options:e},function(a,h){var k=$(h).appendTo(".modals"),m=function(a){if(13===a.keyCode&&k.is(":visible").length)return k.trigger("reveal:close"),!1};k.find(".alert-close-button").on("click",function(){$(".reveal-modal").trigger("reveal:close")});$(document).keypress(m);k.on("reveal:closed",function(){k.remove();$(document).off("keypress",m);
"function"===typeof e.afterClose&&e.afterClose.apply(this);if(0<b.length){var a=b.shift();c(a.message,a.options)}});k.show();var l=window.countLines(k.find("#alertText"));5<=l?k.removeClass("small medium large").addClass("large"):3<=l?k.removeClass("small medium large").addClass("medium"):k.removeClass("small medium large").addClass("small");k.hide();screenfull.isFullscreen&&screenfull.exit();k.reveal();$(".reveal-modal-bg").css("cursor","pointer")})}}();
ZAP.forceAlert=function(b){$(".zp-alert").hasClass("open")&&$(".zp-alert").trigger("reveal:close");var d;dust.render("alert",{message:b,isForced:!0},function(b,a){d=$(a).appendTo(".modals");d.addClass("forced-alert");d.on("reveal:closed",function(){d.remove()});d.reveal({closeOnBackgroundClick:!1,disableEsc:!0});$(".reveal-modal-bg").css("cursor","default")});return function(){d&&d.trigger("reveal:close")}};
ZAP.showConfirmation=function(b,d){dust.render("confirmation",_.extend({csrf:window.csrfToken},b),function(c,a){var e=$(a).appendTo(".modals"),g=function(a){if(13===a.keyCode)return e.find("form").submit(),!1};d&&ko.applyBindings(d,e[0]);var h=!1;e.find(".cancel-btn").on("click",function(){$(".reveal-modal").trigger("reveal:close")});e.find("form").on("submit",function(){h=!0;e.trigger("reveal:close");b.confirmAction&&b.confirmAction(this);if(!b.confirmPostURL)return!1});$(document).keypress(g);e.on("reveal:close",
function(){$(document).off("keypress",g);!h&&b.cancelAction&&b.cancelAction(this)});e.on("reveal:closed",function(){e.remove()});e.show();var k=window.countLines(e.find(".confirm-modal-title")),m=window.countLines(e.find(".confirm-modal-prompt"));3<=k||5<=m?e.removeClass("small medium large").addClass("large"):2<=k||3<=m?e.removeClass("small medium large").addClass("medium"):e.removeClass("small medium large").addClass("small");e.hide();e.reveal()})};
ZAP.util.formatNumberWithCommas=function(b){return String(b).replace(/\B(?=(\d{3})+(?!\d))/g,",")};ZAP.util.formatLargeNumber=function(b){b=parseInt(b,10);return 1E3<b?Math.floor(b/1E3)+"k":String(b)};
ZAP.util.getOnlyGroupAutocompleteResults=function(){var b=_.filter(window.currentUser&&window.currentUser.groups||[],function(b){return"admin"===b.role||"contributor"===b.role}),d=_.map(b,function(b){return{label:b.groupName,value:b.groupName,id:b.groupId,type:"group"}});return function(b,a){if(!d.length)return a(null,[]);var e=RegExp("^"+$.ui.autocomplete.escapeRegex(b),"i"),g=d.filter(function(a){return e.test(a.value)});return a(null,g)}}();
ZAP.util.updatePromosViewed=function(b,d){amplify.request({resourceId:"promosViewed",data:{promo:b},success:d||function(){}})};
ZAP.util.getAutocompleteResults=function(){var b=_.filter(window.currentUser&&window.currentUser.groups||[],function(b){return"admin"===b.role||"contributor"===b.role}),d=_.map(b,function(b){return{label:b.groupName,value:b.groupName,id:b.groupId,type:"group"}});return function(b,a,e){"function"===typeof a&&(e=a,a=!1);if(0===b.length)return e(null,a?d.slice(0,3):[]);amplify.request({resourceId:"checkMatch",data:{input:b},success:function(g){if(g){var h=g.exactMatches;g=g.groupMates;var k=RegExp("^"+
$.ui.autocomplete.escapeRegex(b),"i"),m=[];a&&d.forEach(function(a){k.test(a.value)&&m.push(a)});h.forEach(function(a){m.push({label:a.name,value:a.email||a.username,id:a._id,type:"user"})});g.forEach(function(a){m.push({label:a.name,value:a.email||a.username,id:a._id,type:"user"})});m=_.uniq(m,!1,function(a){return a.type+"+"+a.value+"+"+a.label});return e(null,m.slice(0,5))}e(null,[])},error:function(a){return e("Error getting autocomplete results: "+a.message)}})}}();
window.incDurationField=function(b,d){var c=$(d.target).parents(".time-input").find("input"),a=Number(c.val());isNaN(a)&&(a=0);c.val(a+1);c.trigger("change")};window.decDurationField=function(b,d){var c=$(d.target).parents(".time-input").find("input"),a=Number(c.val());isNaN(a)&&(a=0);c.val(a-1);c.trigger("change")};amplify.request.define("addGrantUser","ajax",{url:"/ajax/{itemType}s/{itemId}/grant/readwrite",dataType:"json",type:"POST",decoder:"zsend"});
amplify.request.define("removeGrant","ajax",{url:"/ajax/{itemType}s/{itemId}/grant/remove",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("getVideo","ajax",{url:"/ajax/videos/{videoId}",dataType:"json",type:"GET",decoder:"zsend",cache:!0});amplify.request.define("updateYouTubeVideo","ajax",{url:"/ajax/videos/{videoId}/ytupdate",dataType:"json",type:"GET",decoder:"zsend",cache:3E4});
amplify.request.define("getTranscript","ajax",{url:"/ajax/transcripts/{tsId}",dataType:"json",type:"GET",decoder:"zsend",cache:!0});amplify.request.define("getKalturaSession","ajax",{url:"/ajax/videos/getks",dataType:"json",type:"GET",decoder:"zsend",cache:864E5});amplify.request.define("cloneViaUsername","ajax",{url:"/ajax/tours/clone",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("checkMatch","ajax",{url:"/ajax/user/checkMatch",type:"GET",decoder:"zsend",dataType:"json",cache:6E4});
amplify.request.define("closeSiteMessage","ajax",{url:"/ajax/user/messages/{messageId}",type:"DELETE",decoder:"zsend",dataType:"json"});
$(document).ready(function(){$(".edit-text-btn").css("display","inline-block");$(".edit-text-btn").hide();setImmediate(function(){if($("[data-clipboard-text], [data-clipboard-target]").length){$("[data-clipboard-text], [data-clipboard-target]").addClass("clip-button");var b=new Clipboard(".clip-button");b.on("success",function(b){ZAP.ui.appendMessage("Copied to Clipboard!",$(b.trigger).parent(),"success",3E3);b.clearSelection()});b.on("error",function(b){ZAP.ui.appendMessage("Press Command + C to copy",
$(b.trigger).parent(),3E3)})}});$("input, textarea").placeholder();$(document).foundationCustomForms()});ZAP.registerComponent=function(b,d,c){dust.render(c||b,{},function(a,c){ko.components.register(b,{template:c,viewModel:{createViewModel:function(a,b){return new d(a,b)}}})})};ZAP.hasFeature=function(b){return window.switches&&window.switches[b]&&window.switches[b].active};
(function(){ZAP.setLocalUsername=function(b){amplify.store("ZPViewerName",b,{expires:26784E5})};ZAP.getLocalUsername=function(b){var d=amplify.store("ZPViewerName"),c="";d?c=d:b&&(c="Viewer "+Math.round(1E3*Math.random()));return c}})();ZAP.drawingPlaceholder='{"objects":[{"type":"path","originX":"center","originY":"center","left":53,"top":85,"width":32,"height":62,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",26.5,5],["Q",26.5,5,27,5],["Q",27.5,5,26.75,4],["Q",26,3,26,2.5],["Q",26,2,24.5,1],["Q",23,0,22.5,0],["Q",22,0,21.5,0],["Q",21,0,19,1],["Q",17,2,15,3.5],["Q",13,5,12,6.5],["Q",11,8,9,10.5],["Q",7,13,5.5,15],["Q",4,17,3,20.5],["Q",2,24,1.5,27],["Q",1,30,0.5,34],["Q",0,38,0,40.5],["Q",0,43,0,45],["Q",0,47,1,49.5],["Q",2,52,4,55],["Q",6,58,7.5,59],["Q",9,60,10.5,61],["Q",12,62,15,62],["Q",18,62,20.5,62],["Q",23,62,24.5,60.5],["Q",26,59,27.5,58],["Q",29,57,30,54.5],["Q",31,52,31.5,51],["Q",32,50,32,50],["L",32,50]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":86.25,"top":83,"width":9,"height":62,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,0],["Q",0,0,0.5,0],["Q",1,0,0.75,1.5],["Q",0.5,3,0.5,5],["Q",0.5,7,0.5,9.5],["Q",0.5,12,0.5,16.5],["Q",0.5,21,0.5,24.5],["Q",0.5,28,0.5,31.5],["Q",0.5,35,1,38.5],["Q",1.5,42,1.5,44],["Q",1.5,46,1.5,49],["Q",1.5,52,2,54],["Q",2.5,56,3.5,58],["Q",4.5,60,5.5,61],["Q",6.5,62,8,62],["L",9.5,62]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":104,"top":64,"width":1,"height":0,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,0],["Q",0,0,0.5,0],["L",1,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":104,"top":63,"width":1,"height":0,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,0],["Q",0,0,0.5,0],["L",1,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":106.5,"top":95.5,"width":9,"height":33,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0.5,0],["Q",0.5,0,1,0],["Q",1.5,0,0.75,2],["Q",0,4,0,5.5],["Q",0,7,0,8.5],["Q",0,10,0,11.5],["Q",0,13,0,15.5],["Q",0,18,0,19.5],["Q",0,21,0,22.5],["Q",0,24,0.5,25.5],["Q",1,27,1.5,28.5],["Q",2,30,3,31],["Q",4,32,5,32.5],["Q",6,33,7,33],["Q",8,33,8.5,33],["Q",9,33,9,33],["L",9,33]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":133,"top":93.5,"width":26,"height":35,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",18.5,3],["Q",18.5,3,19,3],["Q",19.5,3,17.75,1.5],["Q",16,0,15.5,0],["Q",15,0,14,0],["Q",13,0,12,0.5],["Q",11,1,9,2.5],["Q",7,4,5,7],["Q",3,10,2,12.5],["Q",1,15,0.5,18.5],["Q",0,22,0,24],["Q",0,26,0.5,28],["Q",1,30,2.5,31],["Q",4,32,5,33.5],["Q",6,35,8,35],["Q",10,35,12.5,35],["Q",15,35,17,35],["Q",19,35,20.5,33.5],["Q",22,32,23.5,29.5],["Q",25,27,25.5,25.5],["Q",26,24,26,23],["L",26,22]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":162.63,"top":82.5,"width":5,"height":53,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",4.5,0],["Q",4.5,0,5,0],["Q",5.5,0,5.25,0],["Q",5,0,5,0.5],["Q",5,1,5,3.5],["Q",5,6,5,7.5],["Q",5,9,5,10.5],["Q",5,12,5,13],["Q",5,14,5,15.5],["Q",5,17,4.5,21.5],["Q",4,26,4,27],["Q",4,28,4,30.5],["Q",4,33,3.5,34],["Q",3,35,3,40.5],["Q",3,46,3,46.5],["Q",3,47,3,47.5],["Q",3,48,3,49],["Q",3,50,3,50.5],["Q",3,51,2.5,51.5],["Q",2,52,2,52],["Q",2,52,1.5,52.5],["Q",1,53,0.5,53],["L",0,53]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":176.5,"top":85,"width":21,"height":34,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",12.5,0],["Q",12.5,0,13,0],["Q",13.5,0,11.75,3],["Q",10,6,9,8],["Q",8,10,7.5,10.5],["Q",7,11,5,13.5],["Q",3,16,2,17],["Q",1,18,0.5,18.5],["Q",0,19,0,19],["Q",0,19,1,20],["Q",2,21,5,23.5],["Q",8,26,10.5,28.5],["Q",13,31,15,32],["Q",17,33,19,33.5],["L",21,34]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":242,"top":80.5,"width":34,"height":39,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",15.5,0],["Q",15.5,0,16,0],["Q",16.5,0,17.75,0.5],["Q",19,1,19,2.5],["Q",19,4,19,5.5],["Q",19,7,19.5,14.5],["Q",20,22,20,29.5],["Q",20,37,20,39],["Q",20,41,19.5,38],["Q",19,35,19,33.5],["Q",19,32,19,31],["Q",19,30,18,25.5],["Q",17,21,16.5,20],["Q",16,19,15,16],["Q",14,13,13,12.5],["Q",12,12,11.5,12],["Q",11,12,10.5,11.5],["Q",10,11,7,11],["Q",4,11,3.5,11],["Q",3,11,1.5,12.5],["Q",0,14,0,14.5],["Q",0,15,1,16],["Q",2,17,2.5,17.5],["Q",3,18,8,18.5],["Q",13,19,13.5,19.5],["Q",14,20,18,20],["Q",22,20,23,20],["Q",24,20,26.5,19],["Q",29,18,29.5,18],["Q",30,18,31.5,17.5],["Q",33,17,33,17],["Q",33,17,33.5,17],["Q",34,17,34,17],["L",34,17]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":70.63,"top":159,"width":1,"height":44,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0.5,0],["Q",0.5,0,1,0],["Q",1.5,0,1.25,3],["Q",1,6,1,8],["Q",1,10,1,11],["Q",1,12,1,13.5],["Q",1,15,1,17],["Q",1,19,1,20],["Q",1,21,1,26],["Q",1,31,1,31.5],["Q",1,32,1,35],["Q",1,38,1,38.5],["Q",1,39,1,40],["Q",1,41,0.5,41.5],["Q",0,42,0,43],["L",0,44]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":81.75,"top":154.75,"width":28,"height":45,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,5],["Q",0,5,0.5,5],["Q",1,5,4.25,2.5],["Q",7.5,0,8,0],["Q",8.5,0,10,0],["Q",11.5,0,14.5,1],["Q",17.5,2,18,3],["Q",18.5,4,19.5,5],["Q",20.5,6,23,10],["Q",25.5,14,26,14.5],["Q",26.5,15,27.5,20],["Q",28.5,25,28.5,25.5],["Q",28.5,26,28.5,29.5],["Q",28.5,33,28.5,33.5],["Q",28.5,34,27.5,36],["Q",26.5,38,26,38.5],["Q",25.5,39,22.5,40.5],["Q",19.5,42,19,43],["Q",18.5,44,18,44],["Q",17.5,44,15,44.5],["Q",12.5,45,10.5,45.5],["Q",8.5,46,7.5,45.5],["Q",6.5,45,6.5,44.5],["L",6.5,44]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":117.25,"top":159.75,"width":15,"height":27,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,6],["Q",0,6,0.5,6],["Q",1,6,0.75,9],["Q",0.5,12,0.5,17],["Q",0.5,22,0.5,24.5],["Q",0.5,27,0.5,27],["Q",0.5,27,0.5,27.5],["Q",0.5,28,0.5,25.5],["Q",0.5,23,0.5,22.5],["Q",0.5,22,0.5,20],["Q",0.5,18,0.5,17],["Q",0.5,16,0.5,11.5],["Q",0.5,7,1,6.5],["Q",1.5,6,3.5,4],["Q",5.5,2,6,1.5],["Q",6.5,1,8.5,0.5],["Q",10.5,0,11,0],["Q",11.5,0,13,0],["Q",14.5,0,15,0],["L",15.5,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":140.5,"top":158,"width":23,"height":24,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",15.5,5],["Q",15.5,5,16,5],["Q",16.5,5,14.25,3],["Q",12,1,11.5,0.5],["Q",11,0,10,0],["Q",9,0,6.5,1.5],["Q",4,3,2.5,5.5],["Q",1,8,0.5,10.5],["Q",0,13,0,15.5],["Q",0,18,0,20],["Q",0,22,2,23],["Q",4,24,6.5,24],["Q",9,24,10.5,23],["Q",12,22,13,20],["Q",14,18,14.5,14.5],["Q",15,11,15,9.5],["Q",15,8,15.5,8],["Q",16,8,16,11.5],["Q",16,15,16.5,15.5],["Q",17,16,17,17],["Q",17,18,17,18.5],["Q",17,19,17,19.5],["Q",17,20,18,21],["Q",19,22,19,22],["Q",19,22,20.5,22],["Q",22,22,22.5,22],["L",23,22]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":166,"top":172.5,"width":32,"height":49,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",31.5,6],["Q",31.5,6,32,6],["Q",32.5,6,31.75,4.5],["Q",31,3,30,1.5],["Q",29,0,28.5,0],["Q",28,0,21.5,1.5],["Q",15,3,14,6],["Q",13,9,13,12],["Q",13,15,15.5,15.5],["Q",18,16,20.5,16],["Q",23,16,24.5,14.5],["Q",26,13,27.5,11],["Q",29,9,29,8.5],["Q",29,8,29,7.5],["Q",29,7,29,10.5],["Q",29,14,29,18.5],["Q",29,23,28.5,28.5],["Q",28,34,27,38],["Q",26,42,23,45],["Q",20,48,17,48.5],["Q",14,49,13.5,49],["Q",13,49,12,49],["Q",11,49,10.5,49],["Q",10,49,7.5,49],["Q",5,49,4.5,48.5],["Q",4,48,2,46.5],["L",0,45]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":232.5,"top":144.5,"width":5,"height":49,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0.5,0],["Q",0.5,0,1,0],["Q",1.5,0,2.25,0.5],["Q",3,1,3,1.5],["Q",3,2,3,4.5],["Q",3,7,3,10.5],["Q",3,14,2.5,19],["Q",2,24,1,29],["Q",0,34,0,37.5],["Q",0,41,0,43.5],["Q",0,46,1.5,47],["Q",3,48,4,48.5],["L",5,49]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":230.25,"top":140,"width":21,"height":2,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,2],["Q",0,2,0.5,2],["Q",1,2,3.25,2],["Q",5.5,2,11,2],["Q",16.5,2,18,1.5],["Q",19.5,1,20.5,0.5],["L",21.5,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":259.5,"top":155.75,"width":23,"height":26,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",11.5,0.5],["Q",11.5,0.5,12,0.5],["Q",12.5,0.5,11.25,0],["Q",10,-0.5,8.5,0.5],["Q",7,1.5,4,5],["Q",1,8.5,0.5,11.5],["Q",0,14.5,0,17.5],["Q",0,20.5,0.5,23],["Q",1,25.5,4,26],["Q",7,26.5,9.5,26.5],["Q",12,26.5,15,24.5],["Q",18,22.5,19.5,19.5],["Q",21,16.5,22,13],["Q",23,9.5,23,7.5],["Q",23,5.5,20.5,3.5],["Q",18,1.5,16.5,1],["Q",15,0.5,14.5,0.5],["L",14,0.5]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":43,"top":235,"width":28,"height":48,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",21.5,0],["Q",21.5,0,22,0],["Q",22.5,0,22.75,3],["Q",23,6,23,8.5],["Q",23,11,24,19.5],["Q",25,28,25.5,33],["Q",26,38,26,40.5],["Q",26,43,26,44],["Q",26,45,26,45],["Q",26,45,26,44.5],["Q",26,44,26,43.5],["Q",26,43,26,43],["Q",26,43,26,42],["Q",26,41,25,38],["Q",24,35,23.5,34],["Q",23,33,21.5,30],["Q",20,27,20,26],["Q",20,25,18,23],["Q",16,21,15.5,21],["Q",15,21,12.5,20.5],["Q",10,20,10,20],["Q",10,20,7.5,20.5],["Q",5,21,4.5,21],["Q",4,21,2.5,24],["Q",1,27,1,27.5],["Q",1,28,0.5,32.5],["Q",0,37,0,37.5],["Q",0,38,0,40.5],["Q",0,43,0.5,43],["Q",1,43,3.5,45.5],["Q",6,48,6.5,48],["Q",7,48,9.5,48],["Q",12,48,13,48],["Q",14,48,15.5,48],["Q",17,48,18,48],["Q",19,48,19.5,48],["Q",20,48,20.5,48],["Q",21,48,21.5,48],["Q",22,48,23.5,47],["Q",25,46,25,45.5],["Q",25,45,25,45],["Q",25,45,26.5,43.5],["L",28,42]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":74.75,"top":242.5,"width":16,"height":33,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,2],["Q",0,2,0.5,2],["Q",1,2,1.25,2.5],["Q",1.5,3,1.5,4],["Q",1.5,5,1.5,6.5],["Q",1.5,8,1.5,11],["Q",1.5,14,2,18],["Q",2.5,22,2.5,25],["Q",2.5,28,2.5,29.5],["Q",2.5,31,2.5,32],["Q",2.5,33,2,33],["Q",1.5,33,1.5,32.5],["Q",1.5,32,1.5,27],["Q",1.5,22,1.5,17],["Q",1.5,12,5.5,6.5],["Q",9.5,1,11.5,1],["Q",13.5,1,15,1],["Q",16.5,1,16.5,0.5],["L",16.5,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":97,"top":245,"width":26,"height":28,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",18.5,3],["Q",18.5,3,19,3],["Q",19.5,3,19.25,2.5],["Q",19,2,16.5,1],["Q",14,0,13.5,0],["Q",13,0,11,0.5],["Q",9,1,8.5,1],["Q",8,1,7.5,1.5],["Q",7,2,5.5,3.5],["Q",4,5,3.5,5.5],["Q",3,6,2,8],["Q",1,10,1,10.5],["Q",1,11,0.5,13],["Q",0,15,0,15.5],["Q",0,16,0,18.5],["Q",0,21,0,21.5],["Q",0,22,0,24],["Q",0,26,0,26],["Q",0,26,0.5,27],["Q",1,28,1.5,28],["Q",2,28,3.5,28],["Q",5,28,5.5,28],["Q",6,28,8.5,27.5],["Q",11,27,11.5,27],["Q",12,27,14,24.5],["Q",16,22,16,21.5],["Q",16,21,17,18],["Q",18,15,18,15],["Q",18,15,18.5,12.5],["Q",19,10,19,9],["Q",19,8,19,7.5],["Q",19,7,19,6.5],["Q",19,6,19,6],["Q",19,6,19,5.5],["Q",19,5,19,5.5],["Q",19,6,19,6.5],["Q",19,7,19,7.5],["Q",19,8,19,9],["Q",19,10,19,12.5],["Q",19,15,19,16],["Q",19,17,19,18.5],["Q",19,20,19.5,20],["Q",20,20,20.5,21.5],["Q",21,23,21,23],["Q",21,23,21.5,23.5],["Q",22,24,22,24.5],["Q",22,25,23,25.5],["Q",24,26,24.5,26],["Q",25,26,25,26.5],["Q",25,27,25,27],["Q",25,27,25.5,27],["L",26,27]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":136.25,"top":239.5,"width":27,"height":25,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,0],["Q",0,0,0.5,0],["Q",1,0,0.75,3],["Q",0.5,6,0.5,10.5],["Q",0.5,15,0.5,18],["Q",0.5,21,0.5,22.5],["Q",0.5,24,1.5,24.5],["Q",2.5,25,4,25],["Q",5.5,25,7,23],["Q",8.5,21,10,18.5],["Q",11.5,16,11.5,13.5],["Q",11.5,11,11.5,10],["Q",11.5,9,11.5,8.5],["Q",11.5,8,12,10],["Q",12.5,12,12.5,14.5],["Q",12.5,17,13,19],["Q",13.5,21,15,22],["Q",16.5,23,18.5,23.5],["Q",20.5,24,22,24],["Q",23.5,24,24.5,22.5],["Q",25.5,21,26.5,18.5],["Q",27.5,16,27.5,12.5],["Q",27.5,9,27.5,7.5],["Q",27.5,6,27.5,5],["Q",27.5,4,27.5,3],["Q",27.5,2,27.5,2],["L",27.5,2]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":192.75,"top":230,"width":2,"height":44,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,0],["Q",0,0,0.5,0],["Q",1,0,0.75,2.5],["Q",0.5,5,0.5,6],["Q",0.5,7,1,12.5],["Q",1.5,18,1.5,23],["Q",1.5,28,2,31.5],["Q",2.5,35,2.5,37],["Q",2.5,39,2.5,40],["Q",2.5,41,2.5,42.5],["Q",2.5,44,2.5,44],["Q",2.5,44,2,44],["L",1.5,44]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":202.25,"top":237.25,"width":19,"height":27,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,3.5],["Q",0,3.5,0.5,3.5],["Q",1,3.5,3.75,2],["Q",6.5,0.5,8.5,0],["Q",10.5,-0.5,12,0],["Q",13.5,0.5,14,1],["Q",14.5,1.5,15.5,3.5],["Q",16.5,5.5,16.5,5.5],["Q",16.5,5.5,17,8.5],["Q",17.5,11.5,17.5,12],["Q",17.5,12.5,17.5,14.5],["Q",17.5,16.5,17.5,17],["Q",17.5,17.5,17.5,19],["Q",17.5,20.5,17.5,21],["Q",17.5,21.5,17.5,22.5],["Q",17.5,23.5,18,24],["Q",18.5,24.5,18.5,25],["Q",18.5,25.5,18.5,25.5],["Q",18.5,25.5,19,26.5],["L",19.5,27.5]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":233,"top":233.75,"width":24,"height":28,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",2.5,12.5],["Q",2.5,12.5,3,12.5],["Q",3.5,12.5,5.75,13],["Q",8,13.5,10,13],["Q",12,12.5,14,10],["Q",16,7.5,16.5,5],["Q",17,2.5,16,1.5],["Q",15,0.5,13.5,0],["Q",12,-0.5,10,1.5],["Q",8,3.5,5.5,6.5],["Q",3,9.5,1.5,12.5],["Q",0,15.5,0,19],["Q",0,22.5,1,24.5],["Q",2,26.5,5.5,27.5],["Q",9,28.5,13,28.5],["Q",17,28.5,19,26.5],["Q",21,24.5,22.5,21.5],["Q",24,18.5,24,18],["Q",24,17.5,24,17.5],["L",24,17.5]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":261.75,"top":229.5,"width":14,"height":27,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,5],["Q",0,5,0.5,5],["Q",1,5,1.25,6.5],["Q",1.5,8,1.5,9.5],["Q",1.5,11,1.5,15],["Q",1.5,19,1.5,20],["Q",1.5,21,1.5,22],["Q",1.5,23,1.5,23.5],["Q",1.5,24,1.5,25.5],["Q",1.5,27,1.5,27],["Q",1.5,27,1.5,27],["Q",1.5,27,1.5,26],["Q",1.5,25,1.5,22],["Q",1.5,19,2,15],["Q",2.5,11,4,7.5],["Q",5.5,4,7,2.5],["Q",8.5,1,11,0.5],["Q",13.5,0,14,0],["L",14.5,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":284,"top":231.75,"width":22,"height":33,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",7.5,11],["Q",7.5,11,8,11],["Q",8.5,11,11.25,11.5],["Q",14,12,15,11.5],["Q",16,11,18,9],["Q",20,7,21,5],["Q",22,3,22,2],["Q",22,1,20,0],["Q",18,-1,15.5,0],["Q",13,1,10,3.5],["Q",7,6,5,8.5],["Q",3,11,2,14],["Q",1,17,0.5,19.5],["Q",0,22,0,24.5],["Q",0,27,0.5,28],["Q",1,29,1.5,30],["Q",2,31,3.5,32],["Q",5,33,6.5,33],["Q",8,33,10.5,33.5],["Q",13,34,15,33],["Q",17,32,18.5,31],["Q",20,30,21,28],["L",22,26]],"pathOffset":{"x":0,"y":0}}],"background":""}';
ZAP.drawnResponsePlaceholder='{"objects":[{"type":"path","originX":"center","originY":"center","left":64.75,"top":104,"width":38,"height":50,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,3],["Q",0,3,0.5,3],["Q",1,3,1.75,4],["Q",2.5,5,3,5],["Q",3.5,5,4.5,8.5],["Q",5.5,12,6.5,15],["Q",7.5,18,7.5,19],["Q",7.5,20,9.5,26],["Q",11.5,32,12.5,37.5],["Q",13.5,43,14.5,45.5],["Q",15.5,48,15.5,48.5],["Q",15.5,49,15.5,49.5],["Q",15.5,50,15.5,50],["Q",15.5,50,15.5,50],["Q",15.5,50,16,49.5],["Q",16.5,49,16.5,48.5],["Q",16.5,48,18,41.5],["Q",19.5,35,23.5,26],["Q",27.5,17,31.5,11],["Q",35.5,5,36.5,3.5],["Q",37.5,2,38,1],["L",38.5,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":89,"top":86,"width":1,"height":0,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,0],["Q",0,0,0.5,0],["L",1,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":89,"top":86,"width":1,"height":0,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,0],["Q",0,0,0.5,0],["L",1,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":84.25,"top":114,"width":3,"height":30,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,0],["Q",0,0,0.5,0],["Q",1,0,1.25,2.5],["Q",1.5,5,1.5,6],["Q",1.5,7,1.5,8],["Q",1.5,9,1.5,9.5],["Q",1.5,10,1.5,10.5],["Q",1.5,11,1.5,12],["Q",1.5,13,1.5,13.5],["Q",1.5,14,1.5,14.5],["Q",1.5,15,1.5,16],["Q",1.5,17,1.5,17.5],["Q",1.5,18,1.5,20],["Q",1.5,22,1.5,22.5],["Q",1.5,23,1.5,24],["Q",1.5,25,1.5,25],["Q",1.5,25,1.5,26],["Q",1.5,27,1.5,28],["Q",1.5,29,1.5,29.5],["Q",1.5,30,2,30],["Q",2.5,30,3,30],["L",3.5,30]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":107,"top":112,"width":22,"height":30,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",3.5,12],["Q",3.5,12,4,12],["Q",4.5,12,6.25,12.5],["Q",8,13,8.5,13],["Q",9,13,9.5,12.5],["Q",10,12,11,12],["Q",12,12,12.5,11],["Q",13,10,14,9.5],["Q",15,9,15,8],["Q",15,7,15,6.5],["Q",15,6,15.5,6],["Q",16,6,16.5,5.5],["Q",17,5,17,3.5],["Q",17,2,17,2],["Q",17,2,15.5,1],["Q",14,0,13,0],["Q",12,0,12,0],["Q",12,0,11,0],["Q",10,0,9.5,0],["Q",9,0,8.5,0],["Q",8,0,6,0],["Q",4,0,3.5,1],["Q",3,2,1.5,4],["Q",0,6,0,7],["Q",0,8,0,8.5],["Q",0,9,0,10.5],["Q",0,12,0,14.5],["Q",0,17,0,17.5],["Q",0,18,0,21],["Q",0,24,0,24.5],["Q",0,25,0,26],["Q",0,27,0.5,27.5],["Q",1,28,3,29],["Q",5,30,5.5,30],["Q",6,30,7.5,30],["Q",9,30,9.5,30],["Q",10,30,12,30],["Q",14,30,14.5,30],["Q",15,30,16,29.5],["Q",17,29,17.5,28],["Q",18,27,18,26.5],["Q",18,26,18.5,25.5],["Q",19,25,20.5,23.5],["L",22,22]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":149.25,"top":108.5,"width":37,"height":33,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,5],["Q",0,5,0.5,5],["Q",1,5,1.25,8],["Q",1.5,11,1,19],["Q",0.5,27,1.5,29.5],["Q",2.5,32,4.5,32.5],["Q",6.5,33,8.5,33],["Q",10.5,33,12,31],["Q",13.5,29,14.5,26],["Q",15.5,23,16.5,21],["Q",17.5,19,17.5,18],["Q",17.5,17,17.5,16.5],["Q",17.5,16,17.5,16.5],["Q",17.5,17,17.5,17],["Q",17.5,17,17.5,17.5],["Q",17.5,18,17.5,20],["Q",17.5,22,18,25],["Q",18.5,28,19.5,29],["Q",20.5,30,23,30],["Q",25.5,30,27.5,30],["Q",29.5,30,31,28.5],["Q",32.5,27,34,25],["Q",35.5,23,36.5,20],["Q",37.5,17,37.5,13.5],["Q",37.5,10,37.5,7.5],["Q",37.5,5,36.5,4],["Q",35.5,3,35.5,1.5],["L",35.5,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":195,"top":106.75,"width":28,"height":34,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",2.5,12.5],["Q",2.5,12.5,3,12.5],["Q",3.5,12.5,3.75,12.5],["Q",4,12.5,7,12.5],["Q",10,12.5,10.5,12.5],["Q",11,12.5,14,12],["Q",17,11.5,19.5,10.5],["Q",22,9.5,23,7.5],["Q",24,5.5,23.5,3.5],["Q",23,1.5,22,1],["Q",21,0.5,18.5,0],["Q",16,-0.5,14,1],["Q",12,2.5,9.5,4.5],["Q",7,6.5,5,8],["Q",3,9.5,2,13],["Q",1,16.5,0.5,19.5],["Q",0,22.5,0,25],["Q",0,27.5,1.5,29.5],["Q",3,31.5,6.5,33],["Q",10,34.5,13.5,34.5],["Q",17,34.5,19.5,33.5],["Q",22,32.5,23.5,31],["Q",25,29.5,26.5,27.5],["L",28,25.5]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":226.25,"top":103.25,"width":15,"height":30,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,4],["Q",0,4,0.5,4],["Q",1,4,1.25,7.5],["Q",1.5,11,1.5,14.5],["Q",1.5,18,1,22.5],["Q",0.5,27,0.5,28.5],["Q",0.5,30,0.5,30.5],["Q",0.5,31,0.5,29.5],["Q",0.5,28,0.5,23.5],["Q",0.5,19,1.5,14],["Q",2.5,9,3.5,6.5],["Q",4.5,4,6.5,2.5],["Q",8.5,1,11,0.5],["Q",13.5,0,14.5,0],["L",15.5,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":246.5,"top":104.5,"width":25,"height":35,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",24.5,1],["Q",24.5,1,25,1],["Q",25.5,1,23.25,0.5],["Q",21,0,20,0],["Q",19,0,17,1],["Q",15,2,12.5,4.5],["Q",10,7,10,7.5],["Q",10,8,10,8.5],["Q",10,9,9.5,9.5],["Q",9,10,9,10.5],["Q",9,11,9,11.5],["Q",9,12,9.5,12.5],["Q",10,13,10,13.5],["Q",10,14,12,15],["Q",14,16,14.5,16.5],["Q",15,17,17.5,18.5],["Q",20,20,20,21],["Q",20,22,21,23.5],["Q",22,25,22.5,25.5],["Q",23,26,23,28.5],["Q",23,31,22.5,31.5],["Q",22,32,20,33],["Q",18,34,17.5,34],["Q",17,34,14,34.5],["Q",11,35,10.5,35],["Q",10,35,7.5,35],["Q",5,35,5,35],["Q",5,35,3.5,34],["Q",2,33,2,32.5],["Q",2,32,1,31],["L",0,30]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":117.25,"top":171.75,"width":37,"height":29,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",3,1],["Q",3,1,3.5,1],["Q",4,1,3.75,3.5],["Q",3.5,6,3,6.5],["Q",2.5,7,1.5,11],["Q",0.5,15,0,19.5],["Q",-0.5,24,0,26.5],["Q",0.5,29,2.5,29.5],["Q",4.5,30,7,29.5],["Q",9.5,29,12,26.5],["Q",14.5,24,15,20.5],["Q",15.5,17,15.5,15.5],["Q",15.5,14,15.5,14],["Q",15.5,14,16,14],["Q",16.5,14,17,17],["Q",17.5,20,18.5,22.5],["Q",19.5,25,21.5,26],["Q",23.5,27,26,27],["Q",28.5,27,30.5,24.5],["Q",32.5,22,34,19.5],["Q",35.5,17,36.5,13.5],["Q",37.5,10,37.5,7],["Q",37.5,4,36.5,2],["L",35.5,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":148,"top":141,"width":1,"height":0,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,0],["Q",0,0,0.5,0],["L",1,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":149.75,"top":168,"width":8,"height":28,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,0],["Q",0,0,0.5,0],["Q",1,0,1.25,1.5],["Q",1.5,3,1.5,4.5],["Q",1.5,6,1.5,8],["Q",1.5,10,1,15],["Q",0.5,20,0.5,22.5],["Q",0.5,25,1.5,26],["Q",2.5,27,4.5,27.5],["Q",6.5,28,7.5,28],["L",8.5,28]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":167.5,"top":156.5,"width":3,"height":51,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0.5,0],["Q",0.5,0,1,0],["Q",1.5,0,0.75,2.5],["Q",0,5,0,6.5],["Q",0,8,0,12],["Q",0,16,0,21],["Q",0,26,0,26.5],["Q",0,27,0,30],["Q",0,33,0.5,37],["Q",1,41,2,43],["Q",3,45,3,47.5],["Q",3,50,3,50.5],["L",3,51]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":180.5,"top":157,"width":7,"height":50,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0.5,0],["Q",0.5,0,1,0],["Q",1.5,0,1.25,1],["Q",1,2,1,3],["Q",1,4,1,5.5],["Q",1,7,1,9.5],["Q",1,12,0.5,16],["Q",0,20,0,23.5],["Q",0,27,0,29],["Q",0,31,1,34],["Q",2,37,2.5,38.5],["Q",3,40,3.5,42.5],["Q",4,45,5.5,47.5],["L",7,50]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":37.5,"top":240,"width":27,"height":52,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",25.5,0],["Q",25.5,0,26,0],["Q",26.5,0,26.75,4],["Q",27,8,27,14],["Q",27,20,26.5,26],["Q",26,32,25.5,37.5],["Q",25,43,25,45],["Q",25,47,25,47],["Q",25,47,25,47],["Q",25,47,25,44.5],["Q",25,42,25,38],["Q",25,34,24.5,30.5],["Q",24,27,22,25],["Q",20,23,17.5,23],["Q",15,23,12,23],["Q",9,23,6.5,24],["Q",4,25,3,27.5],["Q",2,30,1,33.5],["Q",0,37,0,40],["Q",0,43,1,45.5],["Q",2,48,4.5,49.5],["Q",7,51,9.5,51.5],["Q",12,52,14.5,52],["Q",17,52,18.5,51.5],["Q",20,51,21,50.5],["Q",22,50,23,48.5],["L",24,47]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":66.25,"top":249.75,"width":13,"height":27,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,1],["Q",0,1,0.5,1],["Q",1,1,0.75,2],["Q",0.5,3,0.5,4],["Q",0.5,5,0.5,7],["Q",0.5,9,0.5,10],["Q",0.5,11,0.5,12],["Q",0.5,13,0.5,14.5],["Q",0.5,16,0.5,17],["Q",0.5,18,0.5,19],["Q",0.5,20,0.5,21],["Q",0.5,22,0.5,22.5],["Q",0.5,23,0.5,24],["Q",0.5,25,0.5,25.5],["Q",0.5,26,0.5,26.5],["Q",0.5,27,0.5,27.5],["Q",0.5,28,0.5,24.5],["Q",0.5,21,0.5,20],["Q",0.5,19,0.5,18.5],["Q",0.5,18,1,14],["Q",1.5,10,1.5,9],["Q",1.5,8,2,7],["Q",2.5,6,3,4.5],["Q",3.5,3,4,2.5],["Q",4.5,2,5.5,1.5],["Q",6.5,1,7.5,0.5],["Q",8.5,0,9,0],["Q",9.5,0,9.5,0],["Q",9.5,0,11,0],["Q",12.5,0,13,0],["Q",13.5,0,13.5,0],["L",13.5,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":85,"top":252,"width":22,"height":24,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",18.5,2],["Q",18.5,2,19,2],["Q",19.5,2,15.75,0.5],["Q",12,-1,9.5,0],["Q",7,1,5,3.5],["Q",3,6,1.5,9],["Q",0,12,0,15.5],["Q",0,19,1,21.5],["Q",2,24,4.5,24],["Q",7,24,8.5,23.5],["Q",10,23,11.5,19.5],["Q",13,16,13.5,12.5],["Q",14,9,14.5,6.5],["Q",15,4,15,3.5],["Q",15,3,15,7],["Q",15,11,15,14.5],["Q",15,18,16,19.5],["Q",17,21,19.5,22.5],["Q",22,24,22,24],["L",22,24]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":118.5,"top":248,"width":28,"height":26,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,4],["Q",0,4,0.5,4],["Q",1,4,1.25,7],["Q",1.5,10,1.5,13.5],["Q",1.5,17,1.5,20.5],["Q",1.5,24,2.5,25],["Q",3.5,26,5,26],["Q",6.5,26,8,24],["Q",9.5,22,10,20],["Q",10.5,18,11,15],["Q",11.5,12,11.5,10.5],["Q",11.5,9,11.5,9.5],["Q",11.5,10,11.5,12],["Q",11.5,14,12,17],["Q",12.5,20,14,21.5],["Q",15.5,23,17.5,23.5],["Q",19.5,24,22,24],["Q",24.5,24,25.5,21.5],["Q",26.5,19,27,16],["Q",27.5,13,28,10],["Q",28.5,7,28,4.5],["Q",27.5,2,26.5,1],["L",25.5,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":170.63,"top":236,"width":3,"height":44,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",2.5,0],["Q",2.5,0,3,0],["Q",3.5,0,3.25,1.5],["Q",3,3,3,5],["Q",3,7,3,10],["Q",3,13,3,19],["Q",3,25,2.5,29],["Q",2,33,2,36.5],["Q",2,40,1.5,41],["Q",1,42,0.5,43],["L",0,44]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":178.25,"top":245.5,"width":19,"height":25,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,9],["Q",0,9,0.5,9],["Q",1,9,1.25,9],["Q",1.5,9,1.5,8.5],["Q",1.5,8,2,6],["Q",2.5,4,3.5,3.5],["Q",4.5,3,6,2],["Q",7.5,1,9,0],["Q",10.5,-1,12.5,0],["Q",14.5,1,15.5,2.5],["Q",16.5,4,17,6.5],["Q",17.5,9,18,12.5],["Q",18.5,16,19,19],["Q",19.5,22,19.5,23.5],["L",19.5,25]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":207.5,"top":241,"width":19,"height":28,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",3.5,16],["Q",3.5,16,4,16],["Q",4.5,16,7.25,15.5],["Q",10,15,12,13.5],["Q",14,12,15.5,8.5],["Q",17,5,17,4.5],["Q",17,4,16.5,3],["Q",16,2,16,1.5],["Q",16,1,15.5,0.5],["Q",15,0,14.5,0],["Q",14,0,13.5,0],["Q",13,0,9,2],["Q",5,4,5,4.5],["Q",5,5,3.5,7.5],["Q",2,10,1.5,11],["Q",1,12,1,15.5],["Q",1,19,0.5,20],["Q",0,21,0,24],["Q",0,27,0,27],["Q",0,27,1,27.5],["Q",2,28,2.5,28],["Q",3,28,5,28],["Q",7,28,7.5,28],["Q",8,28,11,28],["Q",14,28,14.5,28],["Q",15,28,16,28],["Q",17,28,17.5,28],["Q",18,28,18,27.5],["Q",18,27,18.5,26],["L",19,25]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":236.75,"top":237.75,"width":14,"height":27,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",0,10],["Q",0,10,0.5,10],["Q",1,10,0.75,13],["Q",0.5,16,0.5,18],["Q",0.5,20,0.5,22.5],["Q",0.5,25,0.5,26],["Q",0.5,27,0.5,27.5],["Q",0.5,28,0.5,26.5],["Q",0.5,25,0.5,23.5],["Q",0.5,22,0.5,20],["Q",0.5,18,1,13],["Q",1.5,8,2,7.5],["Q",2.5,7,3,4.5],["Q",3.5,2,3.5,1.5],["Q",3.5,1,6,0.5],["Q",8.5,0,9,0],["Q",9.5,0,11,0],["Q",12.5,0,13,0],["Q",13.5,0,14,0],["L",14.5,0]],"pathOffset":{"x":0,"y":0}},{"type":"path","originX":"center","originY":"center","left":262,"top":237,"width":28,"height":30,"fill":null,"stroke":"#FFFB00","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeLineJoin":"round","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","path":[["M",2.5,14],["Q",2.5,14,3,14],["Q",3.5,14,6.75,14],["Q",10,14,13.5,13],["Q",17,12,17.5,12],["Q",18,12,21,8],["Q",24,4,22.5,2],["Q",21,0,18,0],["Q",15,0,12.5,2],["Q",10,4,6.5,9.5],["Q",3,15,1.5,18.5],["Q",0,22,0,24],["Q",0,26,1.5,27.5],["Q",3,29,6.5,29.5],["Q",10,30,12.5,30],["Q",15,30,17.5,30],["Q",20,30,21.5,30],["Q",23,30,24.5,28.5],["Q",26,27,27,26],["L",28,25]],"pathOffset":{"x":0,"y":0}}],"background":""}';
(function(){$.get("/svgs/sprite.svg",function(b){var d=document.createElement("div");d.innerHTML=(new XMLSerializer).serializeToString(b.documentElement);document.body.insertBefore(d,document.body.childNodes[0])});dust.helpers.svg=function(b,d,c,a){return b.map(function(b){var c="";a.title&&(c=' title="'+a.title+'"');b.write('<svg class="svg-icon -'+a.icon+'"'+c+'><use xlink:href="#'+a.icon+'"></use></svg>');b.end()})}})();
(function(){window.amplify=window.amplify||{};window.amplify.request=window.amplify.request||{};window.amplify.request.decoders=window.amplify.request.decoders||{};window.amplify.request.decoders.etv=function(b,d,c,a,e){if("success"!==d)return 0===c.status?e({status:"error",message:"Could not connect to eTV"},"error"):404===c.status?e({status:"error",message:"That video doesn't exist, or you don't have permission to view it."},"error"):e({status:"error",message:"Unknown eTV error: "+c.responseText+
" ("+c.status+")"},"error");if("string"===typeof b)try{b=JSON.parse(b)}catch(g){return log("Could not parse eTV data: "+c.responseText),e({status:"error",message:"Failure parsing eTV response"},"error")}return a(b)}})();
(function(){window.amplify.request.decoders.mediacore=function(b,d,c,a,e){if("success"!==d)switch(c.status){case 0:return e({status:"error",message:"Could not connect to MediaCore"},"error");case 400:return e({status:"error",message:"Bad request sent to MediaCore."+(b.error||"")});case 401:return e({status:"unauthorized",message:"You aren't logged in to MediaCore, or your login has expired."},"error");case 422:return e({status:"error",message:"MediaCore request contained invalid values: "+c.responseText},
"error");default:return e({status:"error",message:"Unknown eTV error: "+c.responseText+" ("+c.status+")"},"error")}if("string"===typeof b)try{b=JSON.parse(b)}catch(g){return log("Could not parse MediaCore data: "+c.responseText),e({status:"error",message:"Failure parsing MediaCore response"},"error")}return a(b)}})();
(function(){window.amplify=window.amplify||{};window.amplify.request=window.amplify.request||{};window.amplify.request.decoders=window.amplify.request.decoders||{};window.amplify.request.decoders.vimeo=function(b,d,c,a,e){if("success"!==d)return 0===c.status?e({status:"error",message:"Could not connect to Vimeo"},"error"):404===c.status?e({status:"error",message:"That video doesn't exist, or you don't have permission to view it."},"error"):e({status:"error",message:"Unknown Vimeo error: "+c.responseText+
" ("+c.status+")"},"error");if("string"===typeof b)try{b=JSON.parse(b)}catch(g){return log("Could not parse Vimeo data: "+c.responseText),e({status:"error",message:"Failure parsing Vimeo response"},"error")}return a(b)}})();
(function(){window.amplify=window.amplify||{};window.amplify.request=window.amplify.request||{};window.amplify.request.decoders=window.amplify.request.decoders||{};window.amplify.request.decoders.zsend=function(b,d,c,a,e){if("abort"===d)return e({status:"abort",message:"Request aborted"},"abort");if("timeout"===d)return e({status:"error",message:"Request timed out"},"error");if("success"!==d){if(0===c.status)return e({status:"error",message:"Could not connect to Zaption"},"error");if("string"===typeof c.responseText)try{var g=
JSON.parse(c.responseText);return e(g,"error")}catch(h){return e({status:"error",message:"Server error ("+c.status+")"},"error")}}if("string"===typeof b)try{b=JSON.parse(b)}catch(k){return log("Could not parse Zaption AJAX data: "+c.responseText),e({status:"error",message:"Failure parsing server response"},"error")}if(b.csrfToken){d=(d=window.currentUser&&window.currentUser._id)&&b.user!==d||!d&&b.user;if(b.csrfFailed&&d){ZAP.showAlert("Your session has expired or you have logged out. Refresh the page and log in again to continue.",
{afterClose:function(){window.location.reload()}});return}ZAP.changeCSRFToken(b.csrfToken)}if("success"===b.status)return a(b.data);if("fail"===b.status)return e(b.data,"fail");if("error"===b.status)return delete b.status,e(b,"error")}})();
(function(){amplify.request.define("removeViewerData","ajax",{url:"/ajax/history/tours/{tourId}/removeviewer",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("getFullTourStatistics","ajax",{url:"/ajax/history/tours/{tourId}/getfullstats",dataType:"json",type:"GET",decoder:"zsend"});amplify.request.define("getElementResponses","ajax",{url:"/ajax/tours/{tourId}/elements/{elId}/responses",dataType:"json",type:"GET",decoder:"zsend",cache:!1});amplify.request.define("getViewerResponses",
"ajax",{url:"/ajax/tours/{tourId}/viewer/responses",dataType:"json",type:"GET",decoder:"zsend",cache:3E5});amplify.request.define("tourViewers","ajax",{url:"/ajax/history/tours/{tourId}/viewers",dataType:"json",type:"GET",decoder:"zsend",cache:!0});amplify.request.define("firstTimeViewersGraphData","ajax",{url:"/ajax/history/tours/{tourId}/graphs/firsttimeviewersbydate",dataType:"json",type:"GET",decoder:"zsend",cache:!1});amplify.request.define("tourResponsesGraphData","ajax",{url:"/ajax/history/tours/{tourId}/graphs/responses",
dataType:"json",type:"GET",decoder:"zsend",cache:!1});amplify.request.define("tourPointsGraphData","ajax",{url:"/ajax/history/tours/{tourId}/graphs/points",dataType:"json",type:"GET",decoder:"zsend",cache:!1});amplify.request.define("tourSkipsForwardGraphData","ajax",{url:"/ajax/history/tours/{tourId}/graphs/skips/forward",dataType:"json",type:"GET",decoder:"zsend",cache:!1});amplify.request.define("tourSkipsBackwardGraphData","ajax",{url:"/ajax/history/tours/{tourId}/graphs/skips/backward",dataType:"json",
type:"GET",decoder:"zsend",cache:!1});amplify.request.define("tourViewTimeGraphData","ajax",{url:"/ajax/history/tours/{tourId}/graphs/view",dataType:"json",type:"GET",decoder:"zsend",cache:!1});amplify.request.define("tourRatingsGraphData","ajax",{url:"/ajax/history/tours/{tourId}/graphs/ratings",dataType:"json",type:"GET",decoder:"zsend",cache:!1});amplify.request.define("clipSkipTypesGraphData","ajax",{url:"/ajax/history/tours/{tourId}/clips/{clipId}/graphs/avgskipsbytype",dataType:"json",type:"GET",
decoder:"zsend",cache:!1});amplify.request.define("elementResponsesByDateGraphData","ajax",{url:"/ajax/history/tours/{tourId}/elements/{elId}/graphs/responsesbydate",dataType:"json",type:"GET",decoder:"zsend",cache:!1});amplify.request.define("multiChoiceAnswersGraphData","ajax",{url:"/ajax/history/tours/{tourId}/elements/{elId}/graphs/multiplechoiceanswers",dataType:"json",type:"GET",decoder:"zsend",cache:!1});amplify.request.define("checkBoxesAnswersGraphData","ajax",{url:"/ajax/history/tours/{tourId}/elements/{elId}/graphs/checkboxesanswers",
dataType:"json",type:"GET",decoder:"zsend",cache:!1});amplify.request.define("numResponseDistributionGraphData","ajax",{url:"/ajax/history/tours/{tourId}/elements/{elId}/graphs/numresponsedistribution",dataType:"json",type:"GET",decoder:"zsend",cache:!1});amplify.request.define("discussionPostsByTimeGraphData","ajax",{url:"/ajax/history/tours/{tourId}/elements/{elId}/graphs/discussionpostsbytime",dataType:"json",type:"GET",decoder:"zsend",cache:!1})})();
(function(){amplify.request.define("importYouTubeTranscript","ajax",{url:"/ajax/videos/{videoId}/transcripts/import",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("removeTranscript","ajax",{url:"/ajax/videos/{videoId}/transcripts/{tsId}",dataType:"json",type:"DELETE",decoder:"zsend"});amplify.request.define("getImageScreenCloudinaryUploadData","ajax",{url:"/ajax/tours/{tourId}/elements/{elId}/imagescreencloudinaryuploaddata",dataType:"json",type:"GET",decoder:"zsend",cache:!1})})();
(function(){var b=/https?:\/\/([a-zA-Z0-9-]+)\.mediacore\.tv\/.*/,d=function(c,a){var d=a.url.match(b);if(2>d.length)log("Warning: cannot find MediaCore subdomain in URL "+a.url);else{var g=d[1];if(d=_.find(window.privateVideoArchives,function(a){return a.mediaCoreSubDomain===g}))return(d=ZAP.mediacore.oauth.getAccessToken(d))&&c.setRequestHeader("Authorization","Bearer "+d),!0;log("Warning: cannot attach MediaCore access token to unknown archive "+g)}};amplify.request.define("refreshAccessToken",
"ajax",{url:"/ajax/videos/mediacore/refreshaccessToken",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("generateMediaCoreState","ajax",{url:"/ajax/videos/mediacore/generateState",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("searchMediaCore","ajax",{url:"https://{partnerDomain}.mediacore.tv/api2/media",dataType:"json",type:"GET",decoder:"mediacore",cache:!0,beforeSend:d});amplify.request.define("getMediaCoreVideo","ajax",{url:"https://{partnerDomain}.mediacore.tv/api2/media/{videoId}",
dataType:"json",type:"GET",decoder:"mediacore",cache:!0,beforeSend:d});amplify.request.define("getMediaCoreVideoFiles","ajax",{url:"https://{partnerDomain}.mediacore.tv/api2/media/{videoId}/files?type=video&status=complete",dataType:"json",type:"GET",decoder:"mediacore",cache:!0,beforeSend:d});amplify.request.define("resolveMediaCoreContentURL","ajax",{url:"https://{partnerDomain}.mediacore.tv{path}",dataType:"json",type:"GET",decoder:"mediacore",cache:!0,beforeSend:d})})();
(function(){amplify.request.define("createPresentation","ajax",{url:"/ajax/presentation/create",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("getOpenPresentation","ajax",{url:"/ajax/presentation/getOpenForTour/{tour}",dataType:"json",type:"GET",decoder:"zsend"});amplify.request.define("findPresentation","ajax",{url:"/ajax/presentation/find",dataType:"json",type:"GET",decoder:"zsend"});amplify.request.define("recordHandRaise","ajax",{url:"/ajax/presentation/recordHandRaise",
dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("removeHandRaise","ajax",{url:"/ajax/presentation/removeHandRaise",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("lockPresentation","ajax",{url:"/ajax/presentation/lock",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("unlockPresentation","ajax",{url:"/ajax/presentation/unlock",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("openPresentation","ajax",{url:"/ajax/presentation/{presentationId}/open",
dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("presentationUserResponses","ajax",{url:"/ajax/presentation/{presentationId}/userResponses",dataType:"json",type:"GET",decoder:"zsend"});amplify.request.define("presentationElementResponses","ajax",{url:"/ajax/presentation/{presentationId}/responses/{elementId}",dataType:"json",type:"GET",decoder:"zsend"});amplify.request.define("addPresentationTextResponseAnswer","ajax",{url:"/ajax/presentation/{presentationId}/elements/{elId}/TextResponse/responses",
dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("addPresentationNumResponseAnswer","ajax",{url:"/ajax/presentation/{presentationId}/elements/{elId}/NumResponse/responses",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("addPresentationCheckBoxesAnswer","ajax",{url:"/ajax/presentation/{presentationId}/elements/{elId}/CheckBoxes/responses",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("addPresentationMultipleChoiceAnswer","ajax",{url:"/ajax/presentation/{presentationId}/elements/{elId}/MultipleChoice/responses",
dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("rate","ajax",{url:"/ajax/history/tours/{tourId}/rate",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("tourStarted","ajax",{url:"/ajax/history/tours/{tourId}/started",dataType:"json",type:"POST"});amplify.request.define("tourFinished","ajax",{url:"/ajax/history/tours/{tourId}/finished",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("findOrCreateTourClone","ajax",{url:"/ajax/tours/{id}/findOrCreateClone",
dataType:"json",type:"POST",decoder:"zsend"})})();(function(){amplify.request.define("realtimePublish","ajax",{url:"/ajax/realtime/publish/{channel}",dataType:"json",contentType:"application/json",type:"POST",decoder:"zsend"})})();
(function(){amplify.request.define("promosViewed","ajax",{url:"/ajax/user/promosViewed",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("resetWalkthrough","ajax",{url:"/ajax/user/resetWalkthrough",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("exportStandaloneLessons","ajax",{url:"/ajax/exporter/lessons",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("exportAllCSVs","ajax",{url:"/ajax/exporter/csvs",dataType:"json",type:"POST",decoder:"zsend"})})();
(function(){ZAP.registerComponent("carousel",function(b,d){var c=this;c.onEnd=b.onEnd||function(){};c.onCancel=b.onCancel||function(){};c.navType=b.navType||"bullets";c.closePosition=b.closePosition||"top";c.closeButtonText=b.closeButtonText||"Close";c.completeButtonText=b.completeButtonText||"Complete";c.cancelButtonText=b.cancelButtonText||"Cancel";c.hideNavigation=ko.observable(b.hideNavigation);c.hideBackButton=b.hideBackButton;c.hideCloseButton=b.hideCloseButton||!1;c.hideEndButtons=b.hideEndButtons||
!1;c.showCancelButton=b.showCancelButton||!1;c.done=ko.observable(!1);c.nextText=b.nextText||"Next";c.backText=b.backText||"Back";c.slides=_.filter(d.templateNodes,function(a){return"CAROUSEL-SLIDE"===a.nodeName});c.currentSlide=ko.observable(0);c.hasNext=ko.computed(function(){return c.currentSlide()<c.slides.length-1});c.progressPercentage=ko.computed(function(){return 100*(c.currentSlide()+1)/c.slides.length+"%"});c.progressInfo=ko.computed(function(){return c.currentSlide()+1===c.slides.length?
"Complete":c.currentSlide()+1+"/"+c.slides.length});var a=$("body");if(!c.hideNavigation()&&!c.hideBackButton)a.on("keydown.carouselNav",function(a){switch(a.which){case 37:c.onBack();break;case 39:c.onNext();break;default:return}a.preventDefault()});a.on("carouselNav",function(a,b){if(b)c.currentSlide(b);else c.onNext()});c.onSlideChange=function(){if("function"===typeof b.onSlideChange)b.onSlideChange()};c.onNext=function(){c.hasNext()?(c.currentSlide(c.currentSlide()+1),c.onSlideChange()):c.closeCarousel(!0)};
c.onBack=function(){0<c.currentSlide()&&(c.currentSlide(c.currentSlide()-1),c.onSlideChange())};c.closeCarousel=function(b){c.done(!0);c.hideNavigation()||a.off("keydown.carouselNav");a.off("carouselNav");setImmediate(function(){c.onEnd(b)})}});ZAP.registerComponent("carousel-slide",function(b){b.changes&&("function"===typeof b.changes.setup&&b.changes.setup(),"function"===typeof b.changes.teardown&&(this.dispose=function(){b.changes.teardown()}));if("function"===typeof b.onLoad)b.onLoad()})})();
(function(){ZAP.registerComponent("checklist",function(b,d){var c=this;c.$rootNode=$(d.element);var a=b.stepsCompleted||{};c.createLesson=ko.observable(a.createLesson);c.shareLesson=ko.observable(a.shareLesson);c.analytics=ko.observable(a.analytics);c.hide=ko.observable(!1);c.hide.subscribe(function(a){a&&$("#checklistMenu").remove()});c.done=ko.computed(function(){var a=c.createLesson()&&c.shareLesson()&&c.analytics();a&&(ZAP.util.updatePromosViewed("checklist"),ZAP.util.track("Onboarding: Checklist completed"));
return a});c.countCompleted=ko.computed(function(){var a=0;c.createLesson()&&a++;c.shareLesson()&&a++;c.analytics()&&a++;return a});c.completedPercentage=ko.computed(function(){return 100*c.countCompleted()/3});c.createLessonIcon=ko.computed(function(){return c.createLesson()?"-tick-blue":"-tick-blue-outline"});c.shareLessonIcon=ko.computed(function(){return c.shareLesson()?"-tick-blue":c.createLesson()?"-tick-blue-outline":"-tick-grey"});c.analyticsIcon=ko.computed(function(){return c.analytics()?
"-tick-blue":c.shareLesson()?"-tick-blue-outline":"-tick-grey"});c.currentStep=ko.computed(function(){return c.createLesson()?c.shareLesson()?c.analytics()?"done":"analytics":"shareLesson":"createLesson"});c.goToWalkthrough=function(a){return function(){amplify.request({resourceId:"resetWalkthrough",data:{walkthrough:a},success:function(b){"createLessonWalkthrough"===a&&ZAP.nav.createNewTour();"sharingIntro"===a&&(window.location="/lessons/"+b);"viewAnalyticsWalkthrough"===a&&(window.location="/lessons/"+
b+"/analytics")}})}}})})();
(function(){ZAP.registerComponent("context-box",function(b,d){var c=this,a=$("body"),e=$(window);c.target=ko.observable();c.direction=ko.observable();c.highlightContext=b.highlightContext;c.highlightContext&&a.append('<div class="context-box-cover">');e.on("resize.contextBoxResize",_.debounce(function(){c.move(c.target(),c.direction())},250));e.on("contextBoxReveal",function(){c.move(c.target(),c.direction());$(d.element).fadeIn()});c.move=function(a,b){c.target(a);c.direction(b);if(b)for(var e=b.split(","),
h=0;h<e.length;h++){if(g(a,e[h]),ZAP.ui.elementIsInViewport(d.element,10)){setImmediate(function(){ZAP.ui.elementIsInViewport(d.element,10)||c.move(a,b)});break}}else g(a)};c.close=function(){c.highlightContext&&(h(),$(".context-box-cover").remove());e.off("resize.contextBoxResize");e.off("contextBoxReveal")};var g=function(b,e){h();var g=$(b),n=$(d.element);g.is(":visible")?n.show():n.hide();var p=n.outerWidth();n.removeClass("-left -right -top -bottom");if(e&&g.length){e=e.trim();c.highlightContext&&
(g.addClass("context-box-top"),g.each(function(){"static"===$(this).css("position")&&$(this).addClass("context-box-relative")}),g.parents().each(function(){"auto"!==$(this).css("z-index")&&$(this).addClass("context-box-top-parent")}));var f,q,r,u;g.each(function(){var a=$(this).offset();f?(a.top<f&&(f=a.top),f+$(this).outerHeight()>q&&(q=a.top+$(this).outerHeight()),a.left<r&&(r=a.left),r+$(this).outerWidth()>u&&(u=a.left+$(this).outerWidth())):(f=a.top,q=f+$(this).outerHeight(),r=a.left,u=r+$(this).outerWidth())});
var s=u-r+20,g=q-f+20;f-=10;r-=10;u+=10;c.highlightContext&&a.append('<div class="context-box-highlight" style="top:  '+f+"px; left: "+r+"px; height: "+g+"px; width: "+s+'px;">');"left"===e?(n.addClass("-left"),d.element.style.top=f+g/2-55+"px",d.element.style.left=u+10+"px"):"right"===e?(n.addClass("-right"),d.element.style.top=f+g/2-55+"px",d.element.style.left=r-p-10+"px"):"top"===e?(n.addClass("-top"),setImmediate(function(){d.element.style.top=f-n.outerHeight()-10+"px";d.element.style.left=r+
s/2-p/2+"px"})):"bottom"===e?(n.addClass("-bottom"),d.element.style.top=q+10+"px",d.element.style.left=r+s/2-p/2+"px"):log("Error: Direction for context box must be top, bottom, left, or right.")}else d.element.style.top="100px",d.element.style.left="calc(50% - "+p/2+"px)"},h=function(){$(".context-box-highlight").remove();$(".context-box-top").removeClass("context-box-top");$(".context-box-relative").removeClass("context-box-relative");$(".context-box-top-parent").removeClass("context-box-top-parent")}})})();
(function(){ZAP.registerComponent("drop-down",function(b,d){function c(){var b=a.$handle[0].getBoundingClientRect().top+a.$handle.height()+12,c=a.$handle[0].getBoundingClientRect().left-a.$options.width()+30;return{top:b,left:c}}var a=this;a.$rootNode=$(d.element);a.$handle=a.$rootNode.find(".zi.handle");a.$options=a.$rootNode.find(".drop-down-options");a.$container=a.$rootNode.find(".drop-down-container");a.$dummy=null;a.options=_.filter(d.templateNodes,function(a){return"drop-down-option"===a.nodeName.toLowerCase()});
a.title=b.title;a.expanded=ko.observable(!1);a.isDisabled=function(a){return $(a).hasClass("-disabled")};a.setValue=function(c){return function(){b.value&&b.value(c);if("function"===typeof b.onSelect)b.onSelect(c);a.expanded(!1)}};a.toggleExpanded=function(){var b=a.expanded();$("body").trigger("close-dropdown");setTimeout(function(){b||a.expanded(!0)},1)};a.expanded.subscribe(function(b){b?(a.$dummy=a.$options.clone(!0),a.$dummy.css(c()).css("z-index","10000").show(),$("body").append(a.$dummy)):
a.$dummy.remove()});$("body").on("click close-dropdown",function(){a.expanded(!1);a.$container.css("z-index",1)});var e=_.throttle(function(){$("body").trigger("close-dropdown")},600);_.each(a.$rootNode.parents(),function(a){$(a).off("scroll.drop-down-trigger").on("scroll.drop-down-trigger",e)});$(window).off("scroll.drop-down-trigger").on("scroll.drop-down-trigger",e)})})();
(function(){ZAP.registerComponent("element-action-settings",function(b,d){var c=this;c.$rootNode=$(d.element);c.el=b.el;c.hide=b.hide;c.settingsType=b.settingsType;c.index=b.index;c.logic=ko.observable();c.tmp=ko.observable();c.ready=ko.computed(function(){return c.el()&&c.settingsType()});var a=ko.computed(function(){if(!c.ready())return!1;var a=b.el().elementType();return("NumResponse"===a||"TextResponse"===a)&&"number"===typeof c.index()});c.close=function(){a()?(b.settingsType("action"),b.index(null)):
b.el(null)};c.closeText=ko.computed(function(){return c.ready()?a()?"Back":"Done":""});c.hasBack=ko.computed(function(){return c.ready()?a():""});c.type=ko.computed(function(){if(!c.ready())return"";var a=c.settingsType().charAt(0).toUpperCase()+c.settingsType().slice(1);return c.el().elementType()+a});c.headerTitle=ko.computed(function(){return c.ready()?{action:"Scoring",feedback:"Feedback",jump:"Jump To"}[c.settingsType()]:""});c.headerIcon=ko.computed(function(){return c.ready()?{action:"zi -header-scoring",
feedback:"zi -header-feedback",jump:"zi -header-jump"}[c.settingsType()]:""});c.actions={CheckBoxes:window.ZAP.elementActions.checkBoxes(c),MultipleChoice:window.ZAP.elementActions.multipleChoice(c),NumResponse:window.ZAP.elementActions.response(c),TextResponse:window.ZAP.elementActions.response(c)};c.logic=ko.computed(function(){return c.ready()?c.actions[c.el().elementType()]:null});c.rules=ko.computed(function(){var a={options:ko.observableArray(),label:ko.observable()};if(!c.ready())return a;
"NumResponse"===c.el().elementType()&&(a.options([{value:"eq",text:"equal to"},{value:"ne",text:"not equal to"},{value:"gt",text:"greater than"},{value:"lt",text:"less than"},{value:"be",text:"between"}]),a.label("Answer is"));"TextResponse"===c.el().elementType()&&(a.options([{value:"eq",text:"is equal to"},{value:"ne",text:"is not equal to"},{value:"substr",text:"contains"},{value:"nsubstr",text:"does not contain"},{value:"any",text:"is anything"}]),a.label("Answer..."));return a})})})();
(function(){window.ZAP=window.ZAP||{};window.ZAP.elementActions=window.ZAP.elementActions||{};window.ZAP.elementActions.checkBoxes=function(b){return{clarification:ko.computed(function(){return b.ready()&&"CheckBoxes"===b.el().elementType()?b.el().choices()[b.index()].text():""}),feedbackType:ko.computed(function(){if(!b.ready()||"CheckBoxes"!==b.el().elementType())return"";var d="None",c=b.el().choices()[b.index()]._id,a=_.find(b.el().actions(),function(a){return"Correct"===a.feedbackType()});a&&
a.criteria()["@and"]&&_.each(a.criteria()["@and"],function(a){a&&a.checked&&a.checked["@contain"]===c&&(d="Correct");a&&a.checked&&a.checked["@ncontain"]===c&&(d="Incorrect")});return d}),feedback:ko.computed({read:function(){if(!b.ready()||"CheckBoxes"!==b.el().elementType())return"";var d=b.el().choices()[b.index()]._id,c=_.find(b.el().actions(),function(a){return"Either"===a.feedbackType()&&a.criteria().choice===d});return c&&c.feedbackText()?c.feedbackText():""},write:function(d){var c=b.el().choices()[b.index()]._id,
a=_.find(b.el().actions(),function(a){return"Either"===a.feedbackType()&&a.criteria().choice===c});a?a.feedbackText(d):b.el().actions.push(new ZAP.ElementAction({_id:(new ObjectId).toString(),criteria:{choice:c},feedbackType:"Either",feedbackText:d}))}})}}})();
(function(){window.ZAP=window.ZAP||{};window.ZAP.elementActions=window.ZAP.elementActions||{};window.ZAP.elementActions.multipleChoice=function(b){var d=function(){if(b.ready()&&"MultipleChoice"===b.el().elementType()){var c=b.el().choices()[b.index()]._id;return _.find(b.el().actions(),function(a){return a.criteria().choice===c})}};return{clarification:ko.computed(function(){return b.ready()&&"MultipleChoice"===b.el().elementType()?b.el().choices()[b.index()].text():""}),feedback:ko.computed({read:function(){if(!b.ready()||
"MultipleChoice"!==b.el().elementType())return"";var c=d();return c&&c.feedbackText()?c.feedbackText():""},write:function(c){var a=b.el().choices()[b.index()]._id,d=_.find(b.el().actions(),function(b){return b.criteria().choice===a});d?d.feedbackText(c):b.el().actions.push(new ZAP.ElementAction({_id:(new ObjectId).toString(),criteria:{choice:a},feedbackType:"None",feedbackText:c}))}}),feedbackType:ko.computed(function(){if(!b.ready()||"MultipleChoice"!==b.el().elementType())return"";var c=d();return c&&
c.feedbackType()?c.feedbackType():""}),updateJumpTarget:function(){var c=window.zp.getCurrentItem()._id,a=window.zp.currentTime();if(b.el().clip()===c&&1>Math.abs(a-b.el().inTime()))ZAP.showAlert("Sorry, that destination is too close to the Jump element. Move at least one second away and try again.");else{var e=d();e?(e.jumpType("Clip"),e.jumpTarget(c),e.jumpTargetTime(a)):b.el().actions.push(new ZAP.ElementAction({_id:(new ObjectId).toString(),criteria:{choice:b.el().choices()[b.index()]._id},feedbackType:"None",
jumpType:"Clip",jumpTarget:c,jumpTargetTime:a}));window.zp.goToElement(b.el())}},clearJumpTarget:function(){var b=d();b&&(b.jumpType(null),b.jumpTarget(null),b.jumpTargetTime(null))},jumpTargetInfo:ko.computed(function(){if(b.ready()&&"MultipleChoice"===b.el().elementType()){var c=d();if(c&&c.jumpTargetTime&&c.jumpTargetTime())return c.getDisplayJumpTarget()}}),testJumpTarget:function(){var b=d();b&&b.jumpTargetTime&&b.jumpTargetTime()&&window.zp.goToPosition(b.jumpTarget(),b.jumpTargetTime())}}}})();
(function(){window.ZAP=window.ZAP||{};window.ZAP.elementActions=window.ZAP.elementActions||{};window.ZAP.elementActions.response=function(b){var d=function(){if("TextResponse"===b.el().elementType())return"text";if("NumResponse"===b.el().elementType())return"number"},c=function(a){if(a&&a.criteria())return a.criteria()[d()]},a=function(a,c){if(!b.ready())return a;if("TextResponse"===b.el().elementType())return String(a||c||"");if("NumResponse"===b.el().elementType())return parseFloat(a||c||0)},e=
function(){var a=[];_.each(b.el().actions(),function(b){var e=c(b);if(!b.isFallback()&&e){var g={};if(_.has(e,"@eq"))g[d()]={"@ne":e["@eq"]},a.push(g);else if(_.has(e,"@ne"))g[d()]={"@eq":e["@ne"]},a.push(g);else if(_.has(e,"@lt")&&_.has(e,"@gt"))a.push({"@or":[{"@lte":e["@gt"]},{"@gte":e["@lt"]}]});else if(_.has(e,"@lt"))g[d()]={"@gte":e["@lt"]},a.push(g);else if(_.has(e,"@gt"))g[d()]={"@lte":e["@gt"]},a.push(g);else if(_.has(e,"@substr")&&"Incorrect"!==b.feedbackType())g[d()]={"@nsubstr":e["@substr"]},
a.push(g);else if(_.has(e,"@nsubstr")||_.has(e,"@substr")&&"Incorrect"===b.feedbackType())g[d()]={"@substr":e["@nsubstr"]||e["@substr"]},a.push(g)}});return 0===a.length?{}:1<a.length?{"@and":a}:a[0]},g=function(c,f,g,h){g=a(g);h=a(h,g);var k={};"eq"===f&&(k[d()]={"@eq":g});"ne"===f&&(k[d()]={"@ne":g});"lt"===f&&(k[d()]={"@lt":g});"gt"===f&&(k[d()]={"@gt":g});"be"===f&&(k[d()]={"@gt":g,"@lt":h});"substr"===f&&(k[d()]={"@substr":g});"nsubstr"===f&&(k[d()]={"@nsubstr":g});"any"===f?(k[d()]={"@any":""},
b.el().actions(b.el().actions.splice(0,1)),b.el().actions()[0].criteria(k)):b.el().actions()[c].criteria(k);(c=_.find(b.el().actions(),function(a){return a.isFallback()}))?c.criteria(e()):"any"!==f&&b.el().actions.push(new ZAP.ElementAction({_id:(new ObjectId).toString(),isFallback:!0,criteria:e()}))},h=function(a){if(!b.ready()||!a)return{};var d=c(a),e="fallback",g,h;a.isFallback()||(e=_.has(d,"@lt")&&!_.has(d,"@gt")?"lt":_.has(d,"@gt")&&!_.has(d,"@lt")?"gt":_.has(d,"@gt")&&_.has(d,"@lt")?"be":
_.has(d,"@eq")?"eq":_.has(d,"@ne")?"ne":_.has(d,"@substr")?"substr":_.has(d,"@nsubstr")?"nsubstr":"any",g=_.has(d,"@gt")?d["@gt"]:_.has(d,"@lt")?d["@lt"]:_.has(d,"@eq")?d["@eq"]:_.has(d,"@ne")?d["@ne"]:_.has(d,"@substr")?d["@substr"]:_.has(d,"@nsubstr")?d["@nsubstr"]:d?d["@any"]:"",h=_.has(d,"@lt")&&_.has(d,"@gt")?d["@lt"]||0:"");return{choice:e,valOne:g,valTwo:h}},k={value:"any",text:"is anything"},m=function(c){return _.map(c,function(c,d){return{choice:ko.computed({read:function(){return h(c).choice},
write:function(a){var b=h(c);g(d,a,b.valOne,b.valTwo)}}),valOne:ko.computed({read:function(){return a(h(c).valOne)},write:function(a){var b=h(c);g(d,b.choice,a,b.valTwo)}}),valTwo:ko.computed({read:function(){return a(h(c).valTwo)},write:function(a){var b=h(c);g(d,b.choice,b.valOne,a)}}),feedbackType:c.feedbackType,hasFeedback:ko.computed(function(){return!(!c.feedbackText||!c.feedbackText())}),hasJump:ko.computed(function(){return!(!c.jumpTargetTime||!c.jumpTargetTime())}),removeAction:function(){2===
b.el().actions().length&&b.el().actions()[1].isFallback()?b.el().actions.removeAll():b.el().actions.remove(c);"TextResponse"===b.el().elementType()&&2>=b.el().actions().length&&!_.isEqual(_.last(b.rules().options()),k)&&b.rules().options.push(k)},updateFeedbackType:function(a){c.feedbackType(a);if(!c.isFallback()){var d=_.find(b.el().actions(),function(a){return a.isFallback()});"Correct"===a&&d&&d.feedbackType("Incorrect");d.criteria(e())}}}})};b.el.subscribe(function(a){a&&(l.actions(m(a.actions())),
a.actions.subscribe(function(a){l.actions(m(a))}))});var l={tmpChoice:ko.observable(),tmpValOne:ko.observable(),tmpValTwo:ko.observable(),actions:ko.observableArray([]),conflicts:ko.computed(function(){if(!b.ready())return{};var a={};_.each(l.actions(),function(c,e){"fallback"!==c.choice()&&_.each(b.el().actions(),function(b,g){if(e!==g){var h={},k={};if("eq"===c.choice()||"substr"===c.choice())h[d()]=c.valOne();"ne"===c.choice()&&("number"===typeof c.valOne()?(h[d()]=c.valOne()-1,k[d()]=c.valOne()+
1):h[d()]=c.valOne().substring(0,c.valOne().length-1));"nsubstr"===c.choice()&&(h[d()]=c.valOne().split("").reverse().join(""));"lt"===c.choice()&&(h[d()]=c.valOne()-1);"gt"===c.choice()&&(h[d()]=c.valOne()+1);"be"===c.choice()&&(h[d()]=c.valOne()+1,k[d()]=c.valTwo()-1);if(b.appliesTo(h)||!_.isEmpty(k)&&b.appliesTo(k))a[e]=!0,a[g]=!0}})});return a}),checkTmpValues:function(){var a="any"===l.tmpChoice()?" ":l.tmpValOne();l.tmpChoice()&&a&&l.addRule(l.tmpChoice(),a);("be"===l.tmpChoice()&&l.tmpValOne()&&
l.tmpValTwo()||l.tmpChoice()&&"be"!==l.tmpChoice()&&l.tmpValOne())&&l.addRule(l.tmpChoice(),l.tmpValOne(),l.tmpValTwo())},addRule:function(c,f,g){var h,m={};1<b.el().actions().length&&(h=b.el().actions.pop());"be"===c&&f&&g?m[d()]={"@gt":a(f),"@lt":a(g)}:c&&f?(g={},g["@"+c]=a(f),m[d()]=g):m[d()]={"@eq":a()};b.el().actions.push(new ZAP.ElementAction({_id:(new ObjectId).toString(),criteria:m}));l.tmpChoice(null);l.tmpValOne(null);l.tmpValTwo(null);"any"!==c?1!==b.el().actions().length&&_.last(b.el().actions()).isFallback()?
(h.criteria(e()),b.el().actions.push(h)):(b.el().actions.push(new ZAP.ElementAction({_id:(new ObjectId).toString(),isFallback:!0,criteria:e(),feedbackType:"Incorrect"})),_.first(b.el().actions()).feedbackType("Correct")):_.first(b.el().actions()).feedbackType("Correct");2<b.el().actions().length&&b.rules().options.remove(function(a){return _.isEqual(a,k)})},clarification:ko.computed(function(){if(b.ready()){var a=b.el().actions()[b.index()],d=c(a);if(d)return a.isFallback()?"When no other rule applies":
_.has(d,"@eq")?"When answer is equal to "+d["@eq"]:_.has(d,"@ne")?"When answer is not equal to "+d["@ne"]:_.has(d,"@substr")?"When answer contains "+d["@substr"]:_.has(d,"@nsubstr")?"When answer does not contain "+d["@nsubstr"]:_.has(d,"@lt")&&_.has(d,"@gt")?"When answer is greater than "+d["@gt"]+" and less than "+d["@lt"]:_.has(d,"@lt")?"When answer is less than "+d["@lt"]:_.has(d,"@gt")?"When answer is greater than "+d["@gt"]:_.has(d,"@any")?"When answer contains anything":""}}),feedback:ko.computed({read:function(){if(!b.ready())return"";
var a=b.el().actions()[b.index()];return a?a.feedbackText()||"":""},write:function(a){if(b.ready()){var c=b.el().actions()[b.index()];if(c)return c.feedbackText(a)}}}),feedbackType:ko.computed(function(){if(!b.ready())return"";var a=b.el().actions()[b.index()];return a?a&&a.feedbackType()?a.feedbackType():"":""}),jumpTargetInfo:ko.computed(function(){if(!b.ready())return"";var a=b.el().actions()[b.index()];if(a&&a.jumpTargetTime&&a.jumpTargetTime())return a.getDisplayJumpTarget()}),updateJumpTarget:function(){var a=
window.zp.getCurrentItem()._id,c=window.zp.currentTime();if(b.el().clip()===a&&1>Math.abs(c-b.el().inTime()))ZAP.showAlert("Sorry, that destination is too close to the Jump element. Move at least one second away and try again.");else{var d=b.el().actions()[b.index()];if(!d)return"";d.jumpType("Clip");d.jumpTarget(a);d.jumpTargetTime(c);window.zp.goToElement(b.el())}},testJumpTarget:function(){var a=b.el().actions()[b.index()];a&&a.jumpTargetTime&&a.jumpTargetTime()&&window.zp.goToPosition(a.jumpTarget(),
a.jumpTargetTime())},clearJumpTarget:function(){var a=b.el().actions()[b.index()];a&&(a.jumpType(null),a.jumpTarget(null),a.jumpTargetTime(null))}},n=_.debounce(l.checkTmpValues,600);l.tmpChoice.subscribe(n);l.tmpValOne.subscribe(n);return l}})();
(function(){ZAP.registerComponent("element-controls",function(b){var d=this,c=new ZAP.PresentationChannel(b.presentation._id);d.presentation=b.presentation;d.el=ko.computed(function(){return b.el()&&"Group"===b.el().elementType()?b.el().activeChild():b.el()});d.attendees=b.attendees;d.hasHighlightedAnswer=ko.observable(!1);var a=function(a){return _.map(a,function(a){return a.fingerprint+a.name})};d.calculatedResponses=ko.computed(function(){if(d.el())return _.intersection(a(d.el().presentationResponses()),
a(d.attendees())).length});d.time=ko.computed(function(){return d.el()?ZAP.util.secondsToTimestamp(d.el().timer()/1E3):"00:00"});d.totalResponses=ko.computed(function(){return d.el()&&d.el().isResponseElement()&&d.el().presentationResponses().length?d.el().presentationResponses().length:0});d.toggleAnswer=function(){d.el().isAnswerVisible(!d.el().isAnswerVisible());d.el().isAnswerVisible()?(ZAP.util.track("Presenter: Presenter showed the correct answer"),c.toggleElementFeedback(d.el().toJSON(),"show")):
c.toggleElementFeedback(d.el().toJSON(),"hide")};d.toggleResponses=function(){d.el().areResponsesVisible(!d.el().areResponsesVisible());d.el().areResponsesVisible()&&ZAP.util.track("Presenter: Presenter showed responses",{elementType:d.el().elementType()})};d.answerPercentage=ko.computed(function(){return d.el()&&d.attendees().length?Math.min(Math.floor(100*d.calculatedResponses()/d.attendees().length),100)+"%":"0%"});d.onMouseLeave=function(a,b){d.hasHighlightedAnswer()||(d.hasHighlightedAnswer(!0),
$(b.target).removeClass("_reveal-tooltip"))};d.isAnswerVisible=ko.computed(function(){return d.el()&&d.el().isAnswerVisible&&d.el().isAnswerVisible()});d.areResponsesVisible=ko.computed(function(){return d.el()&&d.el().areResponsesVisible&&d.el().areResponsesVisible()});d.showAnswerButton=ko.computed(function(){return d.el()?_.some(d.el().actions(),function(a){return"Correct"===a.feedbackType()}):!1})})})();
(function(){ZAP.registerComponent("info-bar",function(b,d){var c=this,a=$(window);c.target=ko.observable();a.on("resize.infoBarResize",_.debounce(function(){c.move(c.target())},250));a.on("infoBarReveal",function(){$(d.element).find(".js-fade").fadeIn();$(".zaption-wrapper").addClass("-has-sidebar");c.move(c.target())});c.move=function(a){c.target(a);var b=$("#info-marker");a=$(a);if(a.is(":visible")){b.show();var d=a.offset(),k=b.find(".dot");a=d.left-k.width()/2;d=d.top-2*k.height();b.css({left:a,
top:d})}else b.hide()};c.close=function(){$(".zaption-wrapper").removeClass("-has-sidebar");a.off("resize.infoBarResize");a.off("infoBarReveal")}})})();
(function(){function b(b){var c=this;c.presentationId=b.presentation._id;c.lockedElements=ko.observableArray(b.presentation.locked);c.el=b.el;c.locked=ko.computed(function(){if(c.el())return _.contains(c.lockedElements(),c.el()._id)});c.text=ko.computed(function(){return c.locked()?"Unlock":"Lock"},c);c.channel=new ZAP.PresentationChannel(c.presentationId)}b.prototype.toggle=function(){var b=this,c,a=b.el()?b.el()._id:null;if(b.locked()){c="unlockPresentation";b.channel.unlock(a);b.lockedElements.remove(a);
var e=b.el().options().overlay.find(".element-content-inner > form");e.length&&b.el().showRespondDevice(e[0].scrollHeight<=e.height());ZAP.util.track("Presenter: Teacher pressed unlock")}else c="lockPresentation",b.channel.lock(a),ZAP.util.track("Presenter: Teacher pressed lock"),b.el().showRespondDevice(!1),_.contains(b.lockedElements(),a)||b.lockedElements.push(a);amplify.request({resourceId:c,data:{id:b.presentationId,elId:a},error:function(){b.locked()?(b.channel.unlock(a),b.lockedElements.remove(a)):
(b.channel.lock(a),_.contains(b.lockedElements(),a)||b.lockedElements.push(a));ZAP.showAlert("There was an error while trying to "+b.text().toLowerCase()+" the presentation. Please try again and if the problem persists, contact an administrator.")}})};ZAP.registerComponent("lock-element",b)})();
(function(){ZAP.registerComponent("marker",function(b,d){var c=this;c.$rootNode=$(d.element);c.canvas=c.$rootNode.find(".draw-canvas")[0];c.isVisible=b.isVisible;c.isVisible.subscribe(function(a){a&&!c.simpleDraw&&(c.simpleDraw=new SimpleDraw(c.canvas,{width:c.$rootNode.width(),height:c.$rootNode.height()}));!a&&c.simpleDraw&&c.simpleDraw.clear()})})})();
(function(){ZAP.registerComponent("panel",function(b,d){this.$rootNode=$(d.element);this.highlight=ko.observable(b.highlight&&b.highlight());this.crossedOut=ko.observable(b.crossedOut&&b.crossedOut());this.inactive=ko.observable(b.inactive&&b.inactive());this.tagType=b.tagType})})();
(function(){ZAP.registerComponent("player-controls",function(b,d){var c=this,a=d.element;c.tour=b.tour;c.zp=b.zp;c.presentation=b.presentation;c.attendees=b.attendees;c.onAttendeeListClick=b.onAttendeeListClick;c.isAttendeeListVisible=b.isAttendeeListVisible;c.showElementMarkers=b.showElementMarkers;c.showTimeslots=b.showTimeslots;c.timeslotsCount=b.timeslotsCount||40;c.timeslots=_.range(1,c.timeslotsCount);c.isJoinCodeVisible=b.isJoinCodeVisible;c.onJoinCodeClick=b.onJoinCodeClick;c.enableHands=
b.enableHands;c.onEnableHandsClick=b.onEnableHandsClick;c.elapsedPercentage=ko.computed(function(){return Math.floor(1E4*c.zp().ratioPlayed())/100+"%"});c.timeElapsed=ko.computed(function(){return ZAP.util.secondsToTimestamp(c.zp().currentTimeOnTour())});c.timeRemaining=ko.computed(function(){var a=c.tour().totalDuration()-c.zp().currentTimeOnTour();return"-"+ZAP.util.secondsToTimestamp(a)});c.togglePlay=function(){return c.zp().togglePlay()};c.prev=function(){c.zp().prevItemOrElement()};c.next=function(){return c.zp().nextItemOrElement()};
c.rewind=function(){return c.zp().rewind()};c.cc=function(){return c.zp().toggleSubtitles()};c.fullscreen=function(){return c.zp().toggleFullScreenVideo()};c.getMarkerPosition=function(a){return 100*(a.tourInTime()/c.tour().totalDuration())+"%"};c.getSlotMarkerPosition=function(a){return 100*a/c.timeslotsCount+"%"};c.getMarkerTooltip=function(a){a=a.elementSubtype()||a.elementType();return ZAP.elementMap.elementTypeToLabel(a)};c.zp().endowSeekBar($(a).find(".js-seekbar"))})})();
(function(){function b(b){this.prompt=ko.observable("");this.zp=b.tourModel.zp;this.tourModel=b.tourModel;this.presentationId=b.presentationId;this.type=ko.observable();this.onSuccess=b.onSuccess||function(){}}b.prototype.save=function(b){var c=this;ko.tasks.processImmediate(function(){b=ZAP.editor.setPositionAndSpace(b,"MainBox",c.tourModel);b=ZAP.editor.placeElementInClip(b,c.tourModel,!0)});c.tourModel.tour().elements.push(b);c.zp().videoPause();c.zp()._prepareElement(null,b);c.zp().loadElement(b);
ZAP.util.track("Presenter: Quick question added",{type:b.elementType()});c.prompt("");c.type("");c.onSuccess()};b.prototype.chooseOpenResponse=function(){this.type("open-response")};b.prototype.chooseThumbs=function(){this.type("thumbs")};b.prototype.submit=function(){if("open-response"===this.type())return this.saveOpenResponse();if("thumbs"===this.type())return this.saveThumbsUpDown()};b.prototype.saveOpenResponse=function(){var b=new ZAP.TourElement({elementType:"TextResponse",stopVideo:!0,inTime:this.zp().currentTime(),
outTime:this.zp().currentTime()+0.01,space:"MainBox",prompt:_.escape(this.prompt()),presentationId:this.presentationId});this.save(b)};b.prototype.saveThumbsUpDown=function(){var b=new ZAP.TourElement({elementType:"MultipleChoice",elementSubtype:"Thumbs",stopVideo:!0,inTime:this.zp().currentTime(),outTime:this.zp().currentTime()+0.01,space:"MainBox",prompt:_.escape(this.prompt()),presentationId:this.presentationId});b.choices([{_id:(new ObjectId).toString(),text:"Thumbs up"},{_id:(new ObjectId).toString(),
text:"Thumbs down"}]);this.save(b)};ZAP.registerComponent("quick-question",b)})();
(function(){ZAP.registerComponent("raised-hands",function(b){var d=this;d.raisedHands=b.raisedHands;d.attendees=b.attendees;d.totalSlots=b.totalSlots||40;d.totalDuration=b.totalDuration;d.zp=b.zp;d.areNamesShown=ko.observable(!1);d.activeSlot=ko.observable();d.activeSlotHands=ko.computed(function(){return d.activeSlot()?d.activeSlot().hands():d.raisedHands()});d.slotDuration=d.totalDuration()/d.totalSlots;d.slots=[];for(var c=0;c<d.totalSlots;c++)d.slots.push({hands:ko.observableArray([]),uniqueHands:ko.observableArray([]),
inTime:d.slotDuration*c,outTime:d.slotDuration*(c+1)});d.getPercentage=function(a){return 100*a/d.attendees().length+"%"};var a=function(a,b){return _.some(a,function(a){return ZAP.util.belongsToSameUser(a,b)})};d.assignHandToSlot=function(b){var c=_.filter(d.slots,function(a){return a.inTime<=b.inTime&&a.outTime>b.inTime});c[0].hands.push(b);a(c[0].uniqueHands(),b)||c[0].uniqueHands.push(b)};d.removeHandFromSlot=function(b){var c=_.filter(d.slots,function(a){return a.inTime<=b.inTime&&a.outTime>
b.inTime});c[0].hands.remove(b);if(!a(c[0].hands(),b)){var h=_.find(c[0].uniqueHands(),function(a){return ZAP.util.belongsToSameUser(a,b)});c[0].uniqueHands.remove(h)}};d.removeHand=function(a){d.raisedHands.remove(a);d.removeHandFromSlot(a);amplify.request({resourceId:"removeHandRaise",data:a})};d.placeShadows=function(){ZAP.ui.addOverflowShadows(".element-responses")};d.placeShadows();d.throttledPlaceShadows=_.throttle(d.placeShadows,100);d.raisedHands.subscribe(function(a){_.each(a,function(a){"added"===
a.status&&(ZAP.util.track("Presenter: Viewer raised hand"),d.assignHandToSlot(a.value))});d.placeShadows()},null,"arrayChange");d.areNamesShown.subscribe(d.placeShadows);d.activeSlot.subscribe(d.placeShadows);b.isVisible.subscribe(function(){var a=d.zp()?d.zp().currentTimeOnTour():0,b=_.filter(d.slots,function(b){return b.inTime<=a&&b.outTime>a});b[0].hands().length?d.activeSlot(b[0]):d.activeSlot(null)});0<d.raisedHands().length&&_.each(d.raisedHands(),function(a){d.assignHandToSlot(a)})})})();
(function(){function b(b,c){this.$root=$(c.element);this.rating=ko.observable(b.savedRate()?b.savedRate().rating:"");this.onRateCallback=b.onRate||function(){}}b.prototype.onRate=function(b){this.rating(b);this.onRateCallback(b)};b.prototype.fillBefore=function(b,c){var a=$(c.target);a.add(a.prevAll()).addClass("-temp-filled")};b.prototype.removeFill=function(){this.$root.find(".rate").removeClass("-temp-filled")};ZAP.registerComponent("rating",b)})();
(function(){ZAP.registerComponent("zaption-grid",function(b,d){this.rows=b.rows||[];this.headers=b.headers||[];this.sort=b.sort||null;this.afterRender=b.afterRender||function(){};this.warning=_.filter(d.templateNodes,function(b){return $(b).hasClass("alert")})})})();
(function(){ZAP.registerComponent("discussion",function(b,d){var c=this,a=d.element;c.el="function"!==typeof b.el.addDiscussionComment?new ZAP.TourElement(b.el,{sync:!1}):b.el;c.$node=$(a);c.tour=b.tour;c.presentation=b.presentation;c.zp=b.zp;c.viewerName=window.currentUser?window.currentUser.name:ZAP.getLocalUsername();c.hasPlayer=c.zp?!0:!1;c._unpauseAfterComment=c.hasPlayer?c.el.options()._unpauseAfterComment:!1;c.selectedDiscussionComment=ko.observable(!1);c.commentQueue=[];c.loadingComments=
ko.observable(!1);c.getDiscussionResponses=function(){if(!c.zp||"preview"!==c.zp.playerMode){var a={tourId:c.tour()._id,elId:c.el._id};c.presentation&&(a.presentationId=c.presentation._id);c.el.hideCommentsUntil()&&c.el.hideCommentsUntil().getTime&&c.el.hideCommentsUntil().getTime()>(new Date).getTime()&&(window.currentUser&&window.currentUser._id?a.userId=window.currentUser._id:(c.el.comments([]),c.loadingComments=ko.observable(!1)));c.loadingComments(!0);amplify.request({resourceId:"getDiscussionResponses",
data:a,success:function(a){c.el.comments(a);c.loadingComments(!1)},error:function(a){return ZAP.showAlert("There was an error fetching the discussion comments: "+a.message)}})}};c.getDiscussionResponses();c.selectedDiscussionComment.is=function(a){var b=c.selectedDiscussionComment();return b&&b._id===a._id};c.selectedDiscussionComment.subscribe(function(a){a&&$(".discussion-post-area textarea[name=comment]").focus()});c.toggleSelectDiscussionComment=function(a){c.selectedDiscussionComment()===a?c.selectedDiscussionComment(!1):
c.selectedDiscussionComment(a)};c.sortedComments=ko.computed(function(){var a=c.el.comments().slice();c.el.hideTimestamps()?a.sort(function(a,b){return a.datePosted().getTime()-b.datePosted().getTime()}):a.sort(function(a,b){return a.inTime()-b.inTime()});return a});c.getCommentTimeLabel=function(a){var b;c.hasPlayer?b=c.zp.curItem().tourOffset:(b=_.find(c.tour().clips,function(a){return a._id===c.el.clip()}),b=b.inTime);return ZAP.util.secondsToTimestamp(a.inTime()+b)};c.onTimeLabelClicked=function(a){if(c.hasPlayer)return c.zp.seek(a.inTime())};
var e=c.$node.find(".js-post-comment-form"),g=c.$node.find(".js-comment"),h=c.$node.find(".js-scroll-area");g.on("keypress paste",function(a){"keypress"!==a.type||13!==a.keyCode||a.ctrlKey?c.hasPlayer&&void 0===c._unpauseAfterComment&&(c._unpauseAfterComment=c.zp.playing()?!0:!1,c.zp.pause()):(a.preventDefault(),c._unpauseAfterComment=void 0,e.submit());return!0});c.hasPlayer&&(g.on("focus",function(){void 0===c._unpauseAfterComment&&(c._unpauseAfterComment=c.zp.playing()?!0:!1,c.zp.pause())}),g.on("click",
function(){$(this).trigger("focus")}),g.on("blur",function(){c._unpauseAfterComment&&c.zp.playUnlessBlocked();c._unpauseAfterComment=void 0}));g.each(function(){window.autosize(this)}).on("autosize:resized",function(){h.css("height","calc(100% - "+(g.height()+30)+"px)")});e.on("submit",function(){var a=g.val();if(!a)return!1;a={name:c.viewerName,text:a,tour:c.tour()._id};c.hasPlayer?(c.addComment(a),c.zp.playUnlessBlocked()):(ZAP.realtime.channel("remote-tour-"+c.tour()._id).publish("request-timestamp",
{},!0),c.commentQueue.push(a));return!1});c.hasPlayer||ZAP.realtime.channel("remote-tour-"+c.tour()._id).subscribe("current-timestamp",function(a){_.each(c.commentQueue,function(b){b.inTime=a;c.addComment(b)});c.commentQueue=[]});c.addComment=function(a){var b=$(e).find("input[name=replyTo]").val(),d=k.addDiscussionComment(c.zp,a,b);g.val("");g.trigger("input");h.css("height","");b&&c.selectedDiscussionComment(!1);c.hasPlayer&&(k.options()._unpauseAfterComment&&c.playUnlessBlocked(),k.options()._unpauseAfterComment=
void 0);c.hasPlayer&&"preview"===c.zp.playerMode||(a={tourId:c.tour()._id,elId:k._id,comment:ZAP.util.stringify(d),replyTo:b},c.presentation&&(a.presentationId=c.presentation._id),amplify.request({resourceId:"postDiscussionComment",data:a,error:function(a){var e=_.find(k.comments(),function(a){return a._id===b});b?e.replies.remove(d):k.comments.remove(d);c.selectedDiscussionComment(e);g.val(d.text());g.trigger("input");alert(a.message)},success:function(){g.trigger("input");h.find(".discussion-comment").each(function(a,
b){ko.dataFor(b)._id===d._id&&(h.scrollTo(b,500),$(b).flash())})}}))};var k=c.el;if(!k.hideCommentsUntil()||!moment(k.hideCommentsUntil()).isAfter(moment())){var m=new EventSource("/ajax/tours/"+c.tour()._id+"/elements/"+k._id+"/discussion/commentupdates");m.addEventListener("open",function(){log("Real-time discussion functionality initialized")});m.addEventListener("error",function(a){a.readyState===EventSource.CLOSED?log("Real-time discussion connection closed"):log("Real-time discussion error")});
m.addEventListener("added",function(a){try{var b=JSON.parse(a.data);c.presentation&&b.comment.presentation!==c.presentation._id||k.addDiscussionComment(c.zp,b.comment,b.replyTo,b.user)}catch(d){log("Could not parse real-time discussion comment")}});m.addEventListener("removed",function(a){try{var b=JSON.parse(a.data),c=_.flatten(_(k.comments()).map(function(a){return[a,a.replies()]})),d=_(c).find(function(a){return a._id===b.commentId});k.deleteDiscussionComment(d,!0)}catch(e){log("Could not parse real-time discussion comment removal")}});
c.dispose=function(){m.close()}}})})();
(function(){function b(b,c){var a=this,e=c.element;a.el=ko.observable(b.el);a.presentation=ko.observable(b.presentation);a.checkedChoices=a.el().checkedChoices;a.onSubmit=b.onSubmit||function(){};a.onError=b.onError||function(){};a.$root=$(e);a.isSubmitting=ko.observable(!1);a.submitButtonHtml=ko.computed(function(){return a.isSubmitting()?"submitting":'submit<span class="_hide-mobile"> answer</span>'})}b.prototype.submit=function(){var b=this,c=b.$root.find("input[name=checkBoxesOptions]:checked").map(function(){return $(this).val()}).get();b.isSubmitting(!0);
var a={presentationId:b.presentation()._id,elId:b.el()._id,checkedChoices:c,viewerName:ZAP.getLocalUsername()};amplify.request({resourceId:"addPresentationCheckBoxesAnswer",data:a,success:function(){b.isSubmitting(!1);b.onSubmit(b.el(),a)},error:function(a){b.isSubmitting(!1);b.onError(a)}})};ZAP.registerComponent("presenter-checkboxes",b)})();(function(){ZAP.registerComponent("presenter-image-screen",function(b){this.el=ko.observable(b.el)})})();
(function(){function b(b){var c=this;c.el=ko.observable(b.el);c.presentation=ko.observable(b.presentation);c.choice=ko.observable(c.el().choice);c.onSubmit=b.onSubmit||function(){};c.onError=b.onError||function(){};c.isSubmitting=ko.observable(!1);c.submitButtonHtml=ko.computed(function(){return c.isSubmitting()?"submitting":'submit<span class="_hide-mobile"> answer</span>'})}b.prototype.submit=function(){var b=this;b.isSubmitting(!0);var c={presentationId:b.presentation()._id,elId:b.el()._id,choice:b.choice(),
viewerName:ZAP.getLocalUsername()};amplify.request({resourceId:"addPresentationMultipleChoiceAnswer",data:c,success:function(){b.isSubmitting(!1);b.onSubmit(b.el(),c)},error:function(a){b.isSubmitting(!1);b.onError(a)}})};ZAP.registerComponent("presenter-multiple-choice",b)})();
(function(){function b(b){var c=this;c.el=ko.observable(b.el);c.presentation=ko.observable(b.presentation);c.number=ko.observable(c.el().number);c.onSubmit=b.onSubmit||function(){};c.onError=b.onError||function(){};c.isSubmitting=ko.observable(!1);c.submitButtonHtml=ko.computed(function(){return c.isSubmitting()?"submitting":'submit<span class="_hide-mobile"> answer</span>'})}b.prototype.submit=function(){var b=this;b.isSubmitting(!0);var c={presentationId:b.presentation()._id,elId:b.el()._id,number:b.number(),
viewerName:ZAP.getLocalUsername()};amplify.request({resourceId:"addPresentationNumResponseAnswer",data:c,success:function(){b.isSubmitting(!1);b.onSubmit(b.el(),c)},error:function(a){b.isSubmitting(!1);b.onError(a)}})};ZAP.registerComponent("presenter-num-response",b)})();
(function(){function b(b){var c=this;c.el=ko.observable(b.el);c.presentation=ko.observable(b.presentation);c.text=ko.observable(c.el().text);c.onSubmit=b.onSubmit||function(){};c.onError=b.onError||function(){};c.isSubmitting=ko.observable(!1);c.submitButtonHtml=ko.computed(function(){return c.isSubmitting()?"submitting":'submit<span class="_hide-mobile"> answer</span>'});window.autosize($("textarea"))}b.prototype.submit=function(){var b=this;b.isSubmitting(!0);var c={presentationId:b.presentation()._id,
elId:b.el()._id,text:b.text(),viewerName:ZAP.getLocalUsername()};amplify.request({resourceId:"addPresentationTextResponseAnswer",data:c,success:function(){b.isSubmitting(!1);b.onSubmit(b.el(),c)},error:function(a){b.isSubmitting(!1);b.onError(a)}})};ZAP.registerComponent("presenter-text-response",b)})();(function(){ZAP.registerComponent("presenter-text-screen",function(b){this.el=ko.observable(b.el)})})();
ko.bindingHandlers.bubble={init:function(b,d,c){d=c.get("bubble");var a=$('[data-bubble="'+d+'"]'),e=$(b),g=c.get("data"),h=function(){var c=b.getBoundingClientRect().top-a.outerHeight()-10,d=b.getBoundingClientRect().left-(a.outerWidth()-e.outerWidth())/2;return{top:c,left:d}};$("body").on("close-bubble",function(){a.hide()});var k=_.throttle(function(){$("body").trigger("close-bubble")},600);_.each(e.parents(),function(a){$(a).off("scroll.bubble-trigger").on("scroll.bubble-trigger",k)});$(window).off("scroll.bubble-trigger").on("scroll.bubble-trigger",
k);e.on("click",function(b){b.stopPropagation();a.is(":visible")?a.hide():(a.css(h()),a.show(),ko.cleanNode(a.get(0)),ko.applyBindings(g,a.get(0)))})}};
(function(){window.mediaCoreAuthCallback=function(b,d,c){b?ZAP.showAlert("There was an error authenticating with MediaCore: "+b):(window.currentUser.oauthAccessTokens=window.currentUser.oauthAccessTokens||{},window.currentUser.oauthAccessTokens["MediaCore-"+c]=d,amplify.store("MediaCore-OAuth-Partner",null),$(window).trigger("zaption:videoArchiveAuthenticated",c))};window.ZAP=window.ZAP||{};window.ZAP.mediacore=window.ZAP.mediacore||{};window.ZAP.mediacore.oauth={authorizeUser:function(b){amplify.request({resourceId:"generateMediaCoreState",
data:{mediaCoreSubDomain:b.mediaCoreSubDomain,partner:b.shortName},success:function(d){var c="https://"+b.mediaCoreSubDomain+".mediacore.tv/api2/oauth/authorize?",a=S(location.hostname).endsWith("zaption.local");window.open(c+$.param({response_type:"code",client_id:b.clientId,redirect_uri:(a?"http":"https")+"://"+location.host+"/oauth/mediacore/callback",state:d.state,access_type:"offline"}))},error:function(b){return log("Error generating MediaCore state: "+b.message)}})},getAccessToken:function(b){return window.currentUser.oauthAccessTokens?
window.currentUser.oauthAccessTokens["MediaCore-"+b.shortName]:null},setAccessToken:function(b,d){window.currentUser.oauthAccessTokens=window.currentUser.oauthAccessTokens||{};window.currentUser.oauthAccessTokens["MediaCore-"+b.shortName]=d},refreshAccessToken:function(b){amplify.request({resourceId:"refreshAccessToken",data:b.data,success:function(d){ZAP.mediacore.oauth.setAccessToken(b.archive,d.accessToken);b.success(d)},error:function(d){ZAP.mediacore.oauth.clearAccessToken(b.archive);b.error(d)}})},
clearAccessToken:function(b){delete window.currentUser.oauthAccessTokens["MediaCore-"+b.shortName]}}})();
(function(){window.ZAP=window.ZAP||{};window.ZAP.mediacore=window.ZAP.mediacore||{};var b=function(b){"unauthorized"!==b.originalError.status||b.afterRefreshing?(ZAP.mediacore.oauth.clearAccessToken(b.archive),b.error(b.originalError)):ZAP.mediacore.oauth.refreshAccessToken({data:{partner:b.archive.shortName},archive:b.archive,success:function(){b.originalRequest(_.extend(b,{afterRefreshing:!0}))},error:function(a){b.error(a)}})},d=function(c){return function(a){amplify.request({resourceId:c,data:a.data,
error:function(e){b(_.extend(a,{originalError:e,originalRequest:d(c)}))},success:a.success})}};ZAP.mediacore.requests={getVideo:d("getMediaCoreVideo"),search:d("searchMediaCore"),getVideoFiles:d("getMediaCoreVideoFiles"),resolveContentURL:d("resolveMediaCoreContentURL")}})();
(function(){window.ZAP=window.ZAP||{};window.ZAP.mediacore=window.ZAP.mediacore||{};ZAP.mediacore.video={getBestEncodingContentURL:function(b,d,c){var a,e;0<b.encodings.length?(b.encodings.forEach(function(b){var h=Math.abs(b.width-d)+Math.abs(b.height-c);if(!a||h<e)a=b,e=h}),b=a.links.content):b=b.links.content;return b}}})();
(function(){var b=function(b){amplify.request({resourceId:"createPresentation",data:{tour:b._id},success:function(a){ZAP.util.track("Presenter: Created presentation",{tour:b._id});window.location="/present/"+a._id},error:function(a){ZAP.showAlert(a.message||a)}})},d=function(c){if(window.isiPhone||window.isTablet)ZAP.showAlert("Sorry, but you can't present from a tablet yet. Please start your presentation from a laptop or desktop computer instead.<br><br>Your viewers can join from any device, including tablets or smartphones.",
{allowHTML:!0});else{if(!ZAP.util.checkPermission(window.currentUser,"write-item",c))return c.isSample()?amplify.request({resourceId:"findOrCreateTourClone",data:{id:c._id},success:function(a){return d(new ZAP.Tour(a,{temporary:!0}))},error:function(a){ZAP.showAlert(a.message||a)}}):ZAP.showAlert("You don't have edit permissions to this lesson, so you can't present it.");amplify.request({resourceId:"getOpenPresentation",data:{tour:c._id},success:function(a){if(a){var d=moment(a.dateCreated).fromNow();
ZAP.showConfirmation({promptHTML:"You started a presentation <var>"+d+"</var>. Would you like to resume that presentation, or start over?",confirmText:"Resume",cancelText:"Start Over",confirmAction:function(){window.location="/present/"+a._id;amplify.store("ResumingPresentation/"+a._id,!0)},cancelAction:function(){b(c)}})}else b(c)},error:function(a){ZAP.showAlert(a.message||a)}})}};window.ZAP=window.ZAP||{};window.ZAP.presenter=window.ZAP.presenter||{};window.ZAP.presenter={createNewPresentation:b,
continueOrCreatePresentation:d,endPresentation:function(b){(new ZAP.PresentationChannel(b._id)).end(null,function(){window.onbeforeunload=function(){};window.location="/lessons/"+b.tour._id})}}})();
(function(){ZAP.sort=ZAP.sort||{};ZAP.sort.tourElements=function(b,d){for(var c={},a=0;a<b.length;a++)c[b[a]._id]=a;d=d.slice().filter(function(a){return void 0!==c[a.clip()]});return d.sort(function(a,b){var d=c[a.clip()],k=c[b.clip()];return d===k?a.inTime()===b.inTime()?a.dateCreated()-b.dateCreated():a.inTime()-b.inTime():d-k})}})();
(function(){ZAP.elementMap={};ZAP.elementMap.elementTypeToLabel=function(b){var d={CheckBoxes:"Check Boxes",Discussion:"Discussion",Drawing:"Drawing",Group:"Group",ImageScreen:"Image",MultipleChoice:"Multiple Choice",NumResponse:"Numerical",TextResponse:"Open Response",TextScreen:"Text"};return d[b]?d[b]:b};ZAP.elementMap.elementTypeToPresenterComponent=function(b){var d={CheckBoxes:"presenter-checkboxes",Discussion:"discussion",ImageScreen:"presenter-image-screen",MultipleChoice:"presenter-multiple-choice",
NumResponse:"presenter-num-response",TextResponse:"presenter-text-response",TextScreen:"presenter-text-screen",Thumbs:"presenter-multiple-choice"};return d[b]?d[b]:b.toLowerCase()};ZAP.elementMap.elementTypeToIcon=function(b){var d={Thumbs:"-thumbs-up"};return d[b]?d[b]:"-"+b}})();
(function(){ZAP.supports={};var b={};ZAP.supports.pointerEvents=function(){if("undefined"===typeof b.pointerEvents){var d=document.createElement("x"),c=document.documentElement,a=window.getComputedStyle;"pointerEvents"in d.style?(d.style.pointerEvents="auto",d.style.pointerEvents="x",c.appendChild(d),a=a&&"auto"===a(d,"").pointerEvents,c.removeChild(d),b.pointerEvents=!!a):b.pointerEvents=!1}return b.pointerEvents};ZAP.is={android:$("body").hasClass("ua-android"),ios:$("body").hasClass("ua-ios"),
mobile:$("body").hasClass("ua-mobile"),tablet:$("body").hasClass("ua-tablet")}})();
ZAP.runCustomTourPage=function(){$(document).ready(function(){$("#studentLevel").prop("selectedIndex",-1).trigger("change");$("#orderTourForm").on("submit",function(b){b.preventDefault();var d=$(this),c=d.find("button[type=submit]"),a=!0;$("#orderTourForm .with-asterisk").each(function(b,c){if($(c).attr("for")){var d=$("#"+$(c).prop("for"));if(!d.val()||1>d.val().length)return a=!1,ZAP.showAlert("Please fill out the "+$(c).text()+" field."),!1}});if(a)return c.text("Sending order..."),c.prop("disabled",
!0),$.ajax("/ajax/user/ordertour",{type:"POST",data:d.serialize(),error:function(){c.text("Order");c.prop("disabled",!1);alert("Error sending order, please try again")},success:function(a){a&&"success"===a.status?(c.text("Thank you"),d[0].reset(),$("#flashSuccessText").text("Thanks for your order! A Zaptioneer will send you a link to the lesson when it is ready."),$(".flash-success").show(),$.scrollTo(0)):(c.text("Order"),c.prop("disabled",!1),alert(a.message))}}),!1})})};
(function(){ZAP.runLTIAuthPage=function(){$(document).ready(function(){window.defineSignupViewModel();var b=new window.SignupViewModel;window.addKnockoutBindings(ko);b.isLTIPage=!0;ko.applyBindings(b);$("#authenticate").reveal({closeOnBackgroundClick:!1,disableEsc:!0,opened:function(){var d=$(window).height(),c=$("#authenticate").outerHeight();c<d&&$("#authenticate").css("top",(d-c)/2+"px");window.flashError&&b.showModalErr(window.flashErr)}});window.authComplete=function(d,c){d&&b.showModalError(d);
c&&(window.location=c)};window!==top&&$(".service-btn").attr("target","_blank")})}})();amplify.request.define("sendReferralEmail","ajax",{url:"/ajax/referrals/email",dataType:"json",type:"POST",decoder:"zsend"});amplify.request.define("resendReferralEmail","ajax",{url:"/ajax/referrals/email/resend",dataType:"json",type:"POST",decoder:"zsend"});
window.defineReferralsViewModel=function(){var b=function(){window.FB.ui({method:"stream.publish",display:"iframe",attachment:{name:"Join Zaption with this link, and get 2 free months of Zaption Pro! Zaption turns online videos into engaging interactive learning experiences.",href:"http://zapt.io/rf"+this.referralCode(),media:[{type:"image",src:"https://dm76tem6p0rl0.cloudfront.net/misc/square-logo.png",href:"http://zapt.io/rf"+this.referralCode()}]},action_links:[{text:"http://zapt.io/rf"+this.referralCode(),
href:"http://zapt.io/rf"+this.referralCode()}]},function(){})};window.ReferralModalViewModel=function(){var d=this;d.referralCode=ko.observable(window.currentUser.referralCode);d.sendingReferral=ko.observable(!1);d.sentReferralSuccessfully=ko.observable(!1);d.referralFeedback=ko.observable("");d.sendReferral=function(b){d.sendingReferral(!0);amplify.request({resourceId:"sendReferralEmail",data:{email:b.email.value},success:function(a){d.sendingReferral(!1);d.sentReferralSuccessfully(!0);d.referralFeedback("");
d.referralFeedback(a&&a.status?a.status:"Sent!");b.reset()},error:function(){d.sendingReferral(!1);d.sentReferralSuccessfully(!1);d.referralFeedback("");d.referralFeedback("Error");b.reset()}})};d.shareOnFacebook=b};window.ReferralsViewModel=function(){var d=this;d.confirmedReferralsHeader=[{className:"four",title:"Name",accessor:function(b){return b.name}},{className:"four",title:"Organization",accessor:function(b){return b.orgName}},{className:"four",title:"Signup Date",accessor:function(b){return moment(b.dateJoined).format("MM/DD/YYYY")}}];
d.pendingReferralsHeader=[{className:"four",title:"Email",accessor:function(b){return b.email}},{className:"four",title:"Invitation Date",accessor:function(b){return moment(b.dateCreated).format("MM/DD/YYYY")}},{className:"four",title:"Resend Invite",formatter:function(){return'<a data-bind="click: $root.resendReferral" class="resend-link">Resend</a>'},dataBound:!0,allowHTML:!0}];d.referralCode=ko.observable(window.currentUser.referralCode);d.referralFeedback=ko.observable("");d.sendingReferral=ko.observable(!1);
d.sentReferralSuccessfully=ko.observable(!1);d.sendReferral=function(b){d.sendingReferral(!0);amplify.request({resourceId:"sendReferralEmail",data:{email:b.email.value},success:function(a){d.sendingReferral(!1);d.sentReferralSuccessfully(!0);d.referralFeedback("");d.referralFeedback(a&&a.status?a.status:"Sent!");var e=function(a){d.pendingReferrals.push({email:a.email,_id:a.referralId,dateCreated:new Date})};Array.isArray(a)?a.forEach(function(a){a.referralId&&e(a);a.alert&&0===$(".zp-alert").length&&
ZAP.showAlert(a.alert)}):(a.referralId&&e(a),a.alert&&ZAP.showAlert(a.alert));b.reset()},error:function(a){d.sendingReferral(!1);d.sentReferralSuccessfully(!1);d.referralFeedback("");d.referralFeedback("Error");a&&a.message?ZAP.showAlert(a.message):ZAP.showAlert("Request failed. Please try again.")}})};d.shareOnFacebook=b;d.resendReferral=function(b){amplify.request({resourceId:"resendReferralEmail",data:{referralId:b._id},success:function(){ZAP.showAlert("Your invitation has been re-sent!")},error:function(a){a&&
a.message?ZAP.showAlert(a.message):ZAP.showAlert("Request failed. Please try again.")}})};d.confirmedReferrals=ko.observableArray(window.usedInvites);d.pendingReferrals=ko.observableArray(window.unusedInvites);d.numOfConfirmed=ko.computed(function(){return d.confirmedReferrals().length});d.numOfFreeMonth=ko.observable(2*Math.min(d.numOfConfirmed(),6))}};
ZAP.runReferralsPage=function(){window.defineReferralsViewModel();$(document).ready(function(){$(".application-container").show();window.addKnockoutBindings(ko);var b=new window.ReferralsViewModel;b.pageTitle="Referrals - Zaption";ko.applyBindings(b,$("html").get(0))})};
(function(){window.isiPad=null!==navigator.userAgent.match(/iPad/i);window.isAndroid=null!==navigator.userAgent.match(/Android/i);window.isTablet=window.isiPad||window.isAndroid;window.isiPhone=null!==navigator.userAgent.match(/iPhone/i);var b=function(){$(".top-nav-item").removeClass("active");$(".top-sub-nav-items a").attr("tabIndex",-1)};$(".top-nav-item > a").on("focus mousenter",function(){b();$(this).parent(".top-nav-item").addClass("active");$(this).siblings(".top-sub-nav-items a").attr("tabIndex",
0)});$(".top-nav-item").on("mouseleave",function(a){a.relatedTarget&&b()});$(".top-nav-item > a").on("blur",function(){b()});$(".top-nav-item a").last().keydown(function(a){9===a.keyCode&&b()});$(document).click(function(a){$(a.target).closest(".top-left-nav-items, .top-right-nav-items").length||b()});var d;$(".reveal-modal").attr("aria-hidden",!0);$(document).on("reveal:open",".reveal-modal",function(a){$("body >:not(.modals)").attr("aria-hidden",!0);$(a.target).attr("aria-hidden",!1)});$(document).on("reveal:opened",
".reveal-modal",function(a){d=$(":focus");$(a.target).find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible").first().focus()});$(document).on("reveal:close",".reveal-modal",function(a){$(a.target).attr("aria-hidden",!0);$("body >:not(.modals)").attr("aria-hidden",!1);d&&d.focus()});$("a[href=#]").on("click",function(a){a.preventDefault()});ZAP.ui.pageIsFramed()&&
$('a[href^="/settings"]').prop("target","_blank");$(document).on("vclick",".createTour",function(){ZAP.nav.createNewTour()});$(document).on("vclick",".uploadVideo",function(){window.videoUploader||(window.videoUploader=new VideoUploader);window.videoUploader.showUploadPanel()});$(document).on("vclick",".js-export-data",function(){$("#exportData").reveal()});$(document).on("vclick",".createGroup",function(){var a=$('<form method="post" action="/groups"></form>');a.append('<input type="hidden" name="_csrf" value="'+
window.csrfToken+'">');$("body").append(a);a[0].submit()});$(document).on("click",".closeReveal",function(){$(".reveal-modal").trigger("reveal:close")});$(document).on("vclick",".joinGroup",function(){$("#joinGroup").reveal()});$(".site-message-close").on("click",function(){amplify.request({resourceId:"closeSiteMessage",data:{messageId:$(this).parent(".message-box").data("messageId")},error:function(a){ZAP.showAlert(a.message)}})});var c=parseFloat(bowser.version),a=parseFloat(bowser.osversion);!window.bowser||
bowser.chrome&&23<=c||bowser.safari&&6<=c||bowser.firefox&&18<=c||bowser.msie&&10<=c||bowser.msedge&&12<=c||bowser.ios&&7<=a||$(document).ready(function(){$(".browser-warning").addClass("triggered")});$(document).ready(function(){window.isTablet?($("#topnav").addClass("tablet-nav"),$(".top-nav-item").on("vclick",function(){if($(this).hasClass("active"))return!0;$(".top-nav-item.active").removeClass("active");$(this).addClass("active");return!1}),$(document).on("vclick",function(a){$(a.target).closest($(".top-nav-item.active")).length||
$(".top-nav-item.active").removeClass("active");return!0}),$(document).on("click",".top-nav-item.active a",function(){$(".top-nav-item.active").removeClass("active");return!0})):$("#topnav").addClass("regular-nav");$("#setLang").length&&$("#setLang").reveal();!window.needsWelcome||ZAP.ui.pageIsFramed()||window.isiPhone||($("#zaptionIntro").reveal({closeOnBackgroundClick:!1,disableEsc:!0,opened:function(){$("#zaptionIntro").css("top","20px");$("body").addClass("-hide-zenbox")}}),$("#zaptionIntro").on("reveal:closed",
function(){$("body").removeClass("-hide-zenbox");ZAP.util.track("Onboarding: Intro modal completed",{nextChoice:$("#zaptionIntro").data("createTour")?"create":"explore"});ZAP.util.updatePromosViewed("zaptionIntro",function(){$("#zaptionIntro").data("createTour")&&ZAP.nav.createNewTour()})}))})})();
(function(){var b={search:{url:"/ajax/explore/search",dataType:"json",type:"GET",decoder:"zsend",cache:6E4},explore:{url:"/ajax/explore/{gallerySection}",dataType:"json",type:"GET",decoder:"zsend",cache:6E4},browseItems:{url:"/ajax/{itemType}s",dataType:"json",type:"GET",decoder:"zsend",cache:6E4},collectionItems:{url:"/ajax/{itemType}s/collections/{collId}",dataType:"json",type:"GET",decoder:"zsend",cache:6E4},createCollection:{url:"/ajax/{itemType}s/collections",dataType:"json",type:"POST",decoder:"zsend"},
deleteCollection:{url:"/ajax/{itemType}s/collections/{id}",dataType:"json",type:"DELETE",decoder:"zsend"},deleteItem:{url:"/ajax/{itemType}s/{id}",dataType:"json",type:"DELETE",decoder:"zsend"},undeleteItem:{url:"/ajax/{itemType}s/{id}/undelete",dataType:"json",type:"POST",decoder:"zsend"},attachToLTI:{url:"/ajax/tours/{id}/lti",dataType:"json",type:"POST",decoder:"zsend"},createTour:{url:"/ajax/tours",dataType:"json",type:"POST",contentType:"application/json",decoder:"zsend"}};ZAP.defineAmplifyRequests=
function(d){_.each(d,function(c){b[c]&&amplify.request.define(c,"ajax",b[c])})}})();(function(b){b.ZAP=b.ZAP||{};b.ZAP.translate=function(d){return"en"!==b.locale&&"undefined"!==typeof b.Localize?b.Localize.translate(d):d}})(window);
